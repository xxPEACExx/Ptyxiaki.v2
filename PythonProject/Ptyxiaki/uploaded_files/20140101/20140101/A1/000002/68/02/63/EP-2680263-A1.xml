<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680263-A1" country="EP" doc-number="2680263" kind="A1" date="20140101" family-id="47227909" file-reference-id="318320" date-produced="20180824" status="corrected" lang="FR"><bibliographic-data><publication-reference fvid="146549341" ucid="EP-2680263-A1"><document-id><country>EP</country><doc-number>2680263</doc-number><kind>A1</kind><date>20140101</date><lang>FR</lang></document-id></publication-reference><application-reference ucid="EP-13174005-A" is-representative="YES"><document-id mxw-id="PAPP154823264" load-source="docdb" format="epo"><country>EP</country><doc-number>13174005</doc-number><kind>A</kind><date>20130627</date><lang>FR</lang></document-id><document-id mxw-id="PAPP182063442" load-source="docdb" format="original"><country>EP</country><doc-number>13174005.2</doc-number><date>20130627</date><lang>FR</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140445689" ucid="FR-1256131-A" load-source="docdb"><document-id format="epo"><country>FR</country><doc-number>1256131</doc-number><kind>A</kind><date>20120627</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988119344" load-source="docdb">G10L  25/21        20130101AFI20131018BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988124145" load-source="docdb">H04B   3/23        20060101ALI20131018BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988128644" load-source="docdb">H04M   9/08        20060101ALI20131018BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988096057" load-source="docdb" scheme="CPC">H04B   3/234       20130101 LI20130318BHEP        </classification-cpc><classification-cpc mxw-id="PCL2094215856" load-source="docdb" scheme="CPC">H04M   9/082       20130101 FI20130318BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180507" lang="DE" load-source="patent-office">Bewertung einer Kupplung geringer Komplexität</invention-title><invention-title mxw-id="PT132180508" lang="EN" load-source="patent-office">Estimation of low complexity coupling</invention-title><invention-title mxw-id="PT132180509" lang="FR" load-source="patent-office">Estimation de couplage à faible complexité</invention-title><citations><patent-citations><patcit mxw-id="PCIT242652285" load-source="docdb" ucid="US-8144862-B2"><document-id format="epo"><country>US</country><doc-number>8144862</doc-number><kind>B2</kind><date>20120327</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>DE BENESTY, JACOB; MORGAN, DENNIS R.; CHO, JUN H: "A New Class of Doubletalk Detectors Based on Cross-Correlation", IEEE TRANSACTIONS ON SPEECH AND AUDIO PROCESSING, vol. 8, XP011053993</text><sources><source mxw-id="PNPL56009964" load-source="docdb" name="APP"/></sources></nplcit><nplcit><text>DE GÂNSLER, THOMAS: "A Double-Talk Detector Based on Coherence", IEEE TRANSACTIONS ON COMMUNICATIONS, vol. 44, 1996, XP011008821</text><sources><source mxw-id="PNPL56009965" load-source="docdb" name="APP"/></sources></nplcit><nplcit><text>DE HAYKIN: "Adaptive Filter Theory", 1986, PRENTICE HALL-ENGLEWOOD</text><sources><source mxw-id="PNPL56009966" load-source="docdb" name="APP"/></sources></nplcit><nplcit><text>JUN H CHO ET AL: "An Objective Technique for Evaluating Doubletalk Detectors in Acoustic Echo Cancelers", IEEE TRANSACTIONS ON SPEECH AND AUDIO PROCESSING, IEEE SERVICE CENTER, NEW YORK, NY, US, vol. 7, no. 6, 1 November 1999 (1999-11-01), XP011054403, ISSN: 1063-6676</text><sources><source mxw-id="PNPL56009967" load-source="docdb" name="SEA" category="A"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918142120" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ORANGE</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR918141182" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ORANGE</last-name></addressbook></applicant><applicant mxw-id="PPAR918980621" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Orange</last-name><iid>101394618</iid><address><street>78, rue Olivier de Serres</street><city>75015 Paris</city><country>FR</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918173475" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>GUERIN ALEXANDRE</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR918165806" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>GUERIN, ALEXANDRE</last-name></addressbook></inventor><inventor mxw-id="PPAR918983946" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>GUERIN, ALEXANDRE</last-name><address><street>14, Boulevard Pierre Lemoine</street><city>35000 Rennes</city><country>FR</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918992418" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Cabinet Plasseraud</last-name><iid>100784233</iid><address><street>52, rue de la Victoire</street><city>75440 Paris Cedex 09</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548803139" load-source="docdb">AL</country><country mxw-id="DS548840501" load-source="docdb">AT</country><country mxw-id="DS548803141" load-source="docdb">BE</country><country mxw-id="DS548886684" load-source="docdb">BG</country><country mxw-id="DS548804411" load-source="docdb">CH</country><country mxw-id="DS548870563" load-source="docdb">CY</country><country mxw-id="DS548840502" load-source="docdb">CZ</country><country mxw-id="DS548803142" load-source="docdb">DE</country><country mxw-id="DS548870564" load-source="docdb">DK</country><country mxw-id="DS548870565" load-source="docdb">EE</country><country mxw-id="DS548859200" load-source="docdb">ES</country><country mxw-id="DS548886685" load-source="docdb">FI</country><country mxw-id="DS548886686" load-source="docdb">FR</country><country mxw-id="DS548803143" load-source="docdb">GB</country><country mxw-id="DS548872354" load-source="docdb">GR</country><country mxw-id="DS548803144" load-source="docdb">HR</country><country mxw-id="DS548840503" load-source="docdb">HU</country><country mxw-id="DS548804412" load-source="docdb">IE</country><country mxw-id="DS548803145" load-source="docdb">IS</country><country mxw-id="DS548886687" load-source="docdb">IT</country><country mxw-id="DS548872355" load-source="docdb">LI</country><country mxw-id="DS548859044" load-source="docdb">LT</country><country mxw-id="DS548840504" load-source="docdb">LU</country><country mxw-id="DS548859045" load-source="docdb">LV</country><country mxw-id="DS548859046" load-source="docdb">MC</country><country mxw-id="DS548856148" load-source="docdb">MK</country><country mxw-id="DS548856149" load-source="docdb">MT</country><country mxw-id="DS548840505" load-source="docdb">NL</country><country mxw-id="DS548859201" load-source="docdb">NO</country><country mxw-id="DS548804413" load-source="docdb">PL</country><country mxw-id="DS548859048" load-source="docdb">PT</country><country mxw-id="DS548840506" load-source="docdb">RO</country><country mxw-id="DS548859049" load-source="docdb">RS</country><country mxw-id="DS548840507" load-source="docdb">SE</country><country mxw-id="DS548859050" load-source="docdb">SI</country><country mxw-id="DS548804414" load-source="docdb">SK</country><country mxw-id="DS548804415" load-source="docdb">SM</country><country mxw-id="DS548856150" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA134968850" lang="EN" source="transcript" load-source="docdb"><p>The method involves determination of energy (51) of a reference signal over a set of predetermined moments, and determining energy of an echo signal at predetermined moments. The signals are decomposed (52) into frames of index samples. An energy coupling value is determined (54), and a checking is made whether a stability criterion for estimating energy coupling is satisfied (55). An energy coupling between the reference signal and the echo signal is estimated (57) based on the checking result, where the energy coupling estimate is provided as a function of energy coupling values of frames. Independent claims are also included for the following: (1) a computer program product comprising instructions for performing a method for estimating energy coupling between a sampled reference signal and a sample echo signal (2) a device for estimating energy coupling between a sampled reference signal and a sample echo signal.</p></abstract><abstract mxw-id="PA128670011" lang="FR" load-source="patent-office"><p id="pa01" num="0001">L'invention concerne un procédé d'estimation d'un couplage énergétique entre un signal de référence échantillonné et un signal d'écho échantillonné. Le procédé comprend les étapes de :<br/>
- détermination d'un signal d'énergie du signal de référence sur un ensemble d'instants prédéterminés et d'un signal d'énergie du signal d'écho aux instants prédéterminés ;<br/>
- décomposition des signaux d'énergie respectifs en trames d'indice 1 de L échantillons ;<br/>
- détermination, pour les trames respectives d'indice 1, d'une énergie de trame fonction des L échantillons de la trame ;<br/>
- pour chaque paire de trames d'indice 1, détermination d'une valeur de couplage énergétique en fonction des énergies de trames d'indice 1;<br/>
- vérification que, pour au moins M paires de trames consécutives, au moins un critère de stabilité de l'estimation du couplage est satisfait;<br/>
- en fonction du résultat de la vérification, estimation du couplage énergétique entre le signal de référence et le signal d'écho, l'estimation de couplage énergétique étant fonction des M valeurs de couplage énergétique des M paires de trames.
<img id="iaf01" file="imgaf001.tif" wi="78" he="130" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499384" lang="FR" source="EPO" load-source="docdb"><p>L'invention concerne un procédé d'estimation d'un couplage énergétique entre un signal de référence échantillonné et un signal d'écho échantillonné. Le procédé comprend les étapes de : 
- détermination d'un signal d'énergie du signal de référence sur un ensemble d'instants prédéterminés et d'un signal d'énergie du signal d'écho aux instants prédéterminés ; 
- décomposition des signaux d'énergie respectifs en trames d'indice 1 de L échantillons ; 
- détermination, pour les trames respectives d'indice 1, d'une énergie de trame fonction des L échantillons de la trame ; 
- pour chaque paire de trames d'indice 1, détermination d'une valeur de couplage énergétique en fonction des énergies de trames d'indice 1; 
- vérification que, pour au moins M paires de trames consécutives, au moins un critère de stabilité de l'estimation du couplage est satisfait; 
- en fonction du résultat de la vérification, estimation du couplage énergétique entre le signal de référence et le signal d'écho, l'estimation de couplage énergétique étant fonction des M valeurs de couplage énergétique des M paires de trames.</p></abstract><description mxw-id="PDES63955441" lang="FR" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">La présente invention concerne l'estimation de couplage énergétique entre deux signaux, et plus particulièrement entre des signaux vocaux.</p><p id="p0002" num="0002">Elle trouve des applications dans le domaine des télécommunications, et plus particulièrement dans celui de la téléphonie.</p><p id="p0003" num="0003">L'estimation du couplage énergétique qui est à l'origine d'écho dans un système de télécommunication peut être utilisée par un annuleur d'écho. Un tel couplage énergétique peut être linéaire (couplage acoustique) ou non-linéaire (couplage solidien, signaux saturés par une chaîne d'amplification).</p><p id="p0004" num="0004">Les techniques actuelles d'estimation de couplage énergétique définissent le couplage énergétique comme le rapport entre une énergie d'un signal d'écho y et une énergie d'un signal de référence x.</p><p id="p0005" num="0005">On appelle signal de référence tout signal destiné à être rendu, après traitement ou non, par un haut-parleur, tel qu'un haut parleur de téléphone mobile par exemple. Le signal de référence peut être noté <i>x</i>(<i>t</i>)<i>.</i></p><p id="p0006" num="0006">On appelle signal d'écho tout signal acquis par un microphone, tel que le microphone d'un téléphone mobile par exemple. Le signal d'écho peut être noté <i>y</i>(<i>t</i>)<i>.</i></p><p id="p0007" num="0007">On obtient alors la formule suivante pour la valeur de couplage énergétique entre les signaux de référence et d'écho : <maths id="math0001" num="(1)"><math display="block"><mi mathvariant="normal">C</mi><mo>=</mo><mfrac><mrow><mi mathvariant="normal">E</mi><mfenced separators=""><msup><mi mathvariant="normal">y</mi><mn mathvariant="normal">2</mn></msup><mfenced><mi mathvariant="normal">t</mi></mfenced></mfenced></mrow><mrow><mi mathvariant="normal">E</mi><mfenced open="{" close="}" separators=""><msup><mi mathvariant="normal">x</mi><mn mathvariant="normal">2</mn></msup><mfenced><mi mathvariant="normal">t</mi></mfenced></mfenced></mrow></mfrac></math><img id="ib0001" file="imgb0001.tif" wi="51" he="15" img-content="math" img-format="tif"/></maths><br/>
où C représente le couplage énergétique, E〈y<sup>2</sup>(t)〉 représente l'espérance de l'énergie du signal d'écho sur une période donnée et E〈x<sup>2</sup>(t)〉 représente l'espérance de l'énergie du signal de référence sur une période donnée.</p><p id="p0008" num="0008">En théorie, le couplage énergétique peut être estimé par l'équation (1), le calcul des espérances étant généralement obtenu par fenêtre glissante ou par lissage autorégressif.<!-- EPO <DP n="2"> --></p><p id="p0009" num="0009">Cependant, en pratique, la présence de perturbations rend le précédent calcul peu robuste, notamment en raison de :
<ul><li>bruit sur le microphone tel qu'un bruit de fond ou une parole locale. Le bruit modifie l'énergie sur le microphone et donc l'énergie du signal d'écho y, ce qui a pour effet de perturber l'estimation du couplage énergétique, principalement lorsque le bruit a une énergie supérieure ou égale à l'énergie du signal d'écho y ;</li><li>délai entre le microphone et le haut-parleur. Les signaux à l'origine de l'écho et présents sur le signal de référence sont des signaux de parole qui sont peu stationnaires. Ainsi, afin d'estimer le couplage en continu avec une latence réduite, il convient d'utiliser une fenêtre glissante relativement courte afin de suivre les variations du signal. Les signaux d'écho et de référence doivent alors préalablement être synchronisés afin d'éviter de mesurer un couplage énergétique entre des portions de signal qui ne se correspondent pas, et donc de provoquer un biais à l'estimation.</li></ul></p><p id="p0010" num="0010">Pour améliorer la robustesse au bruit, des détecteurs de double parole DTD (pour « Double Talk Detector » en anglais) peuvent être prévus. Un DTD est basé sur la fonction d'inter corrélation γ<sub>x,y</sub>(i,j)=E{y(t-i)x(t-j)} entre le signal de référence et le signal d'écho. En pratique, dans un système causal, il suffit de calculer la fonction d'inter corrélation pour j=0, ce qui revient à calculer γ<sub>x,y</sub>(i)=E{y(t-i)x(t)}. L'indice i désigne alors la composante γ<sub>x,y</sub>(i) du vecteur γ<sub>x,y</sub>. En considérant une norme quelconque (∥∥<sub>1,2...∞</sub>) du vecteur γ<sub>x,y</sub> en tant qu'indicateur, il est constaté, qu'en raison de l'indépendance des signaux de bruit et des signaux d'écho et dans le cas où le couplage à l'origine de l'écho est majoritairement linéaire, ∥γ<sub>x,y</sub>∥ prend des valeurs élevées lorsque le rapport écho à bruit est élevé et des valeurs faibles lorsque le rapport écho à bruit est faible.<!-- EPO <DP n="3"> --></p><p id="p0011" num="0011">Cependant, la fonction d'inter corrélation n'est pas normalisée ce qui est problématique pour prendre une décision quant à la valeur du couplage énergétique.</p><p id="p0012" num="0012">Le document <nplcit id="ncit0001" npl-type="s"><text>« A New Class of Doubletalk Detectors Based on Cross-Correlation », de Benesty, Jacob, Morgan, Dennis R. et Cho, Jun H, IEEE TRANSACTIONS ON SPEECH AND AUDIO PROCESSING, Vol. 8</text></nplcit>, propose une version normalisée de la fonction d'inter corrélation dans le domaine temporel.</p><p id="p0013" num="0013">Le document <nplcit id="ncit0002" npl-type="s"><text>« A Double-Talk Detector Based on Coherence » de Gänsler, Thomas et Al, IEEE TRANSACTIONS ON COMMUNICATIONS, 1996, Vol. 44</text></nplcit>, propose une version normalisée de la fonction d'inter corrélation dans le domaine fréquentiel. Dans ce cas, la fonction d'inter corrélation est appelée cohérence spectrale.</p><p id="p0014" num="0014">Dans la plupart des cas, le calcul de la fonction d'inter corrélation nécessaire au détecteur double parole DTD permet de déduire directement la fonction de couplage énergétique, sous la forme d'une réponse impulsionnelle ou fonction de transfert selon que l'on travaille dans le domaine temporel ou fréquentiel, tel que décrit par exemple dans le document <nplcit id="ncit0003" npl-type="b"><text>« Adaptive Filter Theory » de Haykin, Prentice Hall-Englewood, 1986</text></nplcit>.</p><p id="p0015" num="0015">Le couplage énergétique peut alors être obtenu en déterminant la norme 2 de la fonction de couplage, que ce soit dans le domaine temporel ou fréquentiel.</p><p id="p0016" num="0016">Dans le domaine temporel, l'estimation de la réponse impulsionnelle est coûteuse en ressource en ce qu'elle nécessite une inversion de matrice. A cet effet, le document précité « <i>A New Class of Doubletalk Detectors Based on Cross-Correlation</i> » propose d'utiliser un filtre adaptatif.</p><p id="p0017" num="0017">En outre, dans le cas où le couplage n'est pas linéaire, une solution plus robuste consiste à utiliser la fonction d'inter corrélation entre les enveloppes des signaux d'écho et de référence, plutôt qu'entre les signaux d'écho et de référence eux-mêmes : <maths id="math0002" num=""><math display="block"><msub><mover><mi mathvariant="normal">γ</mi><mo>˜</mo></mover><mrow><mi mathvariant="normal">x</mi><mo>,</mo><mi mathvariant="normal">y</mi></mrow></msub><mfenced><mi mathvariant="normal">i</mi></mfenced><mo>=</mo><mi mathvariant="normal">E</mi><mfenced open="{" close="}" separators=""><mfenced open="|" close="|" separators=""><mi mathvariant="normal">y</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">t</mi><mo>-</mo><mi mathvariant="normal">i</mi></mfenced></mfenced><mo>⁢</mo><mfenced open="|" close="|" separators=""><mi mathvariant="normal">x</mi><mfenced><mi mathvariant="normal">t</mi></mfenced></mfenced></mfenced></math><img id="ib0002" file="imgb0002.tif" wi="46" he="10" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="4"> --></p><p id="p0018" num="0018">Un tel indicateur peut également être normalisé de la manière précédemment décrite pour son utilisation dans un détecteur de double parole DTD.</p><p id="p0019" num="0019">Quant aux problèmes de synchronisation dus au délai entre le microphone et le haut-parleur, ils peuvent être résolus par la méthode de l'inter corrélation, en s'assurant que γ̃<sub>x,y</sub>(i) soit calculé pour des valeurs de i supérieures au retard entre le microphone et la référence (à échantillonnage donné, i étant un nombre d'échantillons pouvant être considéré comme équivalent à une durée).</p><p id="p0020" num="0020">Toutefois, les méthodes précédemment décrites sont complexes, ce qui les rend difficilement exploitables sur des terminaux à puissance de calcul limitée. Elles nécessitent en effet un détecteur de double parole DTD généralement basé sur le calcul de la fonction d'inter corrélation entre les signaux de référence et d'écho, ce qui est très complexe :
<ul><li>Dans le domaine temporel, le détecteur de double parole DTD nécessite le calcul et l'inversion d'une matrice de taille N*N, où N est un entier proportionnel à la taille de la réponse impulsionnelle du couplage entre la référence et le microphone.</li><li>Dans le domaine fréquentiel, le calcul de la cohérence spectrale nécessite au préalable de calculer une transformée de Fourier de taille proche de N, transformée dont la complexité est en O(N.log(N)).</li></ul></p><p id="p0021" num="0021">Ainsi, de telles méthodes ne peuvent être utilisées dans des terminaux possédant des ressources limitées.</p><p id="p0022" num="0022">La présente invention vient améliorer la situation.</p><p id="p0023" num="0023">Elle propose à cet effet un procédé d'estimation d'un couplage énergétique entre un signal de référence échantillonné et un signal d'écho échantillonné, le procédé comprenant:
<ul><li>détermination d'un signal d'énergie en fonction du signal de référence sur un ensemble d'instants prédéterminés et d'un signal d'énergie du signal d'écho aux instants prédéterminés;<!-- EPO <DP n="5"> --></li><li>décomposition des signaux respectifs en trames d'indice I, de L échantillons ;</li><li>détermination, pour les trames respectives d'indice I, d'une énergie de trame en fonction des L échantillons de la trame ;</li><li>pour chaque paire de trames d'indice I, détermination d'une valeur de couplage énergétique en fonction des énergies de trames d'indice I;</li><li>vérification que, pour au moins M paires de trames consécutives, au moins un critère de stabilité de l'estimation du couplage est satisfait;</li><li>en fonction du résultat de la vérification, estimation du couplage énergétique entre le signal de référence et le signal d'écho, l'estimation de couplage énergétique étant fonction des M valeurs de couplage énergétique des M paires de trames.</li></ul></p><p id="p0024" num="0024">Ainsi, la présente invention permet de déterminer une valeur de couplage énergétique pour chaque paire de trames. L'estimation est alors obtenue sur la base de M valeurs de couplage énergétique. Une telle estimation est uniquement déterminée si un critère de stabilité de l'estimation du couplage est satisfait. On entend par critère de stabilité de l'estimation du couplage, tout critère permettant de discriminer une situation dans laquelle le signal d'écho comprend uniquement de l'écho d'une situation dans laquelle le signal d'écho comprend en outre du bruit. Ce critère de stabilité joue le rôle ici de détecteur de double-parole dans les méthodes de l'état de l'art. Comme détaillé dans ce qui suit, un tel critère peut prendre en compte une latence entre deux échantillons caractérisant un signal de parole ou peut prendre en compte une disparité entre les valeurs de couplage énergétique des M trames. L'invention ne se restreint pas à ces modes de réalisation et comprend également la prise en compte de tout autre critère permettant la discrimination précitée.</p><p id="p0025" num="0025">La prise en compte d'un tel critère permet d'améliorer la fiabilité de l'estimation du couplage énergétique en ce qu'elle est déterminée uniquement dans des situations dans lesquelles le signal d'écho comprend uniquement de l'écho. La complexité d'une telle méthode est moindre comparée à l'utilisation d'un détecteur de double parole classique. En effet, la simple détermination d'un critère discriminant suffit à obtenir une fiabilité satisfaisante de l'estimation<!-- EPO <DP n="6"> --> du couplage énergétique.</p><p id="p0026" num="0026">Selon un mode de réalisation de l'invention, les instants d'échantillonnage des signaux d'énergie sont obtenus par décimation des instants d'échantillonnage des signaux de référence et d'écho par un facteur de décimation d.</p><p id="p0027" num="0027">Ainsi, la complexité de la méthode revendiquée est réduite en ce qu'on ne calcule avantageusement les énergies que pour un sous ensemble d'échantillons comparativement à l'ensemble des échantillons des signaux de référence et d'écho. De manière alternative, dans le cas où la fonction de transfert du couplage énergétique est concentrée dans les basses fréquences, l'invention peut prévoir un sous-échantillonnage des signaux d'écho et de référence, ce qui limite le nombre d'opérations nécessaires au calcul des énergies des échantillons.</p><p id="p0028" num="0028">Les instants de calcul des énergies peuvent être également issus d'un sous-échantillonnage non régulier. En effet, dans le cas où le signal de référence est intermittent comme la parole, il peut s'avérer avantageux de ne conserver que les phases d'activité de ce signal, et de ne choisir des instants que durant ces phases d'activités. En pratique, on peut utiliser une détection d'activité vocale appliquée au signal de référence pour ne sélectionner que les phases actives, détection qui peut être basée sur un simple seuil absolu, un seuil relatif, ou mettre en oeuvre des techniques plus élaborées adaptées aux signaux de parole.</p><p id="p0029" num="0029">L'invention peut en outre prévoir que les signaux d'énergie respectifs à un instant t sont déterminés par fenêtre glissante en fonction des T échantillons du signal de référence, respectivement d'écho, précédant temporellement l'instant t, T étant une taille prédéterminée de fenêtre glissante.</p><p id="p0030" num="0030">Déterminer l'énergie d'un échantillon par fenêtre glissante permet d'améliorer la fiabilité du calcul de la valeur d'énergie. La taille T peut être fixée en fonction de la stationnarité des signaux d'écho et de référence. Par exemple, dans le cas de signaux de parole, la stationnarité ne dépasse pas 30 millisecondes (ms) et ainsi, une taille de fenêtre glissante de 50 à 100 ms est satisfaisante (soit 400 à 800 échantillons précédents dans le cas d'un échantillonnage à 8 kHz).<!-- EPO <DP n="7"> --></p><p id="p0031" num="0031">Selon un mode de réalisation de l'invention, la vérification qu'au moins un critère de stabilité de l'estimation du couplage est satisfait comprend les étapes suivantes :
<ul><li>détermination de la valeur maximale parmi les M valeurs de couplage énergétique des M paires de trames,</li><li>détermination de la valeur minimale parmi les M valeurs de couplage énergétique desdites M paires de trames,</li><li>comparaison du rapport de la valeur maximale sur la valeur minimale avec un seuil prédéterminé.</li></ul></p><p id="p0032" num="0032">Si le rapport est inférieur au seuil prédéterminé, un critère de stabilité énergétique de l'estimation du couplage est satisfait et l'estimation du couplage énergétique est déterminée en fonction des M valeurs de couplage énergétique.</p><p id="p0033" num="0033">Ainsi, l'estimation du couplage énergétique est effectuée uniquement dans des cas où le signal d'écho comprend seulement de l'écho (peu de bruit). En effet, en situation d'écho, les valeurs de couplage énergétique des M trames successives sont relativement stables, tandis qu'en présence de perturbations, les valeurs de couplage énergétique déterminées sont fortement perturbées.</p><p id="p0034" num="0034">L'invention peut prévoir que, pour chaque trame d'indice I du signal de référence, l'énergie de trame est égale à l'énergie maximale de la trame d'indice I du signal de référence, correspondant à un instant k<sub>max1</sub>.</p><p id="p0035" num="0035">En complément, l'énergie de trame de la trame d'indice I du signal d'écho est égale à l'énergie du signal d'écho à l'instant k<sub>max1</sub>.</p><p id="p0036" num="0036">Ainsi, en déterminant l'instant k<sub>max1</sub> pour lequel l'énergie est maximale dans la trame I du signal de référence, il est probable que ce même instant corresponde à l'énergie maximale pour la trame I du signal d'écho. Ainsi, le rapport écho sur bruit est maximisé. Une telle réalisation est préférentielle dans le cas où le retard du signal d'écho par rapport au signal de référence est relativement faible (en pratique, lorsqu'il est inférieur à la taille T de la fenêtre utilisée pour le calcul des valeurs d'énergie).</p><p id="p0037" num="0037">Alternativement, la détermination de l'énergie de trame de la trame d'indice I du signal d'écho est égale à l'énergie maximale de la trame d'indice I du signal d'écho, correspond à un instant k<sub>max2</sub>.</p><p id="p0038" num="0038">Cette alternative permet de fiabiliser le calcul de la valeur de<!-- EPO <DP n="8"> --> couplage énergétique lorsque la latence entre le signal de référence et le signal d'écho est importante en regard de la taille d'une trame. En effet, si par exemple la latence entre les signaux est supérieure à la moitié de la taille de la trame, les signaux de référence et d'écho ne sont plus synchronisés. A cet effet, cette alternative propose de déterminer en outre l'instant k<sub>max2</sub> auquel l'énergie du signal d'écho est maximale ce qui permet de synchroniser les signaux d'écho et de référence (et par conséquent les signaux d'énergie) et d'ainsi rendre la valeur de couplage énergétique proche de la valeur réelle.</p><p id="p0039" num="0039">De manière complémentaire, il peut être avantageux de prévoir la recherche de l'instant k<sub>max2</sub> non seulement parmi les L énergies de la trame d'indice I du signal d'écho, mais également parmi au moins certaines des premières énergies de la trame d'indice I+1 du signal d'écho, ce qui permet de fiabiliser la mesure de la valeur de couplage énergétique pour la paire de trames d'indice I.</p><p id="p0040" num="0040">En complément, l'instant k<sub>max2</sub> est obtenu par recherche de l'énergie maximale parmi les énergies aux instants postérieurs à l'instant k<sub>max1</sub>. En effet, les systèmes à l'origine de l'écho sont généralement causaux, c'est-à-dire que le signal d'écho est en retard par rapport au signal de référence. Dans ce cas, il est avantageux de ne rechercher l'indice k<sub>max2</sub> que dans les instants suivants k<sub>max1</sub>, ce qui en pratique augmente la fiabilité de la méthode et réduit en moyenne la complexité de la recherche.</p><p id="p0041" num="0041">Selon un mode de réalisation, la vérification qu'au moins un critère de l'estimation du couplage est satisfait comprend :
<ul><li>pour chaque paire de trames parmi les M paires de trames, déterminer une latence correspondant à la différence entre un instant k<sub>max1</sub> d'énergie maximale de la trame du signal de référence et un instant k<sub>max2</sub> d'énergie maximale de la trame du signal d'écho,</li><li>détermination de la valeur maximale parmi les M latences des M paires de trames,</li><li>détermination de la valeur minimale parmi les M latence desdites M paires de trames,</li><li>comparaison de la différence entre la valeur maximale et la valeur minimale avec un seuil prédéterminé.</li></ul><!-- EPO <DP n="9"> -->
Si la différence est inférieure au seuil prédéterminé, un critère de stabilité temporelle de l'estimation du couplage est satisfait et l'estimation du couplage énergétique est déterminée en fonction des M valeurs de couplage énergétique.</p><p id="p0042" num="0042">Ainsi, ce mode de réalisation permet de renforcer la décision de prendre en compte ou non l'estimation du couplage entre le signal d'écho et le signal de référence en ce qu'il introduit un critère de stabilité temporelle, particulièrement utile lorsque les fonctions de transfert ont une réponse en fréquence présentant de fortes atténuations dans les bandes où le signal de référence est très énergétique.</p><p id="p0043" num="0043">En complément, les critères de stabilité temporelle et énergétique sont tous deux pris en compte au moyen d'un classificateur Bayésien ou d'une Chaîne de Markov Cachée à plusieurs observations, afin de déterminer la validité de l'estimation du couplage énergétique entre le signal de référence et le signal d'écho.</p><p id="p0044" num="0044">Ainsi, en combinant plusieurs critères discriminants, la fiabilité du procédé est renforcée.</p><p id="p0045" num="0045">L'invention peut prévoir que l'estimation du couplage énergétique entre le signal de référence et le signal d'écho est déterminée à partir de l'une des fonctions suivantes :
<ul><li>la moyenne des M valeurs de couplage énergétique des M paires de trames ;</li><li>la moyenne logarithmique des M valeurs de couplage énergétique des M paires de trames ;</li><li>la moyenne de la norme 2 des M valeurs de couplage énergétique des M paires de trames ; ou</li><li>la médiane des M valeurs de couplage énergétique des M paires de trames.</li></ul></p><p id="p0046" num="0046">Un deuxième aspect de l'invention concerne un produit programme d'ordinateur comprenant des instructions de code de programme enregistrées sur un support lisible par un ordinateur, pour l'exécution par un processeur des étapes du procédé selon le premier aspect de l'invention.</p><p id="p0047" num="0047">Un troisième aspect de l'invention concerne un dispositif d'estimation d'un couplage énergétique entre un signal de référence échantillonné et un<!-- EPO <DP n="10"> --> signal d'écho échantillonné, le dispositif comprenant:
<ul><li>une première unité de détermination d'un signal d'énergie du signal de référence sur un ensemble d'instants prédéterminés en fonction du signal de référence et d'un signal d'énergie du signal d'écho aux instants prédéterminés;</li><li>une unité de décomposition des signaux d'énergie respectifs en trames d'indice I, de L échantillons ;</li><li>une seconde unité de détermination, pour les trames respectives d'indice I, d'une énergie de trame en fonction des L échantillons de la trame ;</li><li>une troisième unité de détermination, pour chaque paire de trames d'indice I, d'une valeur de couplage énergétique en fonction des énergies de trames d'indice I ;</li><li>une unité de vérification que, pour au moins M paires de trames consécutives, au moins un critère de stabilité de l'estimation du couplage est satisfait;</li><li>une quatrième unité de détermination, en fonction du résultat de la vérification, de l'estimation du couplage énergétique entre le signal de référence et le signal d'écho, l'estimation de couplage énergétique étant fonction des M valeurs de couplage énergétique des M paires de trames.</li></ul></p><p id="p0048" num="0048">Un quatrième aspect de l'invention concerne un terminal mobile de télécommunications comprenant un dispositif d'estimation d'un couplage énergétique entre un signal de référence échantillonné et un signal d'écho échantillonné selon le troisième aspect de l'invention.</p><p id="p0049" num="0049">D'autres caractéristiques et avantages de l'invention apparaîtront à l'examen de la description détaillée ci-après, et des dessins annexés sur lesquels:
<ul><li>la <figref idrefs="f0001">figure 1</figref> illustre un terminal de communication selon un mode de réalisation de l'invention ;</li><li>la <figref idrefs="f0001">figure 2</figref> présente un dispositif d'estimation de couplage énergétique entre un signal de référence et un signal d'écho, selon un mode de réalisation de l'invention ;</li><li>la <figref idrefs="f0002">figure 3</figref> présente des résultats obtenus par mise en oeuvre du<!-- EPO <DP n="11"> --> dispositif représenté sur la <figref idrefs="f0001">figure 2</figref>, selon un mode de réalisation ;</li></ul>
<ul><li>la <figref idrefs="f0003">figure 4</figref> présente des résultats obtenus par mise en oeuvre du dispositif représenté sur la <figref idrefs="f0001">figure 2</figref>, selon un autre mode de réalisation ;</li><li>la <figref idrefs="f0004">figure 5</figref> est un diagramme illustrant les étapes d'un procédé selon certains modes de réalisation de l'invention.</li></ul></p><p id="p0050" num="0050">La <figref idrefs="f0001">figure 1</figref> illustre un terminal de communication selon un mode de réalisation de l'invention.</p><p id="p0051" num="0051">Le terminal 1 comprend un haut-parleur 2 apte à restituer un signal de référence reçu par le terminal 1, ainsi qu'un microphone 3 apte à acquérir un signal d'écho. Le terminal 1 comprend en outre un filtre adaptatif 4 apte à réduire l'écho dans le signal d'écho reçu du microphone 3, sur la base d'une estimation du couplage énergétique entre le signal de référence et le signal d'écho. L'estimation du couplage énergétique est déterminée par un premier dispositif d'estimation de couplage énergétique 6 apte à recevoir le signal de référence et le signal d'écho.</p><p id="p0052" num="0052">Le terminal 1 comprend un processeur non-linéaire pour la compensation d'écho du signal d'écho, et apte à recevoir une estimation d'écho depuis un second dispositif d'estimation de couplage énergétique 7.</p><p id="p0053" num="0053">La <figref idrefs="f0001">figure 2</figref> illustre un dispositif 10 d'estimation du couplage énergétique entre un signal d'écho et un signal de référence.</p><p id="p0054" num="0054">Le dispositif 10 peut être utilisé en tant que premier dispositif 6 et/ou second dispositif 7 dans le terminal de télécommunication illustré à la <figref idrefs="f0001">figure 1</figref>.</p><p id="p0055" num="0055">Le dispositif 10 comprend une première interface 11 pour la réception du signal de référence échantillonné et une deuxième interface 12 pour la réception du signal d'écho échantillonné.</p><p id="p0056" num="0056">Les signaux de référence et d'écho peuvent être échantillonnés en N échantillons sur une période donnée. On considère que les signaux de référence et d'écho ont une base temporelle commune. Ainsi, on appelle échantillons correspondants, un échantillon du signal de référence correspondant au même instant qu'un échantillon du signal d'écho.</p><p id="p0057" num="0057">Les signaux d'écho et de référence sont transmis à une première<!-- EPO <DP n="12"> --> unité de détermination 13 apte à déterminer un signal d'énergie du signal de référence sur un ensemble d'instants prédéterminés et un signal d'énergie du signal d'écho aux instants prédéterminés. Chaque signal d'énergie comprend alors un échantillon d'énergie à chaque instant prédéterminé, le nombre d'échantillons d'énergie pouvant correspondre au nombre total d'échantillons présents dans le signal de référence ou d'écho. Toutefois, l'invention peut prévoir que les instants prédéterminés soient espacés de d échantillons du signal de référence ou d'écho, d étant un facteur de décimation.</p><p id="p0058" num="0058">Les instants prédéterminés peuvent ne pas être régulièrement espacés Afin de fiabiliser la mesure et de limiter les calculs, il est parfois préférable, notamment sur les signaux intermittents comme la parole, de ne conserver que les phases où le signal est effectivement actif. En pratique, on pourra utiliser une détection d'activité vocale appliquée sur le signal de référence, et ne choisir les instants d'échantillonnage des signaux d'énergie que sur ces phases d'activité.</p><p id="p0059" num="0059">En outre, il est possible de sous échantillonner les signaux de référence et d'écho (entre les interfaces 11 et 12 et la première unité de détermination 13) afin de limiter les calculs des valeurs d'énergie, notamment lorsque la fonction de transfert du couplage énergétique est concentrée dans les basses fréquences.</p><p id="p0060" num="0060">L'énergie du signal de référence à chaque instant prédéterminé peut être déterminée par fenêtre glissante en fonction de T échantillons du signal de référence précédant temporellement l'instant prédéterminé, en considérant une taille de fenêtre étant égale à T, T étant exprimé en nombre d'échantillons. De même, l'énergie du signal d'écho à chaque instant prédéterminé peut être déterminée par fenêtre glissante en fonction de T échantillons du signal d'écho précédant temporellement l'instant prédéterminé.</p><p id="p0061" num="0061">Dans la suite, on note R<sub>x</sub> le signal de référence et T<sub>x</sub> le signal d'écho. Les énergies aux instant <i>i</i>, notées E<sub>Rx</sub>(i) et E<sub>Tx</sub>(i) peuvent être calculées de la façon suivante : <maths id="math0003" num=""><math display="block"><msub><mi mathvariant="normal">E</mi><mi>Rx</mi></msub><mfenced><mi mathvariant="normal">i</mi></mfenced><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi mathvariant="normal">t</mi><mo>=</mo><mn mathvariant="normal">0</mn></mrow><mrow><mi mathvariant="normal">T</mi><mo>-</mo><mn mathvariant="normal">1</mn></mrow></munderover></mstyle><msup><msub><mi mathvariant="normal">R</mi><mi mathvariant="normal">x</mi></msub><mn mathvariant="normal">2</mn></msup><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">i</mi><mo>-</mo><mi mathvariant="normal">t</mi></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="42" he="17" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="13"> --> <maths id="math0004" num=""><math display="block"><msub><mi mathvariant="italic">E</mi><mi mathvariant="italic">Tx</mi></msub><mfenced><mi>i</mi></mfenced><mo>=</mo><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn mathvariant="normal">0</mn></mrow><mrow><mi>T</mi><mo>-</mo><mn mathvariant="normal">1</mn></mrow></munderover></mstyle><msup><msub><mi>T</mi><mi>x</mi></msub><mn mathvariant="normal">2</mn></msup><mo>⁢</mo><mfenced separators=""><mi>i</mi><mo>-</mo><mi>t</mi></mfenced></math><img id="ib0004" file="imgb0004.tif" wi="40" he="15" img-content="math" img-format="tif"/></maths></p><p id="p0062" num="0062">Selon une variante, on peut prévoir une fenêtre centrée sur l'instant prédéterminé auquel on détermine l'énergie.</p><p id="p0063" num="0063">La valeur de T peut être choisie en fonction de la stationnarité des signaux d'écho et de référence. Dans le cas de signaux de parole, la stationnarité ne dépasse pas 30ms, et ainsi, une taille de fenêtre glissante de 50 à 100ms est satisfaisante (soir 400 à 800 échantillons dans le cas d'un échantillonnage à 8kHz). En deçà de cette valeur, la variance du couplage énergétique est très importante ce qui peut fortement affecter la fiabilité du calcul de l'estimation. Au-delà de cette valeur, la robustesse du calcul du couplage énergétique peut être affectée car la distinction entre les situations d'écho seul et les situations de bruit sur le signal d'écho ne sont plus distinguables.</p><p id="p0064" num="0064">D'autres méthodes peuvent également être utilisées pour le calcul des énergies, comme le lissage autorégressif d'ordre 1 par exemple.</p><p id="p0065" num="0065">A la sortie de la première unité de détermination 13, le dispositif 10 comprend une unité de décomposition 14 des signaux d'énergie respectifs en trames d'indice I de L échantillons.</p><p id="p0066" num="0066">En variante, il peut être prévu de décomposer les signaux de manière à ce que chaque trame comprenne un échantillon correspondant à un signal de parole.</p><p id="p0067" num="0067">Des paires de trames sont ainsi formées, chaque paire comprenant la trame d'indice I du signal d'énergie du signal de référence et la trame d'indice I du signal d'énergie du signal d'écho. Chaque paire de trames peut ainsi être indexée par l'indice I.</p><p id="p0068" num="0068">Chaque paire de trame d'indice I comprend donc L échantillons d'énergie.</p><p id="p0069" num="0069">La taille L des trames peut être choisie de manière à avoir, pour chaque trame, un échantillon du signal de référence suffisamment énergétique pour générer de l'écho au niveau du signal d'écho. En contrepartie, la taille L ne doit pas être trop importante afin d'éviter d'avoir plusieurs segments de parole énergétiques, ce qui peut dégrader la robustesse associée à la détermination<!-- EPO <DP n="14"> --> de l'estimation du couplage énergétique. En pratique, on peut fixer L entre 100 et 400ms (la taille L est dans ce cas exprimée en secondes, le nombre d'échantillons correspondants dépendant de l'échantillonnage des signaux et du facteur de décimation d). A noter qu'il peut être prévu des tailles variables de trames. Dans ce qui suit, nous considérons une longueur fixe de trame, chaque trame comportant L échantillons.</p><p id="p0070" num="0070">A la sortie de l'unité de décomposition 14, le dispositif 10 comprend une deuxième unité de détermination 15 apte à déterminer, pour les trames respectives d'indice I, une énergie de trame <maths id="math0005" num=""><math display="inline"><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Rx</mi><mi mathvariant="normal">l</mi></msubsup></math><img id="ib0005" file="imgb0005.tif" wi="8" he="9" img-content="math" img-format="tif" inline="yes"/></maths> respectivement <maths id="math0006" num=""><math display="inline"><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Tx</mi><mi mathvariant="normal">l</mi></msubsup></math><img id="ib0006" file="imgb0006.tif" wi="8" he="8" img-content="math" img-format="tif" inline="yes"/></maths> en fonction des L échantillons de la trame.</p><p id="p0071" num="0071">Pour la suite des calculs, on note <maths id="math0007" num=""><math display="inline"><msubsup><mi mathvariant="normal">E</mi><mi>Rx</mi><mi mathvariant="normal">l</mi></msubsup><mfenced><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0007" file="imgb0007.tif" wi="14" he="8" img-content="math" img-format="tif" inline="yes"/></maths> l'énergie de l'échantillon à l'instant k de la trame d'indice I du signal d'énergie du signal de référence et on note <maths id="math0008" num=""><math display="inline"><msubsup><mi mathvariant="normal">E</mi><mi>Tx</mi><mi mathvariant="normal">l</mi></msubsup><mfenced><mi mathvariant="normal">k</mi></mfenced></math><img id="ib0008" file="imgb0008.tif" wi="14" he="7" img-content="math" img-format="tif" inline="yes"/></maths> l'énergie de l'échantillon à l'instant k de la trame d'indice I du signal d'énergie du signal d'écho.</p><p id="p0072" num="0072">Selon une première approche, la détermination des énergies des trames d'indice I comprend la détermination de l'instant k<sub>max1</sub> pour lequel l'énergie du signal de référence est maximale dans la trame d'indice I. L'énergie de trame d'indice I, notée <maths id="math0009" num=""><math display="inline"><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Rx</mi><mi mathvariant="normal">l</mi></msubsup><mo>,</mo></math><img id="ib0009" file="imgb0009.tif" wi="10" he="8" img-content="math" img-format="tif" inline="yes"/></maths> du signal de référence est alors égale à l'énergie du signal de référence à l'instant k<sub>max1</sub> (choisi parmi les instants prédéterminés), et dans une première approche, l'énergie de trame d'indice I, notée <maths id="math0010" num=""><math display="inline"><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Tx</mi><mi mathvariant="normal">l</mi></msubsup><mo>,</mo></math><img id="ib0010" file="imgb0010.tif" wi="10" he="8" img-content="math" img-format="tif" inline="yes"/></maths> du signal d'écho est égale à l'énergie du signal d'écho à l'instant k<sub>max1</sub>.</p><p id="p0073" num="0073">Soit <i>arg</i> la fonction 'argument' n a ainsi les relations suivantes : <maths id="math0011" num=""><math display="block"><msub><mi>k</mi><mrow><mi>max</mi><mo>⁢</mo><mn>1</mn></mrow></msub><mfenced><mi>l</mi></mfenced><mo>=</mo><mi>arg</mi><mfenced separators=""><munder><mi>max</mi><mi>k</mi></munder><mfenced separators=""><msubsup><mi>E</mi><mi mathvariant="italic">Rx</mi><mi>l</mi></msubsup><mfenced><mi>k</mi></mfenced></mfenced></mfenced></math><img id="ib0011" file="imgb0011.tif" wi="56" he="12" img-content="math" img-format="tif"/></maths> pour k variant parmi les instants prédéterminés de la trame I ; <maths id="math0012" num=""><math display="block"><msubsup><mover><mi>E</mi><mo>˜</mo></mover><mi mathvariant="italic">Rx</mi><mi>l</mi></msubsup><mo>=</mo><msubsup><mi>E</mi><mi mathvariant="italic">Rx</mi><mi>l</mi></msubsup><mfenced separators=""><msub><mi>k</mi><mrow><mi>max</mi><mo>⁢</mo><mn>1</mn></mrow></msub><mfenced><mi>l</mi></mfenced></mfenced><mo>;</mo></math><img id="ib0012" file="imgb0012.tif" wi="40" he="10" img-content="math" img-format="tif"/></maths> <maths id="math0013" num=""><math display="block"><msubsup><mover><mi>E</mi><mo>˜</mo></mover><mi mathvariant="italic">Tx</mi><mi>l</mi></msubsup><mo>=</mo><msubsup><mi>E</mi><mi mathvariant="italic">Tx</mi><mi>l</mi></msubsup><mfenced separators=""><msub><mi>k</mi><mrow><mi>max</mi><mo>⁢</mo><mn>1</mn></mrow></msub><mfenced><mi>l</mi></mfenced></mfenced><mo>;</mo></math><img id="ib0013" file="imgb0013.tif" wi="40" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0074" num="0074">Le dispositif 1 comprend en outre une troisième unité de détermination 16 de la valeur de couplage énergétique de chaque paire de<!-- EPO <DP n="15"> --> trames d'indice I, en fonction des énergies de trames d'indice I. Le calcul suivant peut être effectué : <maths id="math0014" num=""><math display="block"><mi>Cpl</mi><mfenced><mi mathvariant="normal">l</mi></mfenced><mo>=</mo><mfrac><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Rx</mi><mi mathvariant="normal">l</mi></msubsup><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Tx</mi><mi mathvariant="normal">l</mi></msubsup></mfrac></math><img id="ib0014" file="imgb0014.tif" wi="25" he="17" img-content="math" img-format="tif"/></maths><br/>
où Cpl(I) représente la valeur de couplage énergétique de la paire de trames d'indice I.</p><p id="p0075" num="0075">A l'instant k<sub>max</sub>(I), la probabilité que k<sub>max1</sub>(I) soit également l'instant auquel le signal d'écho a une énergie maximale dans la trame d'indice I, est forte. Ainsi, le rapport écho sur bruit est maximisé, et l'estimation de Cpl(I) n'est pas ou peu biaisée. Le fait de sélectionner le même instant <i>k</i><sub>max1</sub>(<i>l</i>) permet de synchroniser les signaux d'énergie. La première approche est particulièrement adaptée lorsque le retard du signal d'écho sur le signal de référence est relativement faible (en pratique inférieur à la taille T utilisée pour déterminer les signaux d'énergie).</p><p id="p0076" num="0076">Selon une seconde approche, la détermination des énergies des trames d'indice I comprend la détermination de l'instant k<sub>max1</sub> (parmi les instants prédéterminés) pour lequel l'énergie du signal de référence est maximale, et de l'indice k<sub>max2</sub> (parmi les instants prédéterminés) pour lequel l'énergie du signal d'écho est maximale. L'énergie de trame d'indice I, notée <maths id="math0015" num=""><math display="inline"><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Rx</mi><mi mathvariant="normal">l</mi></msubsup><mo>,</mo></math><img id="ib0015" file="imgb0015.tif" wi="9" he="8" img-content="math" img-format="tif" inline="yes"/></maths> du signal de référence est alors égale à l'énergie du signal de référence à l'instant k<sub>max1</sub> dans la trame d'indice I, et l'énergie de trame d'indice I, notée <maths id="math0016" num=""><math display="inline"><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Tx</mi><mi mathvariant="normal">l</mi></msubsup><mo>,</mo></math><img id="ib0016" file="imgb0016.tif" wi="10" he="9" img-content="math" img-format="tif" inline="yes"/></maths> du signal d'écho est égale à l'énergie du signal d'écho à l'instant k<sub>max2</sub> dans la trame d'indice I.</p><p id="p0077" num="0077">On obtient ainsi les relations suivantes : <maths id="math0017" num=""><math display="inline"><msub><mi>k</mi><mrow><mi>max</mi><mspace width="1em"/><mn>1</mn></mrow></msub><mfenced><mi>l</mi></mfenced><mo>=</mo><mi>arg</mi><mfenced separators=""><munder><mi>max</mi><mi>k</mi></munder><mfenced separators=""><msubsup><mi>E</mi><mi mathvariant="italic">Rx</mi><mi>l</mi></msubsup><mfenced><mi>k</mi></mfenced></mfenced></mfenced><mo>,</mo></math><img id="ib0017" file="imgb0017.tif" wi="55" he="10" img-content="math" img-format="tif" inline="yes"/></maths> pour k variant parmi les instants prédéterminés ; <maths id="math0018" num=""><math display="inline"><msub><mi>k</mi><mrow><mi>max</mi><mspace width="1em"/><mn>2</mn></mrow></msub><mfenced><mi>l</mi></mfenced><mo>=</mo><mi>arg</mi><mfenced separators=""><munder><mi>max</mi><mi>k</mi></munder><mfenced separators=""><msubsup><mi>E</mi><mi mathvariant="italic">Tx</mi><mi>l</mi></msubsup><mfenced><mi>k</mi></mfenced></mfenced></mfenced><mo>,</mo></math><img id="ib0018" file="imgb0018.tif" wi="55" he="10" img-content="math" img-format="tif" inline="yes"/></maths> pour k variant parmi les instants prédéterminés; <maths id="math0019" num=""><math display="block"><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Rx</mi><mi mathvariant="normal">l</mi></msubsup><mo>=</mo><msubsup><mi mathvariant="normal">E</mi><mi>Rx</mi><mi mathvariant="normal">l</mi></msubsup><mfenced separators=""><msub><mi mathvariant="normal">k</mi><mrow><mi>max</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mrow></msub><mfenced><mi mathvariant="normal">l</mi></mfenced></mfenced><mo>;</mo></math><img id="ib0019" file="imgb0019.tif" wi="42" he="13" img-content="math" img-format="tif"/></maths> <maths id="math0020" num=""><math display="block"><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Tx</mi><mi mathvariant="normal">l</mi></msubsup><mo>=</mo><msubsup><mi mathvariant="normal">E</mi><mi>Tx</mi><mi mathvariant="normal">l</mi></msubsup><mfenced separators=""><msub><mi mathvariant="normal">k</mi><mrow><mi>max</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mrow></msub><mfenced><mi mathvariant="normal">l</mi></mfenced></mfenced><mo>;</mo></math><img id="ib0020" file="imgb0020.tif" wi="42" he="13" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="16"> --> <maths id="math0021" num=""><math display="block"><mi>Cpl</mi><mfenced><mi mathvariant="normal">l</mi></mfenced><mo>=</mo><mfrac><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Rx</mi><mi mathvariant="normal">l</mi></msubsup><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Tx</mi><mi mathvariant="normal">l</mi></msubsup></mfrac></math><img id="ib0021" file="imgb0021.tif" wi="30" he="17" img-content="math" img-format="tif"/></maths><br/>
où Cpl(I) représente la valeur de couplage énergétique de la paire de trames d'index I.</p><p id="p0078" num="0078">La seconde approche permet de fiabiliser le calcul des valeurs de couplage énergétique lorsque les latences sont importantes entre le signal d'écho et le signal de référence, par rapport à la taille L de trame. En effet, si la latence est plus grande que la moitié de la taille L de trame, les signaux de référence et d'écho, et par conséquent les signaux d'énergie respectifs, ne sont plus synchronisés. Ainsi, déterminer les deux instants auxquels les signaux d'énergie sont respectivement au maximum permet de synchroniser les signaux d'énergie et d'ainsi rendre la variable Cpl(I) proche de la valeur de couplage énergétique réelle.</p><p id="p0079" num="0079">En complément de cette seconde approche, il peut convenir, afin d'assurer la synchronisation des signaux d'énergie, de prendre en compte l'énergie du signal d'écho au début de la trame I+1, afin de déterminer k<sub>max2</sub>, le nombre d'échantillons supplémentaires du signal d'énergie à considérer dans la trame I+1 dépendant du retard maximal du signal d'écho par rapport au signal de référence. Une alternative à cette méthode, serait de ne pas prendre en compte les derniers échantillons de la trame I du signal d'énergie du signal de référence, afin de déterminer k<sub>max1</sub>, le nombre de derniers échantillons à ne pas considérer dans la fin de la trame I dépendant du retard maximal du signal d'écho par rapport au signal de référence. Le calcul de la valeur de couplage Cpl(I) est ainsi fiabilisée.</p><p id="p0080" num="0080">Toujours en complément à la seconde approche, dans le cas où le système est causal (le signal d'écho est en retard par rapport au signal de référence, ce qui est vérifié en pratique), la détermination de l'instant k<sub>max2</sub> peut être effectuée dans la zone postérieure à l'instant k<sub>max1</sub>.</p><p id="p0081" num="0081">On a alors la relation suivante pour k<sub>max2</sub> : <maths id="math0022" num=""><math display="inline"><msub><mi>k</mi><mrow><mi>max</mi><mspace width="1em"/><mn>2</mn></mrow></msub><mfenced><mi>l</mi></mfenced><mo>=</mo><mi>arg</mi><mfenced separators=""><munder><mi>max</mi><mrow><mi>k</mi><mo>≥</mo><msub><mi>k</mi><mrow><mi>max</mi><mspace width="1em"/><mn>1</mn></mrow></msub></mrow></munder><mfenced separators=""><msubsup><mi>E</mi><mi mathvariant="italic">Tx</mi><mi>l</mi></msubsup><mfenced><mi>k</mi></mfenced></mfenced></mfenced><mo>,</mo></math><img id="ib0022" file="imgb0022.tif" wi="56" he="12" img-content="math" img-format="tif" inline="yes"/></maths> pour k variant parmi les instants prédéterminés entre les instants k<sub>max1</sub> et l'instant du dernier échantillon de la trame I.<!-- EPO <DP n="17"> --></p><p id="p0082" num="0082">A la sortie de la troisième unité de détermination 16, le dispositif 10 comprend une unité de vérification 17 adaptée pour vérifier que, pour au moins M paires de trames consécutives, au moins un critère de stabilité de l'estimation du couplage est satisfait.</p><p id="p0083" num="0083">On appelle critère de stabilité de l'estimation de couplage tout critère permettant de discriminer une situation durant laquelle le signal d'écho correspond uniquement à de l'écho et une situation dans laquelle le signal d'écho est très bruité.</p><p id="p0084" num="0084">Or, les valeurs de Cpl(I) ont deux comportements distincts selon que l'on soit en situation d'écho seul ou en situation fortement bruitée.</p><p id="p0085" num="0085">En situation d'écho seul, les valeurs de Cpl(I) doivent en théorie être constantes, tandis qu'en présence de perturbations (cas de rapport écho à bruit faible), les valeurs Cpl(I) sont fortement perturbées et sont très éloignées des valeurs réelles de couplage énergétique.</p><p id="p0086" num="0086">En pratique cependant, les valeurs Cpl(I) sont bruitées du fait :
<ul><li>de la nature non stationnaire des signaux réels. Dans ce cas, si les signaux d'énergie ne sont pas correctement synchronisées, les valeurs Cpl(I) sont éloignées des valeurs réelles de couplage énergétique du fait de la variation d'énergie du signal d'excitation (signal de parole dans le cas présent) ;</li><li>de la fonction de transfert générant l'écho. La fonction de transfert agit comme un filtre qui vient modifier le spectre des signaux : comme le spectre du signal d'excitation varie en fonction du temps, le couplage observé varie également avec le signal.</li></ul></p><p id="p0087" num="0087">Afin d'estimer de manière fiable le couplage énergétique entre le signal de référence et le signal d'écho, la suite de valeurs Cpl(I) peut être considérée comme une variable aléatoire. En présence d'écho seul, les valeurs de Cpl(I) oscillent autour de la valeur de couplage réelle, alors qu'en présence de perturbations (bruit ou parole sur le microphone 3), la variable Cpl(I) prend des valeurs aléatoires. La présente invention propose d'appliquer un algorithme de décision permettant de discriminer les phases d'écho seul des phases bruitées, afin de choisir les paires de trames dans lesquelles l'écho est prépondérant et pour lesquelles la valeur de couplage énergétique est fiable.<!-- EPO <DP n="18"> --></p><p id="p0088" num="0088">Une approche heuristique consiste à considérer chaque valeur Cpl(I) comme fiable si et seulement si les M dernières valeurs de Cpl(I) sont proches les unes des autres.</p><p id="p0089" num="0089">La variable ΔCpl(I) peut alors être définie comme une mesure de variabilité des valeurs de Cpl(I). Par exemple, on peut définir : <maths id="math0023" num=""><math display="block"><mi mathvariant="normal">ΔCpl</mi><mfenced><mi mathvariant="normal">l</mi></mfenced><mo>=</mo><mfrac><mrow><munder><mi>max</mi><mrow><mi mathvariant="normal">i</mi><mo>=</mo><mn mathvariant="normal">0</mn><mo>,</mo><mo>…</mo><mo>,</mo><mi mathvariant="normal">M</mi><mo>-</mo><mn mathvariant="normal">1</mn></mrow></munder><mfenced open="{" close="}" separators=""><mi>Cpl</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">l</mi><mo>-</mo><mi mathvariant="normal">i</mi></mfenced></mfenced></mrow><mrow><munder><mi>min</mi><mrow><mi mathvariant="normal">i</mi><mo>=</mo><mn mathvariant="normal">0</mn><mo>,</mo><mo>…</mo><mo>,</mo><mi mathvariant="normal">M</mi><mo>-</mo><mn mathvariant="normal">1</mn></mrow></munder><mfenced open="{" close="}" separators=""><mi>Cpl</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">l</mi><mo>-</mo><mi mathvariant="normal">i</mi></mfenced></mfenced></mrow></mfrac></math><img id="ib0023" file="imgb0023.tif" wi="51" he="19" img-content="math" img-format="tif"/></maths><br/>
Δ Cpl(I) mesure ainsi la disparité logarithmique de la variable Cpl(I) dans une zone d'observation de M trames consécutives.</p><p id="p0090" num="0090">Afin de déterminer si un critère de stabilité énergétique est vérifié, ΔCpl(I) peut être comparé à un seuil Δ<sub>Cpl</sub>. Si ΔCpl(I) est inférieur à Δ<sub>Cpl</sub>, alors le critère de stabilité énergétique est satisfait et l'estimation du couplage énergétique pour la trame I, noté C̃(I), est déterminé par une quatrième unité de détermination 18, de la manière suivante : <maths id="math0024" num=""><math display="block"><mover><mi mathvariant="normal">C</mi><mo>˜</mo></mover><mfenced><mi mathvariant="normal">l</mi></mfenced><mo>=</mo><mi mathvariant="normal">g</mi><mo>⁢</mo><mfenced separators=""><mi>Cpl</mi><mfenced><mi mathvariant="normal">l</mi></mfenced><mo>,</mo><mi>Cpl</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">l</mi><mo>-</mo><mn mathvariant="normal">1</mn></mfenced><mo>,</mo><mo>…</mo><mo>,</mo><mi>Cpl</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">l</mi><mo>-</mo><mi mathvariant="normal">M</mi><mo>+</mo><mn mathvariant="normal">1</mn></mfenced></mfenced></math><img id="ib0024" file="imgb0024.tif" wi="81" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0091" num="0091">Le seuil Δ<sub>Cpl</sub> et le nombre M peuvent être déterminés de manière expérimentale en fonction des caractéristiques des conditions rencontrées. Par exemple, un classificateur Bayésien peut être employé pour déterminer la valeur du seuil Δ<sub>Cpl</sub>.</p><p id="p0092" num="0092">Aucune restriction n'est attachée à la fonction g utilisée pour déterminer C̃(I). Il peut s'agir de la moyenne, la moyenne logarithmique, la moyenne de la norme 2, la médiane, etc.</p><p id="p0093" num="0093">Une approche différente permettant de discriminer les situations d'écho seul des situations de bruit est de modéliser la série des Cpl(I) par une Chaîne de Markov Cachée.</p><p id="p0094" num="0094">Dans certaines situations, par exemple lorsque les fonctions de transfert ont une réponse en fréquence présentant de fortes atténuations dans les bandes où le signal de référence est très énergétique, la variance de la<!-- EPO <DP n="19"> --> variable Cpl(I) en situation d'écho seul est très élevée, dégradant les performances de l'estimation de couplage énergétique C̃(I). Un autre critère de stabilité de l'estimation de couplage peut alors être considéré pour discriminer les situations d'écho seul des situations bruitées.</p><p id="p0095" num="0095">Un critère de stabilité temporelle de l'estimation du couplage peut être la latence entre les instants auxquels les énergies de trame <maths id="math0025" num=""><math display="inline"><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Rx</mi><mi mathvariant="normal">l</mi></msubsup></math><img id="ib0025" file="imgb0025.tif" wi="8" he="8" img-content="math" img-format="tif" inline="yes"/></maths> et <maths id="math0026" num=""><math display="inline"><msubsup><mover><mi mathvariant="normal">E</mi><mo>˜</mo></mover><mi>Tx</mi><mi mathvariant="normal">l</mi></msubsup></math><img id="ib0026" file="imgb0026.tif" wi="8" he="8" img-content="math" img-format="tif" inline="yes"/></maths> ont été obtenues.</p><p id="p0096" num="0096">Par exemple : <maths id="math0027" num=""><math display="block"><mi mathvariant="italic">latence</mi><mfenced><mi>l</mi></mfenced><mo>=</mo><mi>arg</mi><mfenced separators=""><munder><mi>max</mi><mi>k</mi></munder><mfenced separators=""><msubsup><mi>E</mi><mi mathvariant="italic">Tx</mi><mi>l</mi></msubsup><mfenced><mi>k</mi></mfenced></mfenced></mfenced><mo>-</mo><mi>arg</mi><mfenced separators=""><munder><mi>max</mi><mi>k</mi></munder><mfenced separators=""><msubsup><mi>E</mi><mi mathvariant="italic">Rx</mi><mi>l</mi></msubsup><mfenced><mi>k</mi></mfenced></mfenced></mfenced></math><img id="ib0027" file="imgb0027.tif" wi="89" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0097" num="0097">Selon les notations employées dans la seconde approche décrite précédemment, il s'agit donc de la différence entre les instants k<sub>max2</sub> et k<sub>max1</sub>. On peut également utiliser l'approche causale pour déterminer la valeur de k<sub>max2</sub>.</p><p id="p0098" num="0098">Le paramètre latence(I) estime la latence en comparant les instants d'énergie maximale pour les signaux d'énergie respectifs. En situation d'écho seul, ces instants correspondent le plus souvent au retard dû à la fonction de transfert à l'origine de l'écho. En présence de perturbations importantes sur le signal d'écho, les instants k<sub>max1</sub> et k<sub>max2</sub> sont indépendants, car les signaux de référence et d'écho sont indépendants.</p><p id="p0099" num="0099">A nouveau, à partir de cette variable, il peut être prévu de comparer la valeur ΔLat(I), déterminée selon la formule ci-après : <maths id="math0028" num=""><math display="block"><mi mathvariant="normal">ΔLat</mi><mfenced><mi mathvariant="normal">l</mi></mfenced><mo>=</mo><munder><mi>max</mi><mrow><mi mathvariant="normal">i</mi><mo>=</mo><mn mathvariant="normal">0</mn><mo>,</mo><mo>…</mo><mo>,</mo><mi mathvariant="normal">M</mi><mo>-</mo><mn mathvariant="normal">1</mn></mrow></munder><mfenced open="{" close="}" separators=""><mi>latence</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">l</mi><mo>-</mo><mi mathvariant="normal">i</mi></mfenced></mfenced><mo>-</mo><munder><mi>min</mi><mrow><mi mathvariant="normal">i</mi><mo>=</mo><mn mathvariant="normal">0</mn><mo>,</mo><mo>…</mo><mo>,</mo><mi mathvariant="normal">M</mi><mo>-</mo><mn mathvariant="normal">1</mn></mrow></munder><mfenced open="{" close="}" separators=""><mi>latence</mi><mo>⁢</mo><mfenced separators=""><mi mathvariant="normal">l</mi><mo>-</mo><mi mathvariant="normal">i</mi></mfenced></mfenced></math><img id="ib0028" file="imgb0028.tif" wi="100" he="12" img-content="math" img-format="tif"/></maths><br/>
avec un seuil prédéterminé. Si ΔLat(I)est inférieur au seuil, le critère de stabilité temporelle est satisfait et la détermination de l'estimation du couplage énergétique peut être valablement effectuée.</p><p id="p0100" num="0100">Il est également prévu de remplacer la variable latence(I) par la variable Δlatence(I) = latence(I)-latence(I-1).</p><p id="p0101" num="0101">La variable Δlatence(I) présente la propriété d'être centrée en moyenne. En effet, en présence d'écho seul, la fonction de transfert du<!-- EPO <DP n="20"> --> couplage à l'origine de l'écho ne varie que très peu, et le retard reste globalement constant : la variable Δ<i>latence</i>(<i>l</i>) oscille alors faiblement autour de 0. En présence de perturbations importantes, Δ<i>latence</i>(<i>l</i>) prend des valeurs aléatoires importantes et oscille fortement d'une trame à l'autre.</p><p id="p0102" num="0102">A noter que le critère de stabilité temporelle et le critère de stabilité énergétique peuvent être utilisés conjointement, dans le cas d'un classificateur Bayésien, ou d'une Chaîne de Markov Cachée à plusieurs observations, ce qui permet de fiabiliser la prise de décision.</p><p id="p0103" num="0103">Dans le cas où l'un des critères précédemment cités (ou une combinaison de ces critères) est satisfait, la quatrième unité de détermination 18 détermine alors une estimation du couplage énergétique, tel que précédemment expliqué.</p><p id="p0104" num="0104">Lorsqu'une estimation de couplage énergétique fiable a été obtenue par la quatrième unité de détermination 18, cette estimation est transmise via une troisième interface 19 soit au filtre adaptatif 6 soit au processeur non linéaire 5 du terminal représenté en <figref idrefs="f0001">figure 1</figref>.</p><p id="p0105" num="0105">Le dispositif 10 comprend également un microprocesseur 20 apte à contrôler les différentes unités 13 à 19 précédemment décrites et coopérant avec un bloc mémoire 21 incluant une mémoire de stockage et/ou de travail ainsi qu'une mémoire tampon pour mémoriser toutes données nécessaires à la mise en oeuvre du procédé d'estimation tel que décrit ultérieurement en référence à la <figref idrefs="f0004">figure 5</figref>.</p><p id="p0106" num="0106">Le bloc mémoire 21 peut comporter un programme informatique comportant des instructions de code pour la mise en oeuvre des étapes du procédé d'estimation selon l'invention lorsque ces instructions sont exécutées par le processeur du dispositif, notamment les étapes de détermination d'un signal d'énergie du signal de référence sur un ensemble d'instants prédéterminés et d'un signal d'énergie du signal d'écho aux instants prédéterminés, de décomposition des signaux d'énergie respectifs en trames d'indice I de L échantillons, de détermination, pour les trames respectives d'indice I, d'une énergie de trame fonction des L échantillons de la trame, pour chaque paire de trames d'indice I, de détermination d'une valeur de couplage énergétique en fonction des énergies de trames d'indice I, de vérification que,<!-- EPO <DP n="21"> --> pour au moins M paires de trames consécutives, au moins un critère de stabilité de l'estimation du couplage est satisfait et en fonction du résultat de la vérification, d'estimation du couplage énergétique entre le signal de référence et le signal d'écho, l'estimation de couplage énergétique étant fonction des M valeurs de couplage énergétique des M paires de trames.</p><p id="p0107" num="0107">Typiquement, la <figref idrefs="f0004">figure 5</figref> illustre l'algorithme d'un tel programme informatique.
<ul><li>La <figref idrefs="f0002">figure 3</figref> présente des résultats obtenus par mise en oeuvre du dispositif représenté sur la <figref idrefs="f0001">figure 2</figref>, selon un mode de réalisation</li><li>La <figref idrefs="f0002">figure 3</figref> illustre l'évolution temporelle d'un signal de référence 203 et d'un signal d'écho 204, le signal d'écho étant une version retardée et filtrée passe-haut du signal de référence. Les signaux de référence 203 et d'écho 204 sont échantillonnés. Comme précédemment détaillé, les signaux 203 et 204 peuvent être sous-échantillonnés en fonction d'une période de sous-échantillonnage.</li></ul></p><p id="p0108" num="0108">Un signal d'énergie du signal de référence 203 a été déterminé à des instants prédéterminés t<sub>1</sub> à t<sub>12</sub>. A chacun de ces instants, une énergie du signal de référence est déterminée par fenêtre glissante. La fenêtre glissante correspond à la durée 202, comprenant T échantillons du signal de référence. Dans l'exemple particulier de la <figref idrefs="f0002">figure 3</figref>, la période T correspond également à la période séparant chaque instant prédéterminé, et ce afin de simplifier la présentation de la <figref idrefs="f0002">figure 3</figref>. Il est bien sûr prévu que la taille T puisse être différente de la période séparant les instants prédéterminés, obtenue par le facteur de décimation d.</p><p id="p0109" num="0109">Par des calculs de fenêtre glissante, tel que précédemment détaillé, douze énergies sont obtenues pour les instants prédéterminés t<sub>1</sub> à t<sub>12</sub>. En particulier, l'énergie 205.1 à l'instant t<sub>7</sub> est obtenue par fenêtre glissante, tel que précédemment détaillé, pour les échantillons du signal de référence compris entre l'instant t<sub>6</sub> (exclu) et l'instant t<sub>7</sub> (inclus).</p><p id="p0110" num="0110">En outre, un signal d'énergie du signal d'écho a été déterminé sur les 12 instants prédéterminés t<sub>1</sub> à t<sub>12</sub>. A chacun de ces instants, une énergie du signal d'écho est déterminée, par fenêtre glissante. La fenêtre glissante<!-- EPO <DP n="22"> --> correspond à nouveau à la durée 202, comprenant T échantillons du signal d'écho. En particulier, l'énergie 206.1 à l'instant t<sub>7</sub> est obtenue par fenêtre glissante, tel que précédemment détaillé, pour les échantillons du signal d'écho compris entre l'instant t<sub>6</sub> (exclu) et l'instant t<sub>7</sub> (inclus).</p><p id="p0111" num="0111">Les signaux d'énergie respectifs sont ensuite décomposés en trames. Dans l'exemple de la <figref idrefs="f0002">figure 3</figref>, chaque trame comprend six instants auxquels les énergies respectives des signaux d'écho et de référence ont été respectivement déterminées. On obtient ainsi une trame 201.01 d'indice 1 et une trame 201.11 d'indice 2 pour le signal d'énergie du signal de référence, ainsi qu'une trame 201.02 d'indice 1 et une trame 201.12 d'indice 2 pour le signal d'énergie du signal d'écho.</p><p id="p0112" num="0112">Dans la suite, on considère uniquement la paire de trames d'indice 2.</p><p id="p0113" num="0113">Selon les deux approches permettant de déterminer l'énergie de trame de la trame 201.11 d'indice 2, l'énergie de trame de la trame 201.11 d'indice 2 est égale à l'énergie 205.5, entourée par la zone 207 (qui est l'énergie maximale sur la trame 201.11), qui correspond à l'instant t<sub>11</sub>. Dans cet exemple, l'instant k<sub>max1</sub> est égal à t<sub>11</sub>.</p><p id="p0114" num="0114">On considère, à titre d'exemple, la deuxième approche pour la détermination de l'énergie de trame de la trame 201.12 d'indice 2. Dès lors, l'énergie de trame de la trame 201.12 d'indice 2 est égale à l'énergie 206.6, entourée par la zone 208 (qui est l'énergie maximale sur la trame 201.12), qui correspond à l'instant t<sub>12</sub>. Dans cet exemple, l'instant k<sub>max2</sub> est donc égal à t<sub>11</sub>.</p><p id="p0115" num="0115">La valeur de couplage énergétique de la paire de trames d'indice 2 est alors égale au rapport de l'énergie 206.6 sur l'énergie 205.5.</p><p id="p0116" num="0116">La latence d'indice 2 est égale à k<sub>max2</sub> - k<sub>max1</sub>= t<sub>12</sub>-t<sub>11</sub>, soit une période 209 correspondant à une fois la période 202 dans cet exemple. En fonction de cette latence, et des latences des paires de trames précédents, on peut décider si le couplage énergétique peut être déterminé ou non.</p><p id="p0117" num="0117">La <figref idrefs="f0003">figure 4</figref> présente des résultats obtenus par mise en oeuvre du procédé décrit ci-après en référence à la <figref idrefs="f0004">figure 5</figref> et du dispositif représenté sur la <figref idrefs="f0001">figure 2</figref>, selon un autre mode de réalisation.</p><p id="p0118" num="0118">A nouveau, la <figref idrefs="f0003">figure 4</figref> présente l'évolution temporelle d'un signal<!-- EPO <DP n="23"> --> d'écho et d'un signal de référence. Des signaux d'énergie respectifs sont obtenus après sous-échantillonnage aux instants t<sub>20</sub> à t<sub>27</sub>.</p><p id="p0119" num="0119">Par des calculs de fenêtre glissante, tel que précédemment détaillé, sept énergies sont obtenues pour le signal de référence aux instants t<sub>21</sub> à t<sub>27</sub> et sept énergies sont obtenues pour le signal d'écho aux instants t<sub>21</sub> à t<sub>27</sub>.</p><p id="p0120" num="0120">Lors de la décomposition en trames, les énergies du signal de référence comprises entre t<sub>21</sub> et t<sub>26</sub> sont regroupées dans une trame 201.21 d'indice I, et l'énergie 220.7 appartient à la trame d'indice I+1. De plus, les énergies du signal d'écho comprises entre t<sub>21</sub> et t<sub>26</sub> sont regroupées dans une trame 201.22 d'indice I, et l'énergie 221.7 appartient à la trame d'indice I+1.</p><p id="p0121" num="0121">Selon les deux approches permettant de déterminer l'énergie de trame 201.21 d'indice I, l'énergie de trame est égale à l'énergie 220.6, entourée par la zone 223 (qui est l'énergie maximale du signal de référence sur la trame 201.21), qui correspond à l'instant t<sub>26</sub>. Dans cet exemple, l'instant k<sub>max2</sub> est donc égal à t<sub>26</sub>.</p><p id="p0122" num="0122">On considère, à titre d'exemple, la deuxième approche pour la détermination de l'énergie de trame de la trame 201.22 d'indice I. Dès lors, l'énergie de trame de la trame 201.22 d'indice I est égale à l'énergie 221.3, entourée par la zone 224 (qui est l'énergie maximale du signal d'écho sur la trame 201.22), qui correspond à l'instant t<sub>23</sub>. Dans cet exemple, l'instant k<sub>max2</sub> est donc égal à t<sub>23</sub>.</p><p id="p0123" num="0123">Cependant, une valeur de couplage obtenue en calculant le rapport de l'énergie 221.3 sur l'énergie 220.6 serait erronée, en ce que l'énergie 221.3 ne correspond pas à l'énergie de l'écho généré par le signal de référence entre les instants t<sub>25</sub> et t<sub>26</sub>.</p><p id="p0124" num="0124">Afin de remédier à ce problème, l'invention prévoit de prendre en compte, dans la détermination de k<sub>max2</sub>, des énergies de la trame d'indice I+1 du signal d'écho compris dans une fenêtre additionnelle 222. Par exemple, l'énergie 221.7 à l'instant t<sub>27</sub> est prise en compte. Dès lors, l'énergie maximum est l'énergie 221.7 (supérieure à l'énergie 221.3), et par conséquent, l'énergie de trame d'indice I est égale à l'énergie 221.7, ce qui permet de fiabiliser le calcul de la valeur de couplage pour la paire de trames d'indice I. En variante, au lieu de prendre en compte les énergies dans une fenêtre additionnelle 222<!-- EPO <DP n="24"> --> dans la trame d'indice I+1 du signal d'écho, il peut être prévu de ne pas prendre en compte certaines dernières énergies de la trame d'indice I du signal de référence lors de la détermination de k<sub>max1</sub>.</p><p id="p0125" num="0125">La <figref idrefs="f0004">figure 5</figref> est un diagramme illustrant les étapes d'un procédé selon certains modes de réalisation de l'invention.</p><p id="p0126" num="0126">A une étape 51, un signal d'énergie du signal de référence est déterminé sur un ensemble d'instants prédéterminés et un signal d'énergie du signal d'écho est déterminé aux instants prédéterminés, par la première unité de détermination 13, tel que précédemment expliqué.</p><p id="p0127" num="0127">A une étape 52, l'unité de décomposition 14 décompose les signaux d'énergie respectifs en trames d'indice I, chaque trame comprenant au moins L échantillons, L étant supérieur ou égal à 1.</p><p id="p0128" num="0128">A une étape 53, la deuxième unité de détermination 15 détermine, pour les trames respectives d'indice I, une énergie de trame en fonction des L échantillons de la trame.</p><p id="p0129" num="0129">A une étape 54, la troisième unité de détermination 16 détermine pour chaque paire de trames d'indice I, une valeur de couplage énergétique en fonction des énergies de trames d'indice I.</p><p id="p0130" num="0130">A une étape 55, l'unité de vérification vérifie que, pour au moins M paires de trames consécutives, au moins un critère de stabilité de l'estimation du couplage est satisfait.</p><p id="p0131" num="0131">Si aucun critère n'est satisfait, alors le procédé s'achève à l'étape 56.</p><p id="p0132" num="0132">Si un critère est satisfait, la quatrième unité de détermination détermine, à une étape 57, une estimation du couplage énergétique entre le signal de référence et le signal d'écho, l'estimation de couplage énergétique étant fonction des M valeurs de couplage énergétique des M paires de trames</p><p id="p0133" num="0133">Bien entendu, la présente invention ne se limite pas à la forme de réalisation décrite ci-avant à titre d'exemple ; elle s'étend à d'autres variantes.</p></description><claims mxw-id="PCLM56976358" lang="FR" load-source="patent-office"><!-- EPO <DP n="25"> --><claim id="c-fr-0001" num="0001"><claim-text>Procédé d'estimation d'un couplage énergétique entre un signal de référence (203) échantillonné et un signal d'écho (204) échantillonné, <b>caractérisé en ce que</b> le procédé comprend les étapes suivantes :
<claim-text>- détermination d'un signal d'énergie du signal de référence sur un ensemble d'instants (t<sub>1</sub>-t<sub>12</sub>) prédéterminés et d'un signal d'énergie du signal d'écho aux instants prédéterminés ;</claim-text>
<claim-text>- décomposition des signaux d'énergie respectifs en trames (201.01 ; 201.11 ; 201.02 ;201.12) d'indice I de L échantillons (205.1-205.6 ;206.1-206.6) ;</claim-text>
<claim-text>- détermination, pour les trames respectives d'indice I, d'une énergie de trame fonction des L échantillons de la trame ;</claim-text>
<claim-text>- pour chaque paire de trames d'indice I, détermination d'une valeur de couplage énergétique en fonction des énergies de trames d'indice I;</claim-text>
<claim-text>- vérification que, pour au moins M paires de trames consécutives, au moins un critère de stabilité de l'estimation du couplage est satisfait;</claim-text>
<claim-text>- en fonction du résultat de ladite vérification, estimation du couplage énergétique entre le signal de référence et le signal d'écho, ladite estimation de couplage énergétique étant fonction des M valeurs de couplage énergétique des M paires de trames.</claim-text></claim-text></claim><claim id="c-fr-0002" num="0002"><claim-text>Procédé selon la revendication 1, <b>caractérisé en ce que</b> les instants d'échantillonnage (t<sub>1</sub>-t<sub>12</sub>) des signaux d'énergie sont obtenus par décimation des instants d'échantillonnage des signaux de référence (203) et d'écho (204) par un facteur de décimation d.</claim-text></claim><claim id="c-fr-0003" num="0003"><claim-text>Procédé selon la revendication 1 ou 2, <b>caractérisé en ce que</b> les signaux d'énergie respectifs à un instant t (t<sub>1</sub>-t<sub>12</sub>) sont déterminés par fenêtre glissante (202) en fonction des T échantillons du signal de référence, respectivement d'écho, précédant temporellement ledit instant <i>t</i>, T étant une taille prédéterminée de fenêtre glissante.<!-- EPO <DP n="26"> --></claim-text></claim><claim id="c-fr-0004" num="0004"><claim-text>Procédé selon l'une des revendications précédentes, <b>caractérisé en ce que</b> la vérification qu'au moins un critère de stabilité de l'estimation du couplage est satisfait comprend les étapes suivantes :
<claim-text>- détermination de la valeur maximale parmi les M valeurs de couplage énergétique des M paires de trames,</claim-text>
<claim-text>- détermination de la valeur minimale parmi les M valeurs de couplage énergétique desdites M paires de trames,</claim-text>
<claim-text>- comparaison du rapport de ladite valeur maximale sur ladite valeur minimale avec un seuil prédéterminé,</claim-text>
et <b>en ce que</b>, si ledit rapport est inférieur au seuil prédéterminé, un critère de stabilité énergétique de l'estimation du couplage est satisfait et l'estimation du couplage énergétique est déterminée en fonction des M valeurs de couplage énergétique.</claim-text></claim><claim id="c-fr-0005" num="0005"><claim-text>Procédé selon l'une des revendications 1 à 4, <b>caractérisé en ce que</b>, pour chaque trame d'indice I du signal de référence, l'énergie de trame est égale à l'énergie maximale de la trame d'indice I du signal de référence, correspondant à un instant k<sub>max1</sub>.</claim-text></claim><claim id="c-fr-0006" num="0006"><claim-text>Procédé selon la revendication 5, <b>caractérisé en ce que</b> l'énergie de trame de la trame d'indice I du signal d'écho est égale à l'énergie du signal d'écho à l'instant k<sub>max1</sub>.</claim-text></claim><claim id="c-fr-0007" num="0007"><claim-text>Procédé selon la revendication 5, <b>caractérisé en ce que</b> l'énergie de trame de la trame d'indice I du signal d'écho est égale à l'énergie maximale de la trame d'indice I du signal d'écho correspondant à un instant k<sub>max2</sub>.</claim-text></claim><claim id="c-fr-0008" num="0008"><claim-text>Procédé selon la revendication 7, <b>caractérisé en ce que</b> l'instant k<sub>max2</sub> est obtenu par recherche de l'énergie maximale parmi les énergies aux instants postérieurs à l'instant k<sub>max1</sub>.</claim-text></claim><claim id="c-fr-0009" num="0009"><claim-text>Procédé selon l'une des revendications précédentes, <b>caractérisé en ce que</b> la vérification qu'au moins un critère de l'estimation du couplage est<!-- EPO <DP n="27"> --> satisfait comprend les étapes suivantes :
<claim-text>- pour chaque paire de trames parmi les M paires de trames, déterminer une latence (209) correspondant à la différence entre un instant k<sub>max1</sub> d'énergie maximale de la trame du signal de référence et un instant k<sub>max2</sub> d'énergie maximale de la trame du signal d'écho,</claim-text>
<claim-text>- détermination de la valeur maximale parmi les M latences des M paires de trames,</claim-text>
<claim-text>- détermination de la valeur minimale parmi les M latence desdites M paires de trames</claim-text>
<claim-text>- comparaison de la différence entre ladite valeur maximale et ladite valeur minimale avec un seuil prédéterminé,</claim-text>
et <b>en ce que</b>, si ladite différence est inférieure au seuil prédéterminé, un critère de stabilité temporelle de l'estimation du couplage est satisfait et l'estimation du couplage énergétique est déterminée en fonction des M valeurs de couplage énergétique.</claim-text></claim><claim id="c-fr-0010" num="0010"><claim-text>Procédé selon les revendications 4 et 9, <b>caractérisé en ce que</b> les critères de stabilité temporelle et énergétique sont tous deux pris en compte au moyen d'un classificateur Bayésien ou d'une Chaîne de Markov Cachée à plusieurs observations, afin de déterminer la validité de l'estimation du couplage énergétique entre le signal de référence et le signal d'écho.</claim-text></claim><claim id="c-fr-0011" num="0011"><claim-text>Procédé selon l'une des revendications précédentes, <b>caractérisé en ce que</b> l'estimation du couplage énergétique entre le signal de référence (203) et le signal d'écho (204) est déterminée à partir de l'une des fonctions suivantes :
<claim-text>- la moyenne des M valeurs de couplage énergétique des M paires de trames ;</claim-text>
<claim-text>- la moyenne logarithmique des M valeurs de couplage énergétique des M paires de trames ;</claim-text>
<claim-text>- la moyenne de la norme 2 des M valeurs de couplage énergétique des M paires de trames ; ou</claim-text>
<claim-text>- la médiane des M valeurs de couplage énergétique des M paires de<!-- EPO <DP n="28"> --> trames.</claim-text></claim-text></claim><claim id="c-fr-0012" num="0012"><claim-text>Produit programme d'ordinateur comprenant des instructions de code de programme enregistrées sur un support lisible par un ordinateur, pour l'exécution par un processeur des étapes du procédé selon l'une quelconques des revendications 1 à 11.</claim-text></claim><claim id="c-fr-0013" num="0013"><claim-text>Dispositif d'estimation d'un couplage énergétique entre un signal de référence (203) échantillonné et un signal d'écho (204) échantillonné, <b>caractérisé en ce que</b> le dispositif comprend:
<claim-text>- une première unité de détermination (13) d'un signal d'énergie du signal de référence sur un ensemble d'instants (t<sub>1</sub>-t<sub>12</sub>) prédéterminés et d'un signal d'énergie du signal d'écho aux instants prédéterminés;</claim-text>
<claim-text>- une unité de décomposition (14) des signaux d'énergie respectifs en trames (201.01 ;201.11 ;201.02 ;201.12) d'indice I, de L échantillons;</claim-text>
<claim-text>- une seconde unité de détermination (15), pour les trame respectives d'indice I, d'une énergie de trame en fonction des L échantillons de la trame ;</claim-text>
<claim-text>- une troisième unité de détermination (16), pour chaque paire de trames d'indice I, d'une valeur de couplage énergétique en fonction des énergies de trames d'indice I ;</claim-text>
<claim-text>- une unité de vérification (17) que, pour au moins M paires de trames consécutives, au moins un critère de stabilité de l'estimation du couplage est satisfait;</claim-text>
<claim-text>- une quatrième unité de détermination (18), en fonction du résultat de ladite vérification, de l'estimation du couplage énergétique entre le signal de référence et le signal d'écho, ladite estimation de couplage énergétique étant fonction des M valeurs de couplage énergétique des M paires de trames.</claim-text></claim-text></claim><claim id="c-fr-0014" num="0014"><claim-text>Terminal mobile de télécommunications comprenant un dispositif d'estimation (6 ;7) d'un couplage énergétique entre un signal de référence (203) échantillonné et un signal d'écho (204) échantillonné selon la revendication 13.</claim-text></claim></claims><drawings mxw-id="PDW16667139" load-source="patent-office"><!-- EPO <DP n="29"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="162" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0003" num="4"><img id="if0003" file="imgf0003.tif" wi="162" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="98" he="152" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="159" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="155" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
