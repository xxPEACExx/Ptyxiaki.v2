<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680492-A1" country="EP" doc-number="2680492" kind="A1" date="20140101" family-id="48625863" file-reference-id="311895" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549196" ucid="EP-2680492-A1"><document-id><country>EP</country><doc-number>2680492</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13171954-A" is-representative="YES"><document-id mxw-id="PAPP154823119" load-source="docdb" format="epo"><country>EP</country><doc-number>13171954</doc-number><kind>A</kind><date>20130614</date><lang>EN</lang></document-id><document-id mxw-id="PAPP227684046" load-source="docdb" format="original"><country>EP</country><doc-number>13171954.4</doc-number><date>20130614</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140450182" ucid="FI-20125760-A" load-source="docdb"><document-id format="epo"><country>FI</country><doc-number>20125760</doc-number><kind>A</kind><date>20120629</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988118151" load-source="docdb">H04L  12/815       20130101ALI20131015BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988138340" load-source="docdb">H04L  12/24        20060101AFI20131015BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1627944333" load-source="docdb" scheme="CPC">H04L  47/22        20130101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1627944334" load-source="docdb" scheme="CPC">H04L  43/0829      20130101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1627944335" load-source="docdb" scheme="CPC">H04L  43/0811      20130101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1627944336" load-source="docdb" scheme="CPC">H04L  43/10        20130101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL1991317992" load-source="docdb" scheme="CPC">H04L  47/18        20130101 FI20131226BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180072" lang="DE" load-source="patent-office">Verfahren und System zum Auffinden der kleinsten teilstreckenspezifischen Datenübertragungsgeschwindigkeit</invention-title><invention-title mxw-id="PT132180073" lang="EN" load-source="patent-office">A method and a system for finding smallest hop-specific data transfer speed</invention-title><invention-title mxw-id="PT132180074" lang="FR" load-source="patent-office">Procédé et système permettant de trouver une plus petite vitesse de transfert de données spécifiques HOP</invention-title><citations><patent-citations><patcit mxw-id="PCIT242652055" load-source="docdb" ucid="WO-2007113645-A2"><document-id format="epo"><country>WO</country><doc-number>2007113645</doc-number><kind>A2</kind><date>20071011</date></document-id><sources><source name="SEA" category="Y" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652056" load-source="docdb" ucid="WO-2011129363-A1"><document-id format="epo"><country>WO</country><doc-number>2011129363</doc-number><kind>A1</kind><date>20111020</date></document-id><sources><source name="SEA" category="Y" created-by-npl="N"/></sources></patcit></patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918163584" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>TELLABS OY</last-name><address><country>FI</country></address></addressbook></applicant><applicant mxw-id="PPAR918143442" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>TELLABS OY</last-name></addressbook></applicant><applicant mxw-id="PPAR918982715" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Tellabs Oy</last-name><iid>100234271</iid><address><street>Sinikalliontie 7</street><city>02630 Espoo</city><country>FI</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918157244" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SILVOLA MIKA</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918158888" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SILVOLA, MIKA</last-name></addressbook></inventor><inventor mxw-id="PPAR918978965" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>SILVOLA, MIKA</last-name><address><street>Kokkorinne 30</street><city>90450 Kempele</city><country>FI</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918988335" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Berggren Oy Ab</last-name><iid>101377942</iid><address><street>P.O. Box 16 Antinkatu 3 C</street><city>00101 Helsinki</city><country>FI</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548854652" load-source="docdb">AL</country><country mxw-id="DS548854584" load-source="docdb">AT</country><country mxw-id="DS548854653" load-source="docdb">BE</country><country mxw-id="DS548803264" load-source="docdb">BG</country><country mxw-id="DS548837457" load-source="docdb">CH</country><country mxw-id="DS548871944" load-source="docdb">CY</country><country mxw-id="DS548871945" load-source="docdb">CZ</country><country mxw-id="DS548848917" load-source="docdb">DE</country><country mxw-id="DS548854654" load-source="docdb">DK</country><country mxw-id="DS548854655" load-source="docdb">EE</country><country mxw-id="DS548848869" load-source="docdb">ES</country><country mxw-id="DS548803265" load-source="docdb">FI</country><country mxw-id="DS548803270" load-source="docdb">FR</country><country mxw-id="DS548848918" load-source="docdb">GB</country><country mxw-id="DS548854656" load-source="docdb">GR</country><country mxw-id="DS548848919" load-source="docdb">HR</country><country mxw-id="DS548871946" load-source="docdb">HU</country><country mxw-id="DS548837458" load-source="docdb">IE</country><country mxw-id="DS548854657" load-source="docdb">IS</country><country mxw-id="DS548803271" load-source="docdb">IT</country><country mxw-id="DS548854658" load-source="docdb">LI</country><country mxw-id="DS548848920" load-source="docdb">LT</country><country mxw-id="DS548854585" load-source="docdb">LU</country><country mxw-id="DS548803272" load-source="docdb">LV</country><country mxw-id="DS548848921" load-source="docdb">MC</country><country mxw-id="DS548854586" load-source="docdb">MK</country><country mxw-id="DS548854587" load-source="docdb">MT</country><country mxw-id="DS548854659" load-source="docdb">NL</country><country mxw-id="DS548848923" load-source="docdb">NO</country><country mxw-id="DS548854660" load-source="docdb">PL</country><country mxw-id="DS548803273" load-source="docdb">PT</country><country mxw-id="DS548871947" load-source="docdb">RO</country><country mxw-id="DS548803278" load-source="docdb">RS</country><country mxw-id="DS548854661" load-source="docdb">SE</country><country mxw-id="DS548837459" load-source="docdb">SI</country><country mxw-id="DS548848924" load-source="docdb">SK</country><country mxw-id="DS548848925" load-source="docdb">SM</country><country mxw-id="DS548854588" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669866" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A system using the Ethernet OAM functionality for finding the smallest of hop-specific data transfer speeds related to a data transfer path from a first network element (101) to a second network element (102) is presented. The first network element is configured to transmit, to the second network element, first data comprising an Ethernet OAM message. Each intermediate network element (104, 105) located on the data transfer path is configured to update the first data to indicate so far smallest of the hop-specific data transfer speeds when the first data passes through the intermediate network elements. After receiving the first data, the second network element transmits, to the first network element, second data indicating the smallest of the hop-specific data transfer speeds. Thus, the first network element can be made aware of capacity changes taking place on the data transfer path.
<img id="iaf01" file="imgaf001.tif" wi="78" he="119" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499239" lang="EN" source="EPO" load-source="docdb"><p>A system using the Ethernet OAM functionality for finding the smallest of hop-specific data transfer speeds related to a data transfer path from a first network element (101) to a second network element (102) is presented. The first network element is configured to transmit, to the second network element, first data comprising an Ethernet OAM message. Each intermediate network element (104, 105) located on the data transfer path is configured to update the first data to indicate so far smallest of the hop-specific data transfer speeds when the first data passes through the intermediate network elements. After receiving the first data, the second network element transmits, to the first network element, second data indicating the smallest of the hop-specific data transfer speeds. Thus, the first network element can be made aware of capacity changes taking place on the data transfer path.</p></abstract><description mxw-id="PDES63955296" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>Field of the invention</b></heading><p id="p0001" num="0001">The invention relates to a method and a system for finding the smallest of hop-specific data transfer speeds related to a data transfer path. Furthermore, the invention relates to a data transfer system and to a network element, e.g. a router or a switch, of a data transfer system. Furthermore, the invention relates to a computer program for controlling a network element.</p><heading id="h0002"><b>Background</b></heading><p id="p0002" num="0002">A data transfer path from an originator network element to a destination network element may comprise multiple successive hops each being between two network elements located on the above-mentioned data transfer path and interconnected with a data transfer link that can be e.g. a copper wire link, a fiber link, or a radio link. These two network elements can be, for example, Ethernet switches operating on the Open System Interconnection "OSI" Level 2, i.e. on the "L2 data link layer". The originator network element and the destination network element can be, for example, Internet Protocol "IP" routers operating, in addition to the L2 data link layer, on the Open System Interconnection "OSI" Level 3, i.e. on the "L3 network layer". The data transfer speed available on each hop depends on the data transfer speed of the data transfer link being used and/or on other factors such as, for example, a transmitter shaper at the transmission-end of the hop under consideration and/or a receiver shaper at the reception-end of the said hop. Furthermore, one or more of the hops of the data transfer path may have dynamically changing data transfer speed. A hop having dynamically changing data transfer speed can be, for example, a hop implemented with an adaptive microwave "MW" Ethernet radio link whose data transfer speed is adapted according to weather conditions. The data transfer speed of an adaptive microwave Ethernet radio link may vary, for example, from 100 Mbits/sec to 500 Gbits/sec depending on weather conditions. Yet furthermore, buffering capacity available at a transmission-end of an adaptive microwave Ethernet radio link can be quite limited. The above-mentioned<!-- EPO <DP n="2"> --> viewpoints complicate the control and the management of the end-to-end quality of service "QoS" provided by the data transfer path.</p><p id="p0003" num="0003">Publication <patcit id="pcit0001" dnum="US20120076029A"><text>US20120076029</text></patcit> describes a system where maintenance entities may be defined between customer and provider points to allow performance management to take place on an Ethernet network. The maintenance entities may be defined for access links, intra-domain, and inter-domain, and may be defined on a link or service basis. Performance parameters, including availability metrics, may be collected for the maintenance entities. Use of this system for controlling and managing the end-to-end quality of service "QoS" provided by data transfer paths of the kind described above is, however, complicated.</p><heading id="h0003"><b>Summary</b></heading><p id="p0004" num="0004">The following presents a simplified summary in order to provide a basic understanding of some aspects of various invention embodiments. The summary is not an extensive overview of the invention. It is neither intended to identify key or critical elements of the invention nor to delineate the scope of the invention. The following summary merely presents some concepts of the invention in a simplified form as a prelude to a more detailed description of exemplifying embodiments of the invention.</p><p id="p0005" num="0005">In accordance with the first aspect of the invention there is provided a new method for finding the smallest of hop-specific data transfer speeds related to a data transfer path from a first network element to a second network element. The method is based on extending Ethernet Operations, Administration, and Management "OAM" functionality for finding the smallest of the hop-specific data transfer speeds. Background information about Ethernet OAM functionality can be found, for example, from the following technical specifications: IEEE 802.1ag - Connectivity Fault Management and ITU-T SG 13 Q5 WG: Y.1731 - OAM Functions and Mechanisms for Ethernet Based Networks, where IEEE = Institute of Electrical and Electronics Engineers, and ITU-T SG 13 Q5 WG = International Telecommunication Union, Telecommunication Standardization Sector, Study Group 13, Question 5 Working Group.<!-- EPO <DP n="3"> --></p><p id="p0006" num="0006">The method for finding the smallest of the hop-specific data transfer speeds comprises:
<ul><li>transmitting, from the first network element to the second network element, first data comprising an Ethernet OAM message,</li><li>updating, in at least one third network element located on the data transfer path, the first data to indicate so far smallest of the hop-specific data transfer speeds, and</li><li>in response to reception of the first data at the second network element, transmitting, from the second network element to the first network element, second data indicating the smallest of the hop-specific data transfer speeds.</li></ul></p><p id="p0007" num="0007">With the aid of the above-described method, the first network element can be made aware of the smallest of the hop-specific data transfer speeds, and transmission speed of a data flow transmitted from the first network element to the second network element can be limited on the basis of the above-mentioned second data indicating the smallest of the hop-specific data transfer speeds in order to avoid loss of data frames on the data transfer path and thereby to maintain the end-to-end quality of service "QoS".</p><p id="p0008" num="0008">A method according to an advantageous exemplifying embodiment of the invention comprises transmitting the first data repeatedly from the first network element to the second network element and, as a consequence, transmitting also the responding second data repeatedly from the second network element to the first network element. In this case, the first network element can be kept up-to-date aware of the currently smallest of the hop-specific data transfer speeds. This makes it possible to adapt the transmission speed of a data flow transmitted from the first network element to the second network element according to dynamic changes of one or more of the hop-specific data transfer speeds.</p><p id="p0009" num="0009">In accordance with the second aspect of the invention there is provided a new system for finding the smallest of hop-specific data transfer speeds related to a data<!-- EPO <DP n="4"> --> transfer path from a first network element to a second network element. In the system:
<ul><li>the first network element is configured to transmit, to the second network element, first data comprising an Ethernet OAM message,</li><li>each of one or more third network elements located on the data transfer path is configured to update the first data to indicate so far smallest of the hop-specific data transfer speeds, and</li><li>the second network element is configured to transmit, in response to reception of the first data at the second network element, second data to the first network element, the second data indicating the smallest of the hop-specific data transfer speeds.</li></ul></p><p id="p0010" num="0010">In accordance with the third aspect of the invention there is provided a new network element that comprises a processing system configured to:
<ul><li>control the network element to transmit first data to another network element via a data transfer path from the network element to the other network element, the first data comprising an Ethernet OAM message,</li><li>form, on the basis of second data received from the other network element, a first limit value indicating the smallest of hop-specific data transfer speeds related to the data transfer path, and</li><li>control transmission speed of a data flow transmitted from the network element to the other network element to be limited on the basis the first limit value.</li></ul></p><p id="p0011" num="0011">In accordance with the fourth aspect of the invention there is provided a new data transfer system comprising a first network element, a second network element, and one or more third network elements on a data transfer path from the first network element to the second network element. In the data transfer system:
<ul><li>the first network element is configured to transmit, to the second network element, first data comprising an Ethernet OAM message, and to control<!-- EPO <DP n="5"> --> transmission speed of a data flow transmitted from the first network element to the second network element to be limited on the basis second data received from the second network element and indicating the smallest of hop-specific data transfer speeds related to the data transfer path,</li><li>each of the third network elements is configured to update the first data to indicate so far smallest of the hop-specific data transfer speeds, and</li><li>the second network element is configured to transmit, in response to reception of the first data at the second network element, the second data to the first network element.</li></ul></p><p id="p0012" num="0012">In accordance with the fifth aspect of the invention there is provided a new computer program for controlling a network element. The computer program comprises computer executable instructions for controlling a programmable processor to:
<ul><li>control the network element to transmit first data to another network element via a data transfer path from the network element to the other network element, the first data comprising an Ethernet OAM message,</li><li>form, on the basis of second data received from the other network element, a first limit value indicating the smallest of hop-specific data transfer speeds related to the data transfer path, and</li><li>control transmission speed of a data flow transmitted from the network element to the other network element to be limited on the basis the first limit value.</li></ul></p><p id="p0013" num="0013">A computer program product according to the invention comprises a non-volatile computer readable medium, e.g. a compact disc ("CD"), encoded with a computer program according to the invention.</p><p id="p0014" num="0014">A number of non-limiting exemplifying embodiments of the invention are described in accompanied dependent claims.</p><p id="p0015" num="0015">Various non-limiting exemplifying embodiments of the invention both as to constructions and to methods of operation, together with additional objects and advantages<!-- EPO <DP n="6"> --> thereof, will be best understood from the following description of specific exemplifying embodiments when read in connection with the accompanying drawings.</p><p id="p0016" num="0016">The verbs "to comprise" and "to include" are used in this document as open limitations that neither exclude nor require the existence of unrecited features. The features recited in depending claims are mutually freely combinable unless otherwise explicitly stated.</p><heading id="h0004"><b>Brief description of figures</b></heading><p id="p0017" num="0017">The exemplifying embodiments of the invention and their advantages are explained in greater detail below in the sense of examples and with reference to the accompanying drawings, in which:
<ul><li><figref idrefs="f0001">figure 1</figref> shows a schematic illustration of an exemplifying data transfer system according to an exemplifying embodiment of the invention,</li><li><figref idrefs="f0002">figure 2</figref> shows a schematic block diagram of an exemplifying network element according to an exemplifying embodiment of the invention, and</li><li><figref idrefs="f0003">figure 3</figref> shows a flow chart of a method according to an exemplifying embodiment of the invention for finding the smallest of hop-specific data transfer speeds of a data transfer path from a first network element to a second network element.</li></ul></p><heading id="h0005"><b>Description of exemplifying embodiments</b></heading><p id="p0018" num="0018"><figref idrefs="f0001">Figure 1</figref> shows a schematic illustration of an exemplifying data transfer system that comprises a first network element 101, second network elements 102 and 116, and third network elements 103, 104, 105, 106, and 107. In the exemplifying case shown in <figref idrefs="f0001">figure 1</figref>, it is assumed that the network elements 103-107 are network elements operating on the Open System Interconnection "OSI" Level 2, i.e. on the "L2 data link layer". These network elements 103-107 can be, for example but not necessarily, Ethernet switches. It is further assumed that the network elements 101, 102, and 116 are operating, in addition to the L2 data link layer, also on the Open System Interconnection "OSI" Level 3, i.e. on the "L3 network layer".<!-- EPO <DP n="7"> --></p><p id="p0019" num="0019">These network elements 101, 102, and 116 can be, for example but not necessarily, Internet Protocol "IP" routers. Each of the network elements 101-107, and 116 can be configured to support also other data transfer protocols such as, for example, the MuItiProtocol Label Switching "MPLS". The network elements 101-107 and data links between these network elements form a first data transfer path from a data source 114 to a destination 115, and the network elements 101, 103-105, and 116 and data links between these network elements form a second data transfer path from the data source 114 to a destination 117. The data source 114 can be, for example, a storage containing data to be transferred. The destinations 115 and 117 can be, for example, user terminal devices such as personal computers. The first data transfer path from the network element 101 to the network element 102 comprises successive hops 108, 109, 110, 111, 112, and 113 each being between two of the network elements 101-107. The second data transfer path from the network element 101 to the network element 116 comprises successive hops 108, 109, 110, and 118 each being between two of the network elements 101, 103-105, and 116. In the exemplifying case shown in <figref idrefs="f0001">figure 1</figref>, the network element 104 is connected to the network element 105 with a first radio link, and correspondingly the network element 105 is connected to the network element 106 with a second radio link. The first and second radio links can be, for example, adaptive microwave "MW" Ethernet radio links whose data transfer speeds are adapted according to weather conditions.</p><p id="p0020" num="0020">The data transfer system shown in <figref idrefs="f0001">figure 1</figref> comprises a system according to an exemplifying embodiment of the invention for finding the smallest of the data transfer speeds available on the hops 108-113. The system for finding the smallest of the hop-specific data transfer speeds is implemented in the network elements 101-107 and it is based on extending the Ethernet Operations, Administration, and Management "OAM" functionality. The data transfer system shown in <figref idrefs="f0001">figure 1</figref> may further comprise a similar system for finding the smallest of the data transfer speeds available on the hops 108-110, and 118 which belong to the second data transfer path from the network element 101 to the network element 116. Without limiting the generality, we can consider the first data transfer path from the network element 101 to the network element 102. The network 101 element is configured<!-- EPO <DP n="8"> --> to transmit, to the network element 102, first data comprising an Ethernet OAM message. Each of the network elements 103-107 is configured to update the first data to indicate so far smallest of the hop-specific data transfer speeds when the first data passes through these network elements 103-107. The network element 102 is configured to transmit, in response to reception of the first data, second data to the network element 101, where the second data indicates the smallest of the hop-specific data transfer speeds.</p><p id="p0021" num="0021">The above-described procedure for delivering to the network element 101 the second data indicating the smallest of the hop-specific data transfer speeds can be implemented in various ways. For example, each of the network elements 103-107 can be configured check whether a speed value contained by the first data is greater than appropriate forwarding speed available at the network element under consideration, and, if yes, overwrite the speed value with the value of the above-mentioned forwarding speed. In this case, the second data may comprise the speed value contained by the first data when the first data was received at the network element 102. For a second example, each of the network elements 103-107 can be configured write, to the first data, a speed value indicating the forwarding speed available at the network element under consideration, and the network element 102 can be configured to select the smallest of the speed values contained by the first data. In this case, the second data may comprise the selected speed value. For a third example, each of the network elements 103-107 can be configured write, to the first data, a speed value indicating the forwarding speed available at the network element under consideration, and the network element 102 can be configured to send the speed values contained by the first data to the network element 101 that is, in turn, configured to select the smallest of the speed values. It is also possible that the first data is updated, in each of the network elements 103-107, not only on the basis of the appropriate forwarding speed available at the network element under consideration but also on the basis of limitations directed to reception speed of data that arrives from the preceding network element on the first data transfer path from the network element 101 to the network element 102. Limitations directed to the reception speed can be caused by, for example, possible ingress shapers.<!-- EPO <DP n="9"> --></p><p id="p0022" num="0022">The network elements 103-107 may have less quality-of-service "QoS" capabilities and buffering capabilities than the network elements 101 and 102. The second data indicating the smallest of the hop-specific data transfer speeds allows controlling or restricting a data flow transferred from the network element 101 to the network element 102 so that use of bandwidth for carrying data traffic which is going to be dropped later on the first data transfer path can be avoided or at least reduced. For example, parameters of a shaper of the network element 101 can be set so that the peak transmission speed, i.e. the peak information rate "PIR", of the data flow from the network element 101 to the network element 102 is limited to be at most the smallest of the hop-specific data transfer speeds related to the first data transfer path.</p><p id="p0023" num="0023">In a system according to an exemplifying embodiment of the invention for finding the smallest of the hop-specific data transfer speeds, each of the network elements 103-107 is further configured to update the first data to indicate buffer capacity available at a transmission-end related to the so far smallest of the hop-specific data transfer speeds when the first data passes through these network elements 103-107. The network element 102 is configured to include, to the second data, information indicating the buffer capacity available at the transmission-end related to the smallest of the hop-specific data transfer speeds. In this case, the parameters of the shaper of the network element 101 can be set so that the average transmission speed, e.g. the committed information rate "CIR", of the data flow from the network element 101 to the network element 102 is limited to be at most the smallest of the hop-specific data transfer speeds, and a burst size of the data flow is limited to be at most the buffer capacity available at the transmission-end related to the smallest of the hop-specific data transfer speeds. The burst size can be defined to be a difference between amount of data transmitted and amount of data transmittable at the smallest of the hop-specific data transfer speeds within an arbitrary time window.</p><p id="p0024" num="0024">In a system according to an exemplifying embodiment of the invention for finding the smallest of the hop-specific data transfer speeds, the network element 101 is configured to transmit the first data repeatedly to the network element 102 via the first data transfer path, and correspondingly the network element 102 is configured<!-- EPO <DP n="10"> --> to transmit the responding second data repeatedly to the network element 101 so as to keep the network element 101 up-to-date aware of the currently smallest of the hop-specific data transfer speeds. This makes it possible to adapt the transmission speed and/or the burst size of the data flow transmitted from the network element 101 to the network element 102 according to dynamic changes of one or more of the data transfer speeds available on the hops 108-113.</p><p id="p0025" num="0025">The Ethernet OAM message of the first data can be, for example, a Continuity Check Message "CCM" suitable for detecting loss of continuity and incorrect network connections. In this case, each of the network elements 103-107 can be configured to write, to the first data passing through the data transfer path, a speed value indicating the forwarding speed available at the network element under consideration. For another example, the Ethernet OAM message of the first data can be, for example, a Link Trace Message "LTM" suitable for tracking the data transfer path from the network element 101 to other network elements. LTM can be used for probing network topology and link speeds. Information about the network topology can be used for forming shaping configurations which match the network topology. For the sake of illustration, we consider an exemplifying case where the hop 111 has the smallest of the hop-specific data transfer speeds related to the first data transfer path from the network element 101 to the network element 102, and the hop 110 has the smallest of the hop-specific data transfer speeds related to the second data transfer path from the network element 101 to the network element 116. In this exemplifying case, the parameters of the shaper of the network element 101 can be set so that 1) the transmission speed of the aggregate of the data flow from the network element 101 to the network element 102 and the data flow from the network element 101 to the network element 116 is limited to be at most the data transfer speed available on the hop 110, and 2) the transmission speed of the data flow from the network element 101 to the network element 102 is limited to be at most the data transfer speed available on the hop 111. The principle presented above in conjunction with the simple exemplifying topology shown in <figref idrefs="f0001">figure 1</figref> where routes of the first and second data transfer paths branch off from each other, can be used for building shaping groups for more complicated topologies.<!-- EPO <DP n="11"> --></p><p id="p0026" num="0026"><figref idrefs="f0002">Figure 2</figref> shows a schematic block diagram of an exemplifying network element 201 according to an exemplifying embodiment of the invention. The network element can be, for example, an Internet Protocol "IP" router, an Ethernet switch, and/or a MultiProtocol Label Switching "MPLS" switch. The network element comprises ingress ports 222, 223, and 224, and egress ports 225, 226 and 227 for connecting to other network elements of a data transfer system. The network element comprises a processing system 220 configured to control the network element to transmit first data to a first other network element via a first data transfer path from the network element to the first other network element. The first data comprises an Ethernet Operations, Administration, and Management "OAM" message that can be, for example, a Continuity Check Message "CCM" suitable for detecting loss of continuity and incorrect network connections or a Link Trace Message "LTM" suitable for tracking data transfer paths from the network element to other network elements. The processing system 220 is configured to form, on the basis of second data received from the first other network element, a first limit value indicating the smallest of hop-specific data transfer speeds related to the above-mentioned first data transfer path. The processing system 220 is configured to control transmission speed of a first data flow transmitted from the network element to the first other network element to be limited on the basis the first limit value.</p><p id="p0027" num="0027">In a network element according to an exemplifying embodiment of the invention, the processing system 220 is configured to control the network element to transmit the first data repeatedly to the first other network element via the first data transfer path, and to update the first limit value on the basis of the second data received repeatedly in response to repeating transmissions of the first data.</p><p id="p0028" num="0028">In a network element according to an exemplifying embodiment of the invention, the processing system 220 is configured to update a shaper 228 of the network element to limit peak transmission speed of the first data flow from the network element to the first other network element to be at most the first limit value.</p><p id="p0029" num="0029">In a network element according to an exemplifying embodiment of the invention, the processing system 220 is configured to:<!-- EPO <DP n="12"> -->
<ul><li>update the shaper 228 of the network element to limit average transmission speed of the first data flow from the network element to the first other network element to be at most the first limit value,</li><li>form, on the basis of the second data received from the first other network element, a first burst limit value indicating buffer capacity available at a transmission-end related to the smallest of the hop-specific data transfer speeds related to the first data transfer path, and</li><li>update the shaper of the network element to limit burst size of the first data flow to be at most the first burst limit value, the burst size being a difference between amount of transmitted data of the first data flow and amount of data transmittable at the smallest of the hop-specific data transfer speeds related to the first data transfer path within an arbitrary time window.</li></ul></p><p id="p0030" num="0030">In a network element according to an exemplifying embodiment of the invention, the processing system 220 is further configured to:
<ul><li>control the network element to transmit the first data to a second other network element via a second data transfer path from the network element to the second other network element,</li><li>form, on the basis of third data received from the second other network element, a second limit value indicating smallest of hop-specific data transfer speeds related to the above-mentioned second data transfer path, and</li><li>control transmission speed of a second data flow transmitted from the network element to the second other network element to be limited on the basis the second limit value, and</li><li>control transmission speed of an aggregate of the first data flow and the second data flow to be limited on the basis of the first limit value when the first limit value is related to a hop belonging to both of the first and second data transfer paths, and on the basis of the second limit value when the second limit value is related to a hop belonging to both of the first and second data transfer paths.</li></ul><!-- EPO <DP n="13"> --></p><p id="p0031" num="0031">The processing system 220 shown in <figref idrefs="f0002">figure 2</figref> can be implemented with one or more programmable processor circuits, one or more dedicated hardware circuits such as an application specific integrated circuit "ASIC", one or more field programmable logic circuits such as a field programmable gate array "FPGA", or a combination of these. Furthermore, it is also possible that the processing system is implemented with the aid of same processor hardware 221 that is used for performing forwarding- and/or control-plane processes related to data transfer protocols being used, e.g. IP, Ethernet, MPLS.</p><p id="p0032" num="0032"><figref idrefs="f0003">Figure 3</figref> shows a flow chart of a method according to an exemplifying embodiment of the invention for finding the smallest of hop-specific data transfer speeds of a data transfer path from a first network element to a second network element. The method comprises the following actions:
<ul><li>action 301: transmitting, from the first network element to the second network element, first data comprising an Ethernet Operations, Administration, and Management "OAM" message,</li><li>action 302: updating, in at least one third network element located on the data transfer path, the first data to indicate so far smallest of the hop-specific data transfer speeds, and</li><li>action 303: in response to reception of the first data at the second network element, transmitting, from the second network element to the first network element, second data indicating the smallest of the hop-specific data transfer speeds.</li></ul></p><p id="p0033" num="0033">A method according to an exemplifying embodiment of the invention comprises transmitting the first data repeatedly from the first network element to the second network element, as illustrated by an arrow 304 in <figref idrefs="f0003">figure 3</figref>.</p><p id="p0034" num="0034">In a method according to an exemplifying embodiment of the invention, the Ethernet OAM message is a Continuity Check Message "CCM" suitable for detecting loss of continuity and incorrect network connections. In a method according to another exemplifying embodiment of the invention, the Ethernet OAM message is<!-- EPO <DP n="14"> --> a Link Trace Message "LTM" suitable for tracking the data transfer path from the network element to the other network element.</p><p id="p0035" num="0035">A method according to an exemplifying embodiment of the invention further comprises:
<ul><li>updating, in the at least one third network element located on the data transfer path, the first data to indicate buffer capacity available at a transmission-end related to the so far smallest of the hop-specific data transfer speeds, and</li><li>including, to the second data, information indicating the buffer capacity available at the transmission-end related to the smallest of the hop-specific data transfer speeds.</li></ul></p><p id="p0036" num="0036">A method according to an exemplifying embodiment of the invention for controlling a network element comprises:
<ul><li>carrying out a method according to an exemplifying embodiment of the invention for finding the smallest of hop-specific data transfer speeds related to a data transfer path from the network element to another network element, and</li><li>controlling transmission speed of a data flow transferred from the network element to the other network element to be limited on the basis of the smallest of the hop-specific data transfer speeds related to the data transfer path.</li></ul></p><p id="p0037" num="0037">The controlling of the transmission speed may comprise, for example, updating a shaper of the network element to limit peak transmission speed of the data flow to be at most the smallest of hop-specific data transfer speeds related to the data transfer path. For another example, the controlling of the transmission speed may comprise:<!-- EPO <DP n="15"> -->
<ul><li>updating the shaper of the network element to limit average transmission speed of the data flow to be at most the smallest of the hop-specific data transfer speeds related to the data transfer path, and</li><li>updating the shaper of the network element to limit burst size of the data flow to be at most buffer capacity available at the transmission-end related to the smallest of the hop-specific data transfer speeds related to the data transfer path, the burst size being a difference between amount of transmitted data of the data flow and amount of data transmittable at the smallest of the hop-specific data transfer speeds related to the data transfer path within an arbitrary time window.</li></ul></p><p id="p0038" num="0038">A method according to an exemplifying embodiment of the invention for controlling a network element comprises:
<ul><li>carrying out a method according to an exemplifying embodiment of the invention for finding the smallest of hop-specific data transfer speeds related to a first data transfer path from the network element to a first other network element,</li><li>controlling transmission speed of a first data flow transferred from the network element to the first other network element to be limited on the basis of the smallest of the hop-specific data transfer speeds related to the first data transfer path,</li><li>carrying out a method according to an exemplifying embodiment of the invention for finding smallest of hop-specific data transfer speeds related to a second data transfer path from the network element to a second other network element,</li><li>controlling transmission speed of a second data flow transferred from the network element to the second other network element to be limited on the basis of the smallest of the hop-specific data transfer speeds related to the second data transfer path, and<!-- EPO <DP n="16"> --></li><li>controlling transmission speed of an aggregate of the first data flow and the second data flow to be limited on the basis of the smallest of the hop-specific data transfer speeds related to the first data transfer path when a hop having the smallest of the hop-specific data transfer speeds related to the first data transfer path belongs also to the second data transfer path, and on the basis of the smallest of the hop-specific data transfer speeds related to the second data transfer path when a hop having the smallest of the hop-specific data transfer speeds related to the second data transfer path belongs also to the first data transfer path.</li></ul></p><p id="p0039" num="0039">A computer program according to an exemplifying embodiment of the invention for controlling a network element comprises computer executable instructions for controlling a programmable processor to carry out a method according to any of the above-described exemplifying embodiments of the invention for controlling a network element.</p><p id="p0040" num="0040">A computer program according to an exemplifying embodiment of the invention comprises software modules for controlling a programmable processor to control a network element. The software modules comprise computer executable instructions for controlling the programmable processor to:
<ul><li>control the network element to transmit first data to another network element via a data transfer path from the network element to the other network element, the first data comprising an Ethernet Operations, Administration, and Management message,</li><li>form, on the basis of second data received from the other network element, a first limit value indicating smallest of hop-specific data transfer speeds related to the data transfer path, and</li><li>control transmission speed of a data flow transmitted from the network element to the other network element to be limited on the basis the first limit value.</li></ul><!-- EPO <DP n="17"> --></p><p id="p0041" num="0041">The software modules can be, for example, subroutines and functions generated with a suitable programming language.</p><p id="p0042" num="0042">A computer program product according to an exemplifying embodiment of the invention comprises a non-volatile computer readable medium, e.g. a compact disc ("CD"), encoded with the above-mentioned software modules.</p><p id="p0043" num="0043">A signal according to an exemplifying embodiment of the invention is encoded to carry information defining a computer program according to an embodiment of the invention.</p><p id="p0044" num="0044">The specific examples provided in the description given above should not be construed as limiting the applicability and/or the interpretation of the appended claims.</p></description><claims mxw-id="PCLM56976212" lang="EN" load-source="patent-office"><!-- EPO <DP n="18"> --><claim id="c-en-0001" num="0001"><claim-text>A network element (201) comprising a processing system (220) configured to:
<claim-text>- control the network element to transmit first data to a first other network element via a first data transfer path from the network element to the first other network element, the first data comprising an Ethernet Operations, Administration, and Management message,</claim-text>
<claim-text>- form, at least partly on the basis of second data received from the first other network element, a first limit value indicating smallest of hop-specific data transfer speeds related to the first data transfer path, and</claim-text>
<claim-text>- control transmission speed of a first data flow transmitted from the network element to the first other network element to be limited on the basis the first limit value,</claim-text>
<b>characterized in that</b> the Ethernet Operations, Administration, and Management message represents a request for the second data.</claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>A network element according to claim 1, wherein the processing system is configured to control the network element to transmit the first data repeatedly to the first other network element via the first data transfer path.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>A network element according to claim 1 or 2, wherein the Ethernet Operations, Administration, and Management message is a Continuity Check Message suitable for detecting loss of continuity and incorrect network connections.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>A network element according to claim 1 or 2, wherein the Ethernet Operations, Administration, and Management message is a Link Trace Message suitable for tracking the data transfer path from the network element to the other network element.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>A network element according to any of claims 1-4, wherein the processing system is configured to update a shaper (228) of the network element to limit peak transmission speed of the first data flow to be at most the first limit value.<!-- EPO <DP n="19"> --></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>A network element according to claim 1-4, wherein the processing system is configured to:
<claim-text>- update a shaper (228) of the network element to limit average transmission speed of the first data flow to be at most the first limit value,</claim-text>
<claim-text>- form, on the basis of the second data, a burst limit value indicating buffer capacity available at a transmission-end related to the smallest of the hop-specific data transfer speeds related to the first data transfer path, and</claim-text>
<claim-text>- update the shaper of the network element to limit burst size of the first data flow to be at most the burst limit value, the burst size being a difference between amount of data of the first data flow transmitted within an arbitrary time window and amount of data transmittable at speed corresponding to the first limit value within the arbitrary time window.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>A network element according to any of claims 1-6, wherein the processing system is configured to:
<claim-text>- control the network element to transmit the first data to a second other network element via a second data transfer path from the network element to the second other network element,</claim-text>
<claim-text>- form, on the basis of third data received from the second other network element, a second limit value indicating smallest of hop-specific data transfer speeds related to the above-mentioned second data transfer path, and</claim-text>
<claim-text>- control transmission speed of a second data flow transmitted from the network element to the second other network element to be limited on the basis the second limit value, and</claim-text>
<claim-text>- control transmission speed of an aggregate of the first data flow and the second data flow to be limited on the basis of the first limit value when the first limit value is related to a hop belonging to both of the first and second data transfer paths, and on the basis of the second limit value when the second<!-- EPO <DP n="20"> --> limit value is related to a hop belonging to both of the first and second data transfer paths.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>A network element according to any of claims 1-7, wherein the network element is at least one of the following: an Internet Protocol ("IP") router, an Ethernet switch, a MultiProtocol Label Switching ("MPLS") switch.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>A data transfer system comprising a first network element (101), a second network element (102), and one or more third network elements (104, 105) on a data transfer path from the first network element to the second network element, wherein:
<claim-text>- the first network element is a network element according to any of claims 1-8,</claim-text>
<claim-text>- each of the third network elements is configured to update the first data to indicate so far smallest of hop-specific data transfer speeds related the data transfer path, and</claim-text>
<claim-text>- the second network element is configured to transmit, in response to reception of the first data at the second network element, second data to the first network element, the second data indicating the smallest of the hop-specific data transfer speeds.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A data transfer system according to claim 9, wherein the second data comprises an Ethernet Operations, Administration, and Management message.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>A method for finding smallest of hop-specific data transfer speeds related to a data transfer path from a first network element to a second network element, the method comprising:
<claim-text>- transmitting (301), from the first network element to the second network element, first data comprising an Ethernet Operations, Administration, and Management message,<!-- EPO <DP n="21"> --></claim-text>
<claim-text>- updating (302), in at least one third network element located on the data transfer path, the first data to indicate so far smallest of the hop-specific data transfer speeds, and</claim-text>
<claim-text>- in response to reception of the first data at the second network element, transmitting (303), from the second network element to the first network element, second data indicating the smallest of the hop-specific data transfer speeds,</claim-text>
<b>characterized in that</b> the Ethernet Operations, Administration, and Management message represents a request for the second data.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>A system for finding smallest of hop-specific data transfer speeds related to a data transfer path from a first network element (101) to a second network element (102), wherein:
<claim-text>- the first network element is configured to transmit, to the second network element, first data comprising an Ethernet Operations, Administration, and Management message,</claim-text>
<claim-text>- each of one or more third network elements (104, 105) located on the data transfer path is configured to update the first data to indicate so far smallest of the hop-specific data transfer speeds, and</claim-text>
<claim-text>- the second network element is configured to transmit, in response to reception of the first data at the second network element, second data to the first network element, the second data indicating the smallest of the hop-specific data transfer speeds,</claim-text>
<b>characterized in that</b> the Ethernet Operations, Administration, and Management message represents a request for the second data.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>A system according to claim 12, wherein the first network element is configured to transmit the first data repeatedly to the second network element.<!-- EPO <DP n="22"> --></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>A computer program for controlling a network element, the computer program comprising computer executable instructions for controlling a programmable processor to:
<claim-text>- control the network element to transmit first data to another network element via a data transfer path from the network element to the other network element, the first data comprising an Ethernet Operations, Administration, and Management message,</claim-text>
<claim-text>- form, on the basis of second data received from the other network element, a first limit value indicating smallest of hop-specific data transfer speeds related to the data transfer path, and</claim-text>
<claim-text>- control transmission speed of a data flow transmitted from the network element to the other network element to be limited on the basis the first limit value,</claim-text>
<b>characterized in that</b> the Ethernet Operations, Administration, and Management message represents a request for the second data.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>A computer program product comprising a non-transitory computer readable medium encoded with a computer program according to claim 14.</claim-text></claim></claims><drawings mxw-id="PDW16666994" load-source="patent-office"><!-- EPO <DP n="23"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="162" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="24"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="25"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="159" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="158" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
