<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680226-A1" country="EP" doc-number="2680226" kind="A1" date="20140101" family-id="48613490" file-reference-id="318319" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549378" ucid="EP-2680226-A1"><document-id><country>EP</country><doc-number>2680226</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13171832-A" is-representative="YES"><document-id mxw-id="PAPP154823301" load-source="docdb" format="epo"><country>EP</country><doc-number>13171832</doc-number><kind>A</kind><date>20130613</date><lang>EN</lang></document-id><document-id mxw-id="PAPP175460556" load-source="docdb" format="original"><country>EP</country><doc-number>13171832.2</doc-number><date>20130613</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140452223" ucid="EP-12305744-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>12305744</doc-number><kind>A</kind><date>20120626</date></document-id></priority-claim><priority-claim mxw-id="PPC140450510" ucid="EP-13171832-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>13171832</doc-number><kind>A</kind><date>20130613</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-2040294918" load-source="docdb">G06T   7/00        20060101AFI20150629BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1861388260" load-source="docdb" scheme="CPC">G06T   7/11        20170101 LI20170102BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2049520460" load-source="docdb" scheme="CPC">G06T2207/10016     20130101 LA20150602BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2049527163" load-source="docdb" scheme="CPC">G06T2207/10024     20130101 LA20150602BHEP        </classification-cpc><classification-cpc mxw-id="PCL1991313274" load-source="docdb" scheme="CPC">G09G   5/02        20130101 FI20131219BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180618" lang="DE" load-source="patent-office">Zeitlich konsistente Superpixel</invention-title><invention-title mxw-id="PT132180619" lang="EN" load-source="patent-office">Temporally consistent superpixels</invention-title><invention-title mxw-id="PT132180620" lang="FR" load-source="patent-office">Superpixels temporellement constants</invention-title><citations><patent-citations><patcit mxw-id="PCIT242652366" load-source="docdb" ucid="US-20020027561-A1"><document-id format="epo"><country>US</country><doc-number>20020027561</doc-number><kind>A1</kind><date>20020307</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>0. VEKSLER ET AL.: "Computer Vision - ECCV 2010", vol. 6315, 2010, SPRINGER BERLIN / HEIDELBERG, article "Superpixels and Supervoxels in an Energy Optimization Framework", pages: 211 - 224</text><sources><source mxw-id="PNPL55078262" load-source="docdb" name="APP"/></sources></nplcit><nplcit><text>A. LEVINSHTEIN ET AL.: "Computer Vision - ACCV 2010", vol. 6492, 2011, SPRINGER BERLIN / HEIDELBERG, article "Spatiotemporal Closure", pages: 369 - 382</text><sources><source mxw-id="PNPL55078263" load-source="docdb" name="APP"/></sources></nplcit><nplcit><text>ACHANTA, RADHAKRISHNA; SHAJI, APPU; SMITH, KEVIN; LUCCHI, AURÉLIEN; FUA, PASCAL; SÜSSTRUNK, SABINE: "SLIC Superpixels", EPFL TECHNICAL REPORT, no. 149300, June 2010 (2010-06-01), XP002712355, Retrieved from the Internet &lt;URL:http://infoscience.epfl.ch/record/149300/files/SLIC_Superpixels_TR_2.pdf&gt; [retrieved on 20130904]</text><sources><source mxw-id="PNPL55078264" load-source="docdb" name="SEA" category="AD"/></sources></nplcit><nplcit><text>DENG Y ET AL: "UNSUPERVISED SEGMENTATION OF COLOR-TEXTURE REGIONS IN IMAGES AND VIDEO", TRANSACTIONS ON PATTERN ANALYSIS AND MACHINE INTELLIGENCE, IEEE, PISCATAWAY, USA, vol. 23, no. 8, 1 August 2001 (2001-08-01), pages 800 - 810, XP001091620, ISSN: 0162-8828, DOI: 10.1109/34.946985</text><sources><source mxw-id="PNPL55078265" load-source="docdb" name="SEA" category="XA"/></sources></nplcit><nplcit><text>R. ACHANTA ET AL.: "SLIC Superpixels", EPFL TECHNICAL REPORT 149300, June 2010 (2010-06-01)</text><sources><source mxw-id="PNPL55078266" load-source="docdb" name="APP"/></sources></nplcit><nplcit><text>SHU WANG ET AL: "Superpixel tracking", COMPUTER VISION (ICCV), 2011 IEEE INTERNATIONAL CONFERENCE ON, IEEE, 6 November 2011 (2011-11-06), pages 1323 - 1330, XP032101338, ISBN: 978-1-4577-1101-5, DOI: 10.1109/ICCV.2011.6126385</text><sources><source mxw-id="PNPL55078267" load-source="docdb" name="SEA" category="A"/></sources></nplcit><nplcit><text>X. REN ET AL.: "Learning a classification model for segmentation", IEEE INTERNATIONAL CONFERENCE ON COMPUTER VISION (ICCV, 2003, pages 10 - 17</text><sources><source mxw-id="PNPL55078268" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918141106" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>THOMSON LICENSING</last-name><address><country>FR</country></address></addressbook></applicant><applicant mxw-id="PPAR918167246" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>THOMSON LICENSING</last-name></addressbook></applicant><applicant mxw-id="PPAR918985293" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Thomson Licensing</last-name><iid>101157220</iid><address><street>1-5, rue Jeanne d'Arc</street><city>92130 Issy-Les-Moulineaux</city><country>FR</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918141367" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>RESO MATTHIAS</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918173303" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>RESO, MATTHIAS</last-name></addressbook></inventor><inventor mxw-id="PPAR918983479" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>RESO, MATTHIAS</last-name><address><street>Hebbelstrasse 13</street><city>30177 Hannover</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918162469" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>JACHALSKY JOERN</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918152385" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>JACHALSKY, JOERN</last-name></addressbook></inventor><inventor mxw-id="PPAR918991315" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>JACHALSKY, JOERN</last-name><address><street>Landwehr 8</street><city>30974 Wennigsen</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918139723" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>ROSENHAHN BODO</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918143936" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>Rosenhahn, Bodo</last-name></addressbook></inventor><inventor mxw-id="PPAR918994190" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>Rosenhahn, Bodo</last-name><address><street>Am Gruenen Ring 12</street><city>30952 Ronnenberg</city><country>DE</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918982477" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Schmidt-Uhlig, Thomas</last-name><iid>100823204</iid><address><street>Deutsche Thomson OHG European Patent Operations Karl-Wiechert-Allee 74</street><city>30625 Hannover</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548863888" load-source="docdb">AL</country><country mxw-id="DS548804598" load-source="docdb">AT</country><country mxw-id="DS548864582" load-source="docdb">BE</country><country mxw-id="DS548877375" load-source="docdb">BG</country><country mxw-id="DS548840711" load-source="docdb">CH</country><country mxw-id="DS548889877" load-source="docdb">CY</country><country mxw-id="DS548804599" load-source="docdb">CZ</country><country mxw-id="DS548864583" load-source="docdb">DE</country><country mxw-id="DS548889878" load-source="docdb">DK</country><country mxw-id="DS548889879" load-source="docdb">EE</country><country mxw-id="DS548857975" load-source="docdb">ES</country><country mxw-id="DS548877376" load-source="docdb">FI</country><country mxw-id="DS548877377" load-source="docdb">FR</country><country mxw-id="DS548864584" load-source="docdb">GB</country><country mxw-id="DS548889880" load-source="docdb">GR</country><country mxw-id="DS548864585" load-source="docdb">HR</country><country mxw-id="DS548804600" load-source="docdb">HU</country><country mxw-id="DS548840712" load-source="docdb">IE</country><country mxw-id="DS548889881" load-source="docdb">IS</country><country mxw-id="DS548877378" load-source="docdb">IT</country><country mxw-id="DS548889882" load-source="docdb">LI</country><country mxw-id="DS548803472" load-source="docdb">LT</country><country mxw-id="DS548804601" load-source="docdb">LU</country><country mxw-id="DS548803473" load-source="docdb">LV</country><country mxw-id="DS548803486" load-source="docdb">MC</country><country mxw-id="DS548860691" load-source="docdb">MK</country><country mxw-id="DS548860692" load-source="docdb">MT</country><country mxw-id="DS548864590" load-source="docdb">NL</country><country mxw-id="DS548877379" load-source="docdb">NO</country><country mxw-id="DS548803488" load-source="docdb">PL</country><country mxw-id="DS548840713" load-source="docdb">PT</country><country mxw-id="DS548864591" load-source="docdb">RO</country><country mxw-id="DS548840802" load-source="docdb">RS</country><country mxw-id="DS548803489" load-source="docdb">SE</country><country mxw-id="DS548840803" load-source="docdb">SI</country><country mxw-id="DS548877380" load-source="docdb">SK</country><country mxw-id="DS548803494" load-source="docdb">SM</country><country mxw-id="DS548889883" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128670048" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A method and an apparatus for generating superpixels for a sequence of frames are described. A feature space of the sequence of frames is separated (10) into a color subspace and a spatial subspace. A clustering (11) is then performed in the spatial subspace on a frame basis. In the color subspace a clustering (12) is performed on stacked frames.
<img id="iaf01" file="imgaf001.tif" wi="81" he="99" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499421" lang="EN" source="EPO" load-source="docdb"><p>A method and an apparatus for generating superpixels for a sequence of frames are described. A feature space of the sequence of frames is separated (10) into a color subspace and a spatial subspace. A clustering (11) is then performed in the spatial subspace on a frame basis. In the color subspace a clustering (12) is performed on stacked frames.</p></abstract><description mxw-id="PDES63955478" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">The invention relates to the generation of superpixels for image processing, image analysis, and region segmentation. More specifically, the invention addresses the temporal consistency of superpixels generated on video sequences.</p><p id="p0002" num="0002">Superpixel algorithms represent a very useful and increasingly popular preprocessing step for a wide range of computer vision applications, such as segmentation, image parsing, classification etc. Grouping similar pixels into so called superpixels leads to a major reduction of the image primitives. This results in an increased computational efficiency for subsequent processing steps, allows for more complex algorithms computationally infeasible on pixel level, and creates a spatial support for region-based features.</p><p id="p0003" num="0003">Superpixel algorithms group pixels into superpixels. As indicated in <nplcit id="ncit0001" npl-type="s"><text>X. Ren et al.: "Learning a classification model for segmentation", IEEE International Conference on Computer Vision (ICCV) 2003, pp. 10-17</text></nplcit>, superpixels are local, coherent, and preserve most of the structure necessary for segmentation at scale of interest. As further stipulated in the above document, superpixels should be roughly homogeneous in size and shape. Though many superpixel approaches mostly target still images and thus provide only a limited or no temporal consistency at all when applied on video sequences, some approaches target video sequences. See, for example, <nplcit id="ncit0002" npl-type="b"><text>O. Veksler et al.: "Superpixels and Supervoxels in an Energy Optimization Framework", in Computer Vision - ECCV 2010, vol. 6315, K. Daniilidis et al., Eds. Springer Berlin / Heidelberg, 2010, pp. 211-224</text></nplcit>, or <nplcit id="ncit0003" npl-type="b"><text>A. Levinshtein et al.: "Spatiotemporal Closure", in Computer Vision - ACCV 2010, vol. 6492, R. Kimmel et al., Eds. Springer Berlin / Heidelberg, 2011, pp. 369-382</text></nplcit>.<!-- EPO <DP n="2"> --></p><p id="p0004" num="0004">These approaches start to deal with the issue of temporal consistency.</p><p id="p0005" num="0005">It is an object of the present invention to propose a solution for generating superpixels for a sequence of frames, which achieves an improved temporal consistency of the superpixels.</p><p id="p0006" num="0006">According to the invention, a method for generating superpixels for a sequence of frames comprises the steps of:
<ul><li>separating a feature space of the sequence of frames into a color subspace and a spatial subspace;</li><li>performing a clustering in the spatial subspace on a frame basis; and</li><li>performing a clustering in the color subspace on stacked frames.</li></ul></p><p id="p0007" num="0007">Accordingly, an apparatus for generating superpixels for a sequence of frames is adapted to perform the above steps. For this purpose the apparatus has a feature space separator for separating a feature space of the sequence of frames into a color subspace and a spatial subspace. Furthermore, the apparatus has a first cluster generator for performing a clustering in the spatial subspace on a frame basis and a second cluster generator for performing a clustering in the color subspace on stacked frames.</p><p id="p0008" num="0008">Also, computer readable storage medium has stored therein instructions enabling generating superpixels for a sequence of frames, which when executed by a computer, cause the computer to:
<ul><li>separate a feature space of the sequence of frames into a color subspace and a spatial subspace;</li><li>perform a clustering in the spatial subspace on a frame<!-- EPO <DP n="3"> --> basis; and</li><li>perform a clustering in the color subspace on stacked frames.</li></ul></p><p id="p0009" num="0009">The proposed solution leverages optical flow information and applies a pixel clustering in the image cube, i.e. the stacked images, instead of a clustering in single images. For the clustering in the image cube the original 5D feature space is separated into the color subspace and the spatial subspace, i.e. the pixel coordinates within a frame. The clustering in the color subspace is done on the image cube and the clustering in the spatial subspace is done on frame level.</p><p id="p0010" num="0010">Leveraging optical flow information increases the temporal robustness, allowing to handle even fast motion in scenes, and reduces the search window size. A so called "tube" within the image cube is created. This tube comprises all the search windows in the subsequent frames forming the image cube.</p><p id="p0011" num="0011">The solution significantly improves the temporal consistency of superpixels generated on video sequences and hence results in high quality superpixels. This is a key enabler for temporally consistent results of subsequent processing steps or computer vision applications relying on superpixels.</p><p id="p0012" num="0012">For a better understanding the invention shall now be explained in more detail in the following description with reference to the figures. It is understood that the invention is not limited to this exemplary embodiment and that specified features can also expediently be combined and/or modified without departing from the scope of the present invention as defined in the appended claims. In the figures:
<dl id="dl0001"><dt>Fig. 1</dt><dd>shows an image to be segmented into superpixels;<!-- EPO <DP n="4"> --></dd><dt>Fig. 2</dt><dd>depicts a boundary map obtained for the image of <figref idrefs="f0001">Fig. 1</figref>;</dd><dt>Fig. 3</dt><dd>shows a segmentation map obtained for the image of <figref idrefs="f0001">Fig. 1</figref> based on the boundary map of <figref idrefs="f0001">Fig. 2</figref>;</dd><dt>Fig. 4</dt><dd>schematically illustrates a flowchart of a method according to the invention,</dd><dt>Fig. 5</dt><dd>depicts an algorithm in pseudo code implementing update and assignment procedures as well as an initialization;</dd><dt>Fig. 6</dt><dd>shows a sequence of frames and the corresponding boundary maps and segmentation maps without temporal consistency;</dd><dt>Fig. 7</dt><dd>shows the same sequence of frames as <figref idrefs="f0004">Fig. 6</figref> and the corresponding boundary maps and segmentation maps with temporal consistency; and</dd><dt>Fig. 8</dt><dd>schematically illustrates an apparatus according to the invention for generating superpixels for a sequence of frames.</dd></dl></p><p id="p0013" num="0013"><figref idrefs="f0001 f0002">Figs. 1 to 3</figref> show an example of a segmentation of an image into superpixels. <figref idrefs="f0001">Fig. 1</figref> depicts the original image 1. A boundary map 2 generated for the image 1 is shown in <figref idrefs="f0001">Fig. 2</figref>. The boundary map 2 is an array that illustrates the probability that a semantically meaningful boundary is present between two pixels of the image. In the simplest case the array is the binary output of an edge detector. However, more complicated schemes may be used to obtain more reliable boundary maps. <figref idrefs="f0002">Fig. 3</figref> depicts the segment map 3 obtained for the image 1 based<!-- EPO <DP n="5"> --> on the boundary map 2. The grey value of each segment is set to the average grey value of the corresponding area of the original image 1.</p><p id="p0014" num="0014">A method according to the invention for generating superpixels for a sequence of frames is schematically illustrated in <figref idrefs="f0002">Fig. 4</figref>. In a first step a feature space of the sequence of frames is separated 10 into a color subspace and a spatial subspace. In the spatial subspace clustering 11 is then performed on a frame basis, whereas in the color subspace clustering 12 is performed on stacked frames.</p><p id="p0015" num="0015">The present solution allows the generation of temporally consistent superpixels on subsequent frames of videos. The term 'temporally consistent superpixel' here means meant that for each superpixel the corresponding instances in all other frames are known and that those superpixels comprise corresponding pixels in the frames.</p><p id="p0016" num="0016">The proposed approach is an extension of the basic idea found in <nplcit id="ncit0004" npl-type="s"><text>R. Achanta et al.: "SLIC Superpixels", EPFL Technical Report 149300, Jun. 2010</text></nplcit>, which describes the generation of superpixels on still images by clustering in a five-dimensional space. The segmentation of the frames into superpixels is based on color similarity and spatial proximity. In contrast to the work by R. Achanta et al. the current approach works not on a single still image but on a sequence of J images pooled in an image cube or stack.</p><p id="p0017" num="0017">Every single pixel <b><i>i</i></b> of an image j that is part of the image cube can be seen as a point in a five-dimensional [<i>labxy</i>] space where [<i>lab</i>] are the three dimensions of CIELAB color space and [xy] are the image coordinates. In the work by CIELAB every single image of the image cube would have an independent 5D<!-- EPO <DP n="6"> --> space. In contrast to that the present approach joins the three color dimensions [<i>lab</i>] of all pixels of the image cube into one three dimensional joint color space. This is possible as the colors of pixels belonging to the same superpixel are expected to be similar in subsequent frames of the image cube. As this does not hold for the location of superpixel instances in different frames, the spatial dimensions [xy] are treated as independent for every image in the image cube.</p><p id="p0018" num="0018">In the above article every superpixel is represented by a cluster center, which corresponds to a point in the 5D space. However, as according to the present solution color and spatial dimensions are treated in different ways, the cluster centers of the K superpixels have to be extended. Every superpixel k is represented by one color center <i>c<sub>k</sub> =</i> [<i>l<sub>k</sub> a<sub>k</sub> b<sub>k</sub></i>]<i><sup>T</sup></i> that is valid for all frames and furthermore a separate spatial center s<i><sub>j,k</sub></i> = <i>[x<sub>j,k</sub> y<sub>j,k</sub></i>]<i><sup>T</sup></i> for every single frame <i>j</i>.</p><p id="p0019" num="0019">The distance of a pixel <i>i</i> in frame <i>j</i> to the cluster center of superpixel k can be calculated by <maths id="math0001" num="(1)"><math display="block"><mi mathvariant="italic">dist</mi><mfenced separators=""><mi>i</mi><mo>⁢</mo><mi>j</mi><mo>⁢</mo><mi>k</mi></mfenced><mo>=</mo><msub><mi mathvariant="italic">d</mi><mi mathvariant="italic">lab</mi></msub><mo>+</mo><mfrac><mi mathvariant="italic">m</mi><mi mathvariant="italic">S</mi></mfrac><mo>⋅</mo><msub><mi mathvariant="italic">d</mi><mi mathvariant="italic">xy</mi></msub><mo>,</mo></math><img id="ib0001" file="imgb0001.tif" wi="125" he="21" img-content="math" img-format="tif"/></maths><br/>
where the scaling factor <maths id="math0002" num=""><math display="inline"><mfrac><mi>m</mi><mi>s</mi></mfrac></math><img id="ib0002" file="imgb0002.tif" wi="5" he="9" img-content="math" img-format="tif" inline="yes"/></maths> normalizes the spatial distance <i>d<sub>xy</sub></i> into the range of the color distance <i>dl<sub>ab</sub></i>. The parameter m controls the compactness of the superpixels, and <maths id="math0003" num=""><math display="inline"><mi>S</mi><mo>=</mo><msqrt><mfrac><mi>N</mi><mi>K</mi></mfrac></msqrt><mo>,</mo></math><img id="ib0003" file="imgb0003.tif" wi="18" he="13" img-content="math" img-format="tif" inline="yes"/></maths> where <i>N</i> is the number of pixels in a frame and K is the number of superpixels.</p><p id="p0020" num="0020">The color distance can be calculated with respect to the color center of the k's superpixel:<!-- EPO <DP n="7"> --> <maths id="math0004" num="(2)"><math display="block"><msub><mi>d</mi><mi mathvariant="italic">lab</mi></msub><mo>=</mo><msqrt><mfenced separators=""><msup><mfenced separators=""><msub><mi>l</mi><mi>k</mi></msub><mo>-</mo><msub><mi>l</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub></mfenced><mn>2</mn></msup><mo>+</mo><msup><mfenced separators=""><msub><mi>a</mi><mi>k</mi></msub><mo>-</mo><msub><mi>a</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub></mfenced><mn>2</mn></msup><mo>+</mo><msup><mfenced separators=""><msub><mi>b</mi><mi>k</mi></msub><mo>-</mo><msub><mi>b</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub></mfenced><mn>2</mn></msup></mfenced></msqrt><mn>.</mn></math><img id="ib0004" file="imgb0004.tif" wi="142" he="19" img-content="math" img-format="tif"/></maths></p><p id="p0021" num="0021">The spatial distance has to be calculated with respect to the spatial center of the k's superpixel in the corresponding frame j: <maths id="math0005" num="(3)"><math display="block"><msub><mi>d</mi><mi mathvariant="italic">xy</mi></msub><mo>=</mo><msqrt><mfenced separators=""><msup><mfenced separators=""><msub><mi>x</mi><mrow><mi>j</mi><mo>,</mo><mi>k</mi></mrow></msub><mo>-</mo><msub><mi>x</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub></mfenced><mn>2</mn></msup><mo>+</mo><msup><mfenced separators=""><msub><mi>y</mi><mrow><mi>j</mi><mo>,</mo><mi>k</mi></mrow></msub><mo>-</mo><msub><mi>y</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub></mfenced><mn>2</mn></msup></mfenced></msqrt><mn>.</mn></math><img id="ib0005" file="imgb0005.tif" wi="135" he="20" img-content="math" img-format="tif"/></maths><br/>
For minimizing the computational effort the approach described by R. Achanta et al. uses a search window of 2S×2S around the spatial cluster center. As the present approach operates on an image cube this local search window is extended into the temporal dimension by creating a search window on every frame centered around the spatial cluster center <i>s<sub>j,k</sub>.</i> This can be seen as a search tube winding through the image cube.</p><p id="p0022" num="0022">A sliding window or sliding tube approach is used to allow the color of a superpixel to change in the long term. The sliding window is spanned around a center frame, also called the present frame. Before and after the present frame there can be up to P past frames and F future frames that are successive and direct neighbors of the present frame. When the sliding window is shifted by one frame a new frame enters the window and the oldest future frame becomes the present frame. At the same time the present frame becomes the youngest past frame and the oldest past frame leaves the sliding window.</p><p id="p0023" num="0023">For real-time applications, were no future frames are available, they can be emulated by delaying the video stream to achieve this look-ahead.<!-- EPO <DP n="8"> --></p><p id="p0024" num="0024">The segmentation into superpixels uses a localized k-means approach with a special initialization sequence and special update and assignment procedures as more than one frame is involved. The update and assignment procedures as well as the initialization are described in <figref idrefs="f0001">Fig. 2</figref>, which depicts a corresponding algorithm.</p><p id="p0025" num="0025">In addition, as in the work by R. Achanta et al. a so called EnforceConnectivity step is applied.</p><p id="p0026" num="0026">It should be noted that the assignments are only changed for the current and future frames, not for the past frame. Thus, the past frames have a "conservative behavior".</p><p id="p0027" num="0027">In order to illustrate how the proposed solution improves the temporal consistency of the superpixels of subsequent frames, <figref idrefs="f0004">Figs. 6a</figref>) to c) show a sequence of frames 1 and the corresponding boundary maps 2 and segmentation maps 3 obtained without using the proposed solution. <figref idrefs="f0005">Figs. 7a</figref>) to c) show the same sequence of frames 1 and the corresponding boundary maps 2 and segmentation maps 3. However, in this case the proposed solution is used. The differences are best visible in the boundary maps, especially in the area corresponding to the rubber whale in the center of the frames and the shell in the bottom center of the frames. As can be seen, in <figref idrefs="f0004">Figs. 6a</figref>) to c) the identified boundaries for these objects (highlighted by the solid circles) change significantly between the frames, whereas they are rather stable in <figref idrefs="f0005">Figs. 7a</figref>) to c). It can also be seen from the segments maps 3 that the superpixels are a useful tool for assessing the structure of a scene.</p><p id="p0028" num="0028"><figref idrefs="f0005">Fig. 8</figref> schematically illustrates an apparatus 20 according to the invention for generating superpixels for a sequence of frames. The apparatus 20 comprises an input 21 for receiving a<!-- EPO <DP n="9"> --> sequence of frames. A separator 22 separates 10 a feature space of the sequence of frames into a color subspace and a spatial subspace. A spatial clustering unit 23 performing a clustering 11 in the spatial subspace on a frame basis. A color clustering unit 24 performs a clustering 12 in the color subspace on stacked frames. The results of the clustering operations 11, 12 are made available at an output 25. Of course, the different elements of the apparatus 20 may likewise be combined into a single dedicated processing unit. The may also be implemented as software running on a processor.</p></description><claims mxw-id="PCLM56976395" lang="EN" load-source="patent-office"><!-- EPO <DP n="10"> --><claim id="c-en-0001" num="0001"><claim-text>A method for generating superpixels for a sequence of frames, the method <b>comprising</b> the steps of:
<claim-text>- separating (10) a feature space of the sequence of frames into a color subspace and a spatial subspace;</claim-text>
<claim-text>- performing a clustering (11) in the spatial subspace on a frame basis; and</claim-text>
<claim-text>- performing a clustering (12) in the color subspace on stacked frames.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, <b>wherein</b> a search window centered around a spatial cluster center and extended into a temporal domain is used for performing the clustering (11) in the spatial subspace and the clustering (12) in the color subspace.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 2, wherein the search window is a sliding window spanned around a center frame.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>An apparatus (20) for generating superpixels for a sequence of frames, <b>characterized in that</b> the apparatus comprises:
<claim-text>- a separator (22) for separating (10) a feature space of the sequence of frames into a color subspace and a spatial subspace;</claim-text>
<claim-text>- a spatial clustering unit (23) for performing a clustering (11) in the spatial subspace on a frame basis; and</claim-text>
<claim-text>- a color clustering unit (24) for performing a clustering (12) in the color subspace on stacked frames.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The apparatus (20) according to claim 4, <b>wherein</b> a search window centered around a spatial cluster center and extended into a temporal domain is used by the spatial clustering unit (23) for performing the clustering (11) in the spatial<!-- EPO <DP n="11"> --> subspace and by the color clustering unit (24) for performing the clustering (12) in the color subspace.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The apparatus (20) according to claim 5, <b>wherein</b> the search window is a sliding window spanned around a center frame.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>A computer readable storage medium having stored therein instructions enabling generating superpixels for a sequence of frames, which when executed by a computer, cause the computer to:
<claim-text>- separate (10) a feature space of the sequence of frames into a color subspace and a spatial subspace;</claim-text>
<claim-text>- perform a clustering (11) in the spatial subspace on a frame basis; and</claim-text>
<claim-text>- perform a clustering (12) in the color subspace on stacked frames.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The computer readable storage medium according to claim 7, <b>wherein</b> a search window centered around a spatial cluster center and extended into a temporal domain is used for performing the clustering (11) in the spatial subspace and the clustering (12) in the color subspace.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The computer readable storage medium according to claim 7, <b>wherein</b> the search window is a sliding window spanned around a center frame.</claim-text></claim></claims><drawings mxw-id="PDW16667176" load-source="patent-office"><!-- EPO <DP n="12"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="13"> --><figure id="f0002" num="3,4"><img id="if0002" file="imgf0002.tif" wi="162" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="14"> --><figure id="f0003" num="5"><img id="if0003" file="imgf0003.tif" wi="165" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="15"> --><figure id="f0004" num="6a,6b,6c"><img id="if0004" file="imgf0004.tif" wi="165" he="185" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="16"> --><figure id="f0005" num="7a,7b,7c,8"><img id="if0005" file="imgf0005.tif" wi="156" he="233" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="158" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="160" he="233" type="tif"/><doc-page id="srep0003" file="srep0003.tif" wi="155" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
