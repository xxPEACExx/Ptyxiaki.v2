<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680638-A1" country="EP" doc-number="2680638" kind="A1" date="20140101" family-id="44251851" file-reference-id="315071" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549432" ucid="EP-2680638-A1"><document-id><country>EP</country><doc-number>2680638</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11859607-A" is-representative="YES"><document-id mxw-id="PAPP154823355" load-source="docdb" format="epo"><country>EP</country><doc-number>11859607</doc-number><kind>A</kind><date>20110722</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP181191660" load-source="docdb" format="original"><country>EP</country><doc-number>11859607.1</doc-number><date>20110722</date><lang>ZH</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140450898" ucid="CN-2011077503-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2011077503</doc-number><kind>W</kind><date>20110722</date></document-id></priority-claim><priority-claim mxw-id="PPC140445753" ucid="CN-201110043385-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201110043385</doc-number><kind>A</kind><date>20110222</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1949013584" load-source="docdb">G06F   3/038       20130101AFI20160414BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1949013585" load-source="docdb">G06F   3/0354      20130101ALI20160414BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2030635152" load-source="docdb" scheme="CPC">G06F   3/038       20130101 LI20150813BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2030644580" load-source="docdb" scheme="CPC">G06F  21/6218      20130101 LI20150813BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2030644826" load-source="docdb" scheme="CPC">G06F   3/03542     20130101 LI20150813BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988920132" load-source="docdb" scheme="CPC">G06F  13/385       20130101 FI20131219BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180780" lang="DE" load-source="patent-office">VERFAHREN UND VORRICHTUNG ZUM SENDEN UND EMPFANGEN VON DATEN</invention-title><invention-title mxw-id="PT132180781" lang="EN" load-source="patent-office">METHOD AND DEVICE FOR SENDING AND RECEIVING DATA</invention-title><invention-title mxw-id="PT132180782" lang="FR" load-source="patent-office">PROCÉDÉ ET DISPOSITIF DESTINÉS À L'ENVOI ET À LA RÉCEPTION DE DONNÉES</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918136608" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ZTE CORP</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR918133664" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ZTE CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR918980860" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ZTE Corporation</last-name><iid>101331322</iid><address><street>ZTE Plaza, Keji Road South Hi-Tech Industrial Park Nanshan</street><city>Shenzhen, Guangdong 518057</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918157857" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ZHANG NA</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918146398" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ZHANG, NA</last-name></addressbook></inventor><inventor mxw-id="PPAR918990825" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ZHANG, NA</last-name><address><street>ZTE Plaza Keji Road South Hi-Tech Industrial Park Nanshan</street><city>Shenzhen Guangdong 518057</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918983349" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Ahner, Philippe</last-name><suffix>et al</suffix><iid>101021902</iid><address><street>BREVALEX 95 rue d'Amsterdam</street><city>75378 Paris Cedex 8</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2011077503-W"><document-id><country>CN</country><doc-number>2011077503</doc-number><kind>W</kind><date>20110722</date><lang>ZH</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012113200-A1"><document-id><country>WO</country><doc-number>2012113200</doc-number><kind>A1</kind><date>20120830</date><lang>ZH</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548863690" load-source="docdb">AL</country><country mxw-id="DS548892893" load-source="docdb">AT</country><country mxw-id="DS548863691" load-source="docdb">BE</country><country mxw-id="DS548841200" load-source="docdb">BG</country><country mxw-id="DS548862058" load-source="docdb">CH</country><country mxw-id="DS548869291" load-source="docdb">CY</country><country mxw-id="DS548892978" load-source="docdb">CZ</country><country mxw-id="DS548863692" load-source="docdb">DE</country><country mxw-id="DS548869292" load-source="docdb">DK</country><country mxw-id="DS548869293" load-source="docdb">EE</country><country mxw-id="DS548804307" load-source="docdb">ES</country><country mxw-id="DS548841201" load-source="docdb">FI</country><country mxw-id="DS548841206" load-source="docdb">FR</country><country mxw-id="DS548863693" load-source="docdb">GB</country><country mxw-id="DS548869294" load-source="docdb">GR</country><country mxw-id="DS548863694" load-source="docdb">HR</country><country mxw-id="DS548892979" load-source="docdb">HU</country><country mxw-id="DS548862059" load-source="docdb">IE</country><country mxw-id="DS548869295" load-source="docdb">IS</country><country mxw-id="DS548841207" load-source="docdb">IT</country><country mxw-id="DS548869296" load-source="docdb">LI</country><country mxw-id="DS548804897" load-source="docdb">LT</country><country mxw-id="DS548880370" load-source="docdb">LU</country><country mxw-id="DS548804902" load-source="docdb">LV</country><country mxw-id="DS548804903" load-source="docdb">MC</country><country mxw-id="DS548880371" load-source="docdb">MK</country><country mxw-id="DS548880372" load-source="docdb">MT</country><country mxw-id="DS548892980" load-source="docdb">NL</country><country mxw-id="DS548863695" load-source="docdb">NO</country><country mxw-id="DS548869297" load-source="docdb">PL</country><country mxw-id="DS548804904" load-source="docdb">PT</country><country mxw-id="DS548892981" load-source="docdb">RO</country><country mxw-id="DS548804905" load-source="docdb">RS</country><country mxw-id="DS548869298" load-source="docdb">SE</country><country mxw-id="DS548841208" load-source="docdb">SI</country><country mxw-id="DS548863696" load-source="docdb">SK</country><country mxw-id="DS548869299" load-source="docdb">SM</country><country mxw-id="DS548880373" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128670101" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The disclosure discloses a method and device for sending and receiving data, which are used to solve the problem that the existing device having the function of the laser pen and the function of the data card cannot implement the integrated control over the function of the laser pen and the function of the data card. The device includes a main module and a connection module. The connection module is configured to connect to a PC by using a USB mode, and the main module communicates with the connection module by high frequency. The method for sending data includes: the main module encapsulates data to be sent according to a type of the data to be sent and identification information corresponding to the type of the data, and sends the encapsulated data to the connection module; and the connection module decapsulates the encapsulated data and sends the decapsulated data to the PC. Since the device determines the identification information corresponding to the type according to the type of the received data, and encapsulates the identification information and the data, in order to be capable of performing corresponding processing when needed, so that intelligent integration of the function of the laser pen and the function of the data card is implemented and an intelligent control over the function of the laser pen is implemented.<img id="iaf01" file="imgaf001.tif" wi="78" he="115" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499474" lang="EN" source="EPO" load-source="docdb"><p>The disclosure discloses a method and device for sending and receiving data, which are used to solve the problem that the existing device having the function of the laser pen and the function of the data card cannot implement the integrated control over the function of the laser pen and the function of the data card. The device includes a main module and a connection module. The connection module is configured to connect to a PC by using a USB mode, and the main module communicates with the connection module by high frequency. The method for sending data includes: the main module encapsulates data to be sent according to a type of the data to be sent and identification information corresponding to the type of the data, and sends the encapsulated data to the connection module; and the connection module decapsulates the encapsulated data and sends the decapsulated data to the PC. Since the device determines the identification information corresponding to the type according to the type of the received data, and encapsulates the identification information and the data, in order to be capable of performing corresponding processing when needed, so that intelligent integration of the function of the laser pen and the function of the data card is implemented and an intelligent control over the function of the laser pen is implemented.</p></abstract><description mxw-id="PDES63955531" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>TECHNICAL FIELD</b></heading><p id="p0001" num="0001">The disclosure relates to the field of data communication technology, and in particular to a method and device for sending and receiving data.</p><heading id="h0002"><b>BACKGROUND</b></heading><p id="p0002" num="0002">Along with continuous development of 3G wireless data service technology, not only a user provides a higher demand for service contents of a 3G network, but also service requirements are increasing. Therefore, it needs to provide more services in order to satisfy the increasing requirements of the user.</p><p id="p0003" num="0003">At present, a device having the function of a laser pen and a data card mostly integrates the function of the data card with the function of the laser pen simply, and the data card only implements one function at the same time, that is to say, when the data card is connected with a Personal Computer (PC), it can access a 3G network; when the data card is used as the laser pen, it has to be disconnected with the PC. Moreover, when the data card is used as the laser pen, it only has a simple indication function, that is to say, the data card projects red or green laser used as an indication, and the red or green laser moves on a projection screen along with movement of a hand of the user. When the user needs to perform page turning display on contents of projection, it is only implemented by controlling a keyboard or a mouse.</p><p id="p0004" num="0004">Therefore, for the device having the function of the laser pen and the data card in the related art, the function of the laser pen and the function of the data card thereof are superimposed simply, it cannot implement an integrated control over the function of the laser pen and the function of the data card, and cannot perform an intelligent control during an operation of the laser, so that the requirements of users cannot be satisfied.</p><heading id="h0003"><b>SUMMARY</b></heading><p id="p0005" num="0005">In view of this, an embodiment of the disclosure provides a method and device for sending and receiving data, which are used to solve the problem that an existing device<!-- EPO <DP n="2"> --> having the function of the laser pen and the data card cannot implement integrated control over the function of the laser pen and the function of the data card.</p><p id="p0006" num="0006">A method for sending data provided by an embodiment of the disclosure is implemented by a device including a main module and a connection module. The connection module is configured to connect to a Personal Computer (PC) by using a USB connection mode, and the main module communicates with the connection module wirelessly. The method includes:
<ul><li>the main module determines data to be sent corresponding to operation information according to the operation information input by a user;</li><li>encapsulates identification information and the data to be sent according to an identified type of the data to be sent and the stored identification information corresponding to the type of the data, and sends the encapsulated data to the connection module; and</li><li>the connection module decapsulates the encapsulated data received, and sends the data to be sent after being removed the identification information to the PC.</li></ul></p><p id="p0007" num="0007">A method for receiving data provided by an embodiment of the disclosure is implemented by a device including a main module and a connection module. The connection module is configured to connect to a Personal Computer (PC) by using a USB connection mode, and the main module communicates with the connection module wirelessly. The method includes:
<ul><li>the connection module receives data from the PC;</li><li>the connection module encapsulates identification information and the data according to a type of the data and the stored identification information corresponding to the type of the data, and sends the encapsulated data to the main module; and</li><li>the main module decapsulates the encapsulated data received, and performs corresponding processing on the data after being removed the identification information.</li></ul></p><p id="p0008" num="0008">A device for sending and receiving data provided by an embodiment of the disclosure includes a main module and a connection module, the connection module is configured<!-- EPO <DP n="3"> --> to connect to a Personal Computer (PC) by using a USB connection mode, and the main module communicates with the connection module wirelessly, wherein<br/>
the main module is configured to determine data to be sent corresponding to operation information according to the operation information input by a user, to encapsulate identification information and the data to be sent according to a type of the data to be sent and the stored identification information corresponding to the type of the data, and send the encapsulated data to the connection module; or to decapsulate the encapsulated data received from the connection module, and to perform corresponding processing on the data after being removed the identification information; and<br/>
the connection module is configured to decapsulate the encapsulated data received, and to send the data to be sent after being removed the identification information to the PC; or to receive data from the PC, to encapsulate identification information and the data according to a type of the data and the stored identification information corresponding to the type of the data, and to send the encapsulated data to the main module.</p><p id="p0009" num="0009">An embodiment of the disclosure provides a method and device for sending and receiving data. The device includes a main module and a connection module. Wherein, the connection module is configured to connect to a Personal Computer (PC) by using a USB connection mode, and the main module communicates with the connection module wirelessly. The method for sending data includes: the main module encapsulates identification information and the data to be sent according to a type of the received data to be sent and the stored identification information corresponding to the type of the data, and sends the encapsulated data to the connection module; and the connection module decapsulates the encapsulated data received, and sends the data to be sent after being removed the identification information to the PC. Since the device in the embodiment of the disclosure determines the identification information corresponding to the type according to the type of the received data, and encapsulates the identification information and the data, in order to perform corresponding processing, so that intelligent integration of the function of the laser pen and the function of the data card is<!-- EPO <DP n="4"> --> implemented and an intelligent control over the function of the laser pen can also be implemented, thereby improving user experience.</p><heading id="h0004"><b>BRIEF DESCRIPTION OF THE DRAWINGS</b></heading><p id="p0010" num="0010"><ul><li><figref idrefs="f0001">Fig. 1</figref> is a schematic diagram of a structure of a device for sending and receiving data provided by an embodiment of the disclosure;</li><li><figref idrefs="f0001">Fig. 2</figref> is a structure of a main module and a connection module provided by an embodiment of the disclosure and a schematic diagram of a connection relation between the main module and connection module and a PC;</li><li><figref idrefs="f0002">Fig. 3A</figref> is a schematic diagram of structures of respective units included in a main module and a connection module of a device when the type of the data to be sent, which the device provided by an embodiment of the disclosure sends, includes mouse control data and net play data;</li><li><figref idrefs="f0003">Fig. 3B</figref> illustrates a process of sending data by the device in detail in combination with the schematic diagram of the structure of the device shown in <figref idrefs="f0002">Fig. 3A</figref> when the device implements a mouse control function, e.g., implements a function of "up, down, left, and right" movements of a mouse according to an embodiment of the disclosure; and</li><li><figref idrefs="f0004">Fig. 4</figref> illustrates a process of receiving data by the device in detail in combination with the schematic diagram of the structure of the device shown in <figref idrefs="f0002">Fig. 3A</figref> according to an embodiment of the disclosure.</li></ul></p><heading id="h0005"><b>DETAILED DESCRIPTION</b></heading><p id="p0011" num="0011">In order to implement intelligent integration of the function of a laser pen and the function of a data card, an embodiment of the disclosure provides a method and device for sending and receiving data. The device includes a main module and a connection module. The connection module is configured to connect to a Personal Computer (PC) by using a USB connection mode, and the main module communicates with the connection module wirelessly. Specifically, the device has the function of the laser pen<!-- EPO <DP n="5"> --> and the function of the data card.</p><p id="p0012" num="0012">In order to make the technical problem to be solved, the technical solution and beneficial effects of the disclosure more clear and understood, the disclosure is further illustrated in detail in combination with the drawings and embodiments below. It should be understood that the specific embodiments described here are only intended to interpret the disclosure instead of limiting the disclosure.</p><p id="p0013" num="0013"><figref idrefs="f0001">Fig. 1</figref> is a schematic diagram of a structure of a device for sending and receiving data provided by an embodiment of the disclosure. The device includes a main module 11 and a connection module 12, wherein<br/>
the main module 11 communicates with the connection module 12 wirelessly. Specifically, the main module 11 can communicate with the connection module 12 by high frequency, for example, by using a frequency range of 2.4 GHz.</p><p id="p0014" num="0014">The connection module 12 connects to a PC by using a USB connection mode.</p><p id="p0015" num="0015">The process of transmitting data between the device and the PC includes: the device sends data to be sent to the PC; and the device receives data to be sent from the PC.</p><p id="p0016" num="0016">Wherein, the process that the device sends data to be sent to the PC includes:
<ul><li>the main module 11 is configured to determine data to be sent corresponding to operation information according to the operation information input by a user, to encapsulate identification information and the data to be sent according to a type of the data to be sent and the stored identification information corresponding to the type of the data, and to send the encapsulated data to the connection module 12; and</li><li>the connection module 12 is configured to decapsulate the encapsulated data received, and to send the data to be sent after being removed the identification information to the PC.</li></ul></p><p id="p0017" num="0017">The process that the device receives data to be sent from the PC includes:
<ul><li>the connection module 12 is configured to receive, from the PC, data to be sent, to<!-- EPO <DP n="6"> --> encapsulate identification information and the data to be sent according to a type of the data and the stored identification information corresponding to the type of the data, and to send the encapsulated data to the main module 11; and</li><li>the main module 11 is configured to decapsulate the encapsulated data received from the connection module, and to perform corresponding processing on the data to be sent after being removed the identification information.</li></ul></p><p id="p0018" num="0018">Specifically, the main module 11 includes a first processing process 111 and a first communication unit 112; the connection module 12 includes a second communication unit 121 and a second processing process 122. Wherein, when the device sends the data to be sent to the PC,<br/>
the first processing process 111 is configured to determine the data to be sent corresponding to the operation information according to the operation information input by the user, and to send the data to be sent to the first communication unit 112;<br/>
the first communication unit 112 is configured to receive the data to be sent from the first processing process, to encapsulate the identification information and the data to be sent according to the type of the data to be sent and the stored identification information corresponding to the type of the data, and to send the encapsulated data to the second communication unit 121;<br/>
the second communication unit 121 is configured to decapsulate the encapsulated data received from the main module, to determine, according to a type of the decapsulated data to be sent, a processing process corresponding to the type of the data, and to send the data to be sent after being removed the identification information to the processing process; and<br/>
the second processing process 122 is configured to send the data to be sent after being removed the identification information from the second communication unit 121 to the PC.</p><p id="p0019" num="0019">When the device receives the data to be sent from the PC,<br/>
the second processing process 122 is configured to receive data from the PC, and to<!-- EPO <DP n="7"> --> send the data to the second communication unit 121;<br/>
the second communication unit 121 is configured to encapsulate the identification information and the data according to the type of the data received form each process and the stored identification information corresponding to the type of the data, and to send the encapsulated data to the main module;<br/>
the first communication unit 112 is configured to decapsulate the encapsulated data from the connection module, to determine, according to a type of the decapsulated data, a processing process corresponding to the type of the data, and to send the data after being removed the identification information to the processing process; and<br/>
the first processing process 111 is configured to perform processing on the data after being removed the identification information from the first communication unit.</p><p id="p0020" num="0020">In an embodiment of the disclosure, the data to be sent received by the device may be net play data, or may be mouse control data.</p><p id="p0021" num="0021">Preferably, the main module of the device has the function of accessing the 3G network and also has the functions of the laser pen and a wireless mouse. Specifically, a structure of a main module and a connection module and a connection relation among the main module, the connection module and a PC is shown in <figref idrefs="f0001">Fig. 2</figref>.</p><p id="p0022" num="0022">Based on <figref idrefs="f0001">Fig. 2</figref>, when implementing the function the laser pen, the main module can start laser by controlling a button at the side of the main module to implement the indication function of the laser to a document. Furthermore, the main module can also implement the function of the wireless mouse, and implement left and right button functions of the mouse by buttons 1 and 2 in the main module, so that the functions of opening and closing of the document and a webpage as well as page turning of the document can be controlled. In addition, the main module also includes the button 2, which is a button for implementing movement and position of the mouse in four directions, i.e., "up, down, left, and right" directions. The main module is separated from the PC, and the main module can be powered by a separate power source such as a lithium battery, a storage battery or the like, therefore the main module is used more<!-- EPO <DP n="8"> --> conveniently. Moreover, a mother tank for receiving the connection module can also be provided in the main module for easy portability.</p><p id="p0023" num="0023">Specifically, each data to be sent is acquired by each processing process in the main module of the device, the data to be sent is sent to the first communication unit of the main module by the processing process. For example, when the type of the data to be sent of the device includes the mouse control data and the net play data, the first processing process included in the main module may include a mouse control process and a data card management process. Similarly, there are a corresponding mouse control process and a corresponding data card management process in the connection module, which send to a PC processing process corresponding data to be sent.</p><p id="p0024" num="0024">The main module and the connection module both include the communication unit, communication between the first communication unit of the main module and the second communication unit of the connection module can be implemented by 2.4 GHz wireless technology, the operation frequency range thereof is between 2.405 GHz and 2.485 GHz, or can also be implemented by a wireless communication means such as bluetooth, wifi and the like.</p><p id="p0025" num="0025"><figref idrefs="f0002">Fig. 3A</figref> is a schematic diagram of structures of respective units included in a main module and a connection module of a device when the type of the data to be sent, which the device provided by an embodiment of the disclosure sends, includes mouse control data and net play data. The main module includes a first processing process and a first communication unit, and the first processing process includes a mouse control process and a data card management process. The connection module includes a second communication unit and a second processing process, wherein the second processing process includes a mouse control process and a data card management process.</p><p id="p0026" num="0026"><figref idrefs="f0003">Fig. 3B</figref> illustrates a process of sending data by the device in detail in combination with the schematic diagram of the structure of the device shown in <figref idrefs="f0002">Fig. 3A</figref> when the device implements a mouse control function, e.g., implements a function of "up, down, left, and right" movements of a mouse according to an embodiment of the disclosure. The process of sending data includes the following steps:<!-- EPO <DP n="9"> -->
<ul><li>Step S301: a user sends operation information to the main module of the device by a button 2, and the mouse control process of the main module determines data to be sent corresponding to the operation information after receiving the operation information.<br/>
Wherein, the mouse control process is the first processing process of the main module.</li><li>Step S302: the mouse control process of the main module sends the data to be sent to the first communication unit of the main module.</li><li>Step S303: after receiving the data to be sent and when identifying that the type of the data to be sent is mouse control data, the first communication unit encapsulates the data to be sent according to stored identification information, such as 1, of the corresponding type of the data.<br/>
Specifically, the encapsulating the data to be sent includes: adding a header to the data to be sent, and the header contains identification information 1, wherein the header occupies few bytes and only occupies 1 bit.</li><li>Step S304: the first communication unit of the main module sends the encapsulated data to the connection module.<br/>
When the first communication unit of the main module sends the encapsulated data to the connection module, whether the encapsulated data is the mouse control data or the net play data, the first communication unit treats the encapsulated data indiscriminately when sending the encapsulated data, and sends the encapsulated data to the connection module based on a high frequency communication protocol. That is to say, data packages of the encapsulated data are the same for the first communication unit, and all enter into a data sending queue of the first communication unit.</li><li>Step S305: after receiving the encapsulated data, the second communication unit of the connection module decapsulates the encapsulated data.</li><li>Step S306: the second communication unit of the connection module determines, according to the type of the decapsulated data to be sent, that a processing process<!-- EPO <DP n="10"> --> corresponding to the type of the data is the mouse control process, and sends the decapsulated data to be sent to the mouse control process.<br/>
The mouse control process is the second processing process of the connection module.</li><li>Step S307: after receiving the data to be sent, the mouse control process of the connection module sends the data to be sent to a PC to process.<br/>
After the mouse control process of the connection module sends the data to be sent to the PC, a corresponding drive program of the PC processes and responds. The drive program of the PC can use function, such as GetCursorPos(), SetCursorPos(), mouse_event() and the like, to respond respectively according to the type of the data received from the connection module, in order to implement movements of a mouse. For example, when the data is data for implementing left movement of the mouse, the drive program uses a function GetCursorPos(point) to acquire the current location of the mouse, and adjusts the location of the mouse. A coordinate shifts a step length S (which can be set flexibly according to an actual condition) to the left, and point.x = point.x-S. Then the drive program determines a new location of the mouse according to a function SetCursorPos(point). Of course, a left button click operation MOUSEEVENTF_LEFTDOWN and a right button pop-up operation MOUSEEVENTF_RIGHTUP of the mouse can also be implemented by corresponding functions, and implementation modes are different based on different languages but the implementation principles are consistent essentially.<br/>
The above description is performed by taking that the data to be sent is the mouse control data as an example. Of course, when the data to be sent is the net play data, the process of sending the data to be sent between the main module and the connection module is similar as the above process, which is not described here repeatedly.<br/>
Since wireless communication between the main module and the connection module in the embodiment of the disclosure contains the net play data of the device and the control data of the wireless mouse, for the transmitted data, a layer of data is encapsulated to discriminate different types of data when the data are transmitted<!-- EPO <DP n="11"> --> between the main module and the connection module. When the device operates in a high speed, the data volume of control data of the wireless mouse can be almost negligible with respect to the net play data received and sent by the device. Therefore, the control data of the wireless mouse transmitted between the main module and the connection module almost has no influence on a rate of data interaction between the device and the PC.<br/>
<figref idrefs="f0004">Fig. 4</figref> illustrates a process of receiving data by the device in detail in combination with the schematic diagram of the structure of the device shown in <figref idrefs="f0002">Fig. 3A</figref> according to an embodiment of the disclosure. This process includes the following steps:</li><li>Step S401: a data card management process of the connection module of the device receives net play data from a PC.<br/>
Wherein, the data card management process is the second processing process of the connection module.</li><li>Step S402: the data card management process of the connection module sends the net play data to the second communication unit of the connection module.</li><li>Step S403: after receiving the net play data and when identifying that the type of the data to be sent is the net play data, the second communication unit encapsulates the net play data according to stored identification information, such as 0, of the corresponding type of the data.<br/>
Specifically, the encapsulating the net play data includes: adding a header to the net play data, and the header contains identification information 0, wherein the header occupies few bytes and only occupies 1 bit.</li><li>Step S404: the second communication unit of the connection module sends the encapsulated data to the main module.</li><li>Step S405: after receiving the encapsulated data, the first communication unit of the main module decapsulates the encapsulated data.</li><li>Step S406: the first communication unit of the main module determines, according to the type of the decapsulated data, that a processing process corresponding to the type<!-- EPO <DP n="12"> --> of the data is the data card management process, and sends the decapsulated data to the data card management process.<br/>
The data card management process is the first processing process of the main module.</li><li>Step S407: after receiving the data, the data card management process of the main module performs processing on the data.<br/>
An embodiment of the disclosure provides a method and device for sending and receiving data. The device includes a main module and a connection module. Wherein, the connection module connects to a Personal Computer (PC) by using a USB connection mode, and the main module communicates with the connection module by high frequency. The method for sending data includes: the main module encapsulates identification information and data to be sent according to a type of the received data to be sent and the stored identification information corresponding to the type of the data, and sends the encapsulated data to the connection module; and the connection module decapsulates the encapsulated data received, and sends the data to be sent after being removed the identification information to the PC. Since the device in the embodiment of the disclosure determines the identification information corresponding to the type according to the type of the received data, and encapsulates the identification information and the data, in order to perform corresponding processing, so that intelligent integration of the function of the laser pen and the function of the data card is implemented and an intelligent control over the function of the laser pen can also be implemented, thereby improving user experience.<br/>
The above description illustrates and describes a preferable embodiment of the disclosure. However, as previously mentioned, it should be understood that the disclosure is not restricted to the form disclosed by the present document and should not be regarded as exclusion of other embodiments, but can be used to various other combinations, modifications and environments and can be modified within the scope of conception of the disclosure described in the present document by the above teaching or technology or knowledge in related fields. Furthermore, modifications and changes<!-- EPO <DP n="13"> --> made by those skilled in the art without departing from the spirit and principle of the disclosure shall fall within the scope of protection of the claims of the disclosure.</li></ul></p><heading id="h0006"><b>INDUSTRIAL APPLICABILITY</b></heading><p id="p0027" num="0027">A method and device for sending and receiving data provided by the disclosure includes a main module and a connection module. The main module encapsulates identification information and data to be sent according to a type of the received data to be sent and the stored identification information corresponding to the type of the data, and sends the encapsulated data to the connection module; the connection module decapsulates the encapsulated data received, and sends the data to be sent after being removed the identification information to a PC. The disclosure implements intelligent integration of the function of the laser pen and the function of the data card, and can also implement an intelligent control over the function of the laser pen, thereby improving user experience.</p></description><claims mxw-id="PCLM56976449" lang="EN" load-source="patent-office"><!-- EPO <DP n="14"> --><claim id="c-en-0001" num="0001"><claim-text>A method for sending data, which is implemented by a device including a main module and a connection module, the connection module is configured to connect to a Personal Computer (PC) by using a USB connection mode, and the main module communicates with the connection module wirelessly, the method comprising:
<claim-text>determining, by the main module, data to be sent corresponding to operation information according to the operation information input by a user;</claim-text>
<claim-text>encapsulating identification information and the data to be sent according to an identified type of the data to be sent and the stored identification information corresponding to the type of the data, and sending the encapsulated data to the connection module; and</claim-text>
<claim-text>decapsulating, by the connection module, the encapsulated data received, and sending the data to be sent after being removed the identification information to the PC.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, wherein the type of the data to be sent comprises:
<claim-text>net play data and mouse control data.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 1 or 2, wherein the determining data to be sent corresponding to operation information comprises:
<claim-text>determining, by each process of the main module, data to be sent corresponding to operation information according to the operation information input by the user.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to claim 1 or 2, wherein the sending the data to be sent after being removed the identification information to the PC comprises:
<claim-text>according to a type of the decapsulated data to be sent, determining, by the connection module, a process corresponding to the type of the data, and sending the data to be sent after being removed the identification information to the PC through the process.</claim-text><!-- EPO <DP n="15"> --></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>A method for receiving data, which is implemented by a device including a main module and a connection module, the connection module is configured to connect to a Personal Computer (PC) by using a USB connection mode, and the main module communicates with the connection module wirelessly, the method comprising:
<claim-text>receiving, by the connection module, data from the PC;</claim-text>
<claim-text>encapsulating, by the connection module, identification information and the data according to a type of the data and the stored identification information corresponding to the type of the data, and sending the encapsulated data to the main module; and</claim-text>
<claim-text>decapsulating, by the main module, the encapsulated data received, and performing corresponding processing on the data after being removed the identification information.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method according to claim 5, wherein the type of the data comprises:
<claim-text>net play data and mouse control data.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method according to claim 5 or 6, wherein the performing corresponding processing on the data after being removed the identification information comprises:
<claim-text>according to a type of the decapsulated data, determining, by the main module, a process corresponding to the type of the data, and performing the corresponding processing on the data after being removed the identification information through the process.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>A device for sending and receiving data, comprising: a main module and a connection module, the connection module is configured to connect to a Personal Computer (PC) by using a USB connection mode, and the main module communicates with the connection module wirelessly, wherein<br/>
the main module is configured to determine data to be sent corresponding to operation information according to the operation information input by a user, to encapsulate identification information and the data to be sent according to a type of the data to be sent and the stored identification information corresponding to the type of the data, and to send the encapsulated data to the connection module; or to decapsulate the encapsulated data received from the connection module, and to perform<!-- EPO <DP n="16"> --> corresponding processing on the data after being removed the identification information; and<br/>
the connection module is configured to decapsulate the encapsulated data received, and to send the data to be sent after being removed the identification information to the PC; or to receive data from the PC, to encapsulate identification information and the data according to a type of the data and the stored identification information corresponding to the type of the data, and to send the encapsulated data to the main module.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The device according to claim 8, wherein the main module further comprises:
<claim-text>a first processing process configured to determine the data to be sent corresponding to the operation information according to the operation information input by the user, and to send the data to be sent to a first communication unit; or to perform processing on the data after being removed the identification information from the first communication unit; and</claim-text>
<claim-text>the first communication unit configured to receive the data to be sent from each process, to encapsulate the identification information and the data to be sent according to the identified type of the data to be sent and the stored identification information corresponding to the type of the data, and to send the encapsulated data to the connection module; or to decapsulate the encapsulated data from the connection module, to determine, according to a type of the decapsulated data, a processing process corresponding to the type of the data, and to send the data after being removed the identification information to the processing process.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The device according to claim 8, wherein the connection module comprises:
<claim-text>a second communication unit configured to decapsulate the encapsulated data received from the main module, to determine, according to a type of the decapsulated data to be sent, a processing process corresponding to the type of the data, and to send the data to be sent after being removed the identification information to the processing process; or to encapsulate the identification information and the data according to the<!-- EPO <DP n="17"> --> type of the data received form each process and the stored identification information corresponding to the type of the data, and to send the encapsulated data to the main module; and</claim-text>
<claim-text>a second processing process configured to send the data to be sent after being removed the identification information from the second communication unit to the PC; or to receive data from the PC, and to send the data to the second communication unit.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16667229" load-source="patent-office"><!-- EPO <DP n="18"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="151" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="19"> --><figure id="f0002" num="3A"><img id="if0002" file="imgf0002.tif" wi="165" he="142" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="20"> --><figure id="f0003" num="3B"><img id="if0003" file="imgf0003.tif" wi="152" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="21"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="151" he="214" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="230" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="230" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
