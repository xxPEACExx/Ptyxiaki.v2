<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680529-A1" country="EP" doc-number="2680529" kind="A1" date="20140101" family-id="48626318" file-reference-id="312918" date-produced="20180824" status="corrected" lang="DE"><bibliographic-data><publication-reference fvid="146549159" ucid="EP-2680529-A1"><document-id><country>EP</country><doc-number>2680529</doc-number><kind>A1</kind><date>20140101</date><lang>DE</lang></document-id></publication-reference><application-reference ucid="EP-13171683-A" is-representative="YES"><document-id mxw-id="PAPP154823082" load-source="docdb" format="epo"><country>EP</country><doc-number>13171683</doc-number><kind>A</kind><date>20130612</date><lang>DE</lang></document-id><document-id mxw-id="PAPP226715487" load-source="docdb" format="original"><country>EP</country><doc-number>13171683.9</doc-number><date>20130612</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140449121" ucid="DE-102012211306-A" load-source="docdb"><document-id format="epo"><country>DE</country><doc-number>102012211306</doc-number><kind>A</kind><date>20120629</date></document-id></priority-claim><priority-claim mxw-id="PPC140449845" ucid="DE-102012212412-A" load-source="docdb"><document-id format="epo"><country>DE</country><doc-number>102012212412</doc-number><kind>A</kind><date>20120716</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988105723" load-source="docdb">H04L  29/06        20060101AFI20131001BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988107898" load-source="docdb">G06F   9/445       20060101ALI20131001BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1824866337" load-source="docdb" scheme="CPC">H04L  63/20        20130101 LI20170408BHEP        </classification-cpc><classification-cpc mxw-id="PCL1991317611" load-source="docdb" scheme="CPC">H04L  41/082       20130101 FI20131226BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132179961" lang="DE" load-source="patent-office">Netzwerkeinrichtung und Verfahren zum Betreiben einer Netzwerkeinrichtung für ein Automatisierungsnetzwerk</invention-title><invention-title mxw-id="PT132179962" lang="EN" load-source="patent-office">Network device, and method for operating a network device for an automation network</invention-title><invention-title mxw-id="PT132179963" lang="FR" load-source="patent-office">Dispositif de réseau et procédé de fonctionnement d'un dispositif de réseau pour un réseau d'automatisation</invention-title><citations><patent-citations><patcit mxw-id="PCIT242651974" load-source="docdb" ucid="DE-102005018910-A1"><document-id format="epo"><country>DE</country><doc-number>102005018910</doc-number><kind>A1</kind><date>20061026</date></document-id><sources><source name="SEA" category="I" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242651975" load-source="docdb" ucid="EP-1108984-A1"><document-id format="epo"><country>EP</country><doc-number>1108984</doc-number><kind>A1</kind><date>20010620</date></document-id><sources><source name="SEA" category="X" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242651976" load-source="docdb" ucid="US-20040153171-A1"><document-id format="epo"><country>US</country><doc-number>20040153171</doc-number><kind>A1</kind><date>20040805</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242651977" load-source="docdb" ucid="WO-2008022606-A1"><document-id format="epo"><country>WO</country><doc-number>2008022606</doc-number><kind>A1</kind><date>20080228</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>None</text><sources><source mxw-id="PNPL45130774" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918140054" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SIEMENS AG</last-name><address><country>DE</country></address></addressbook></applicant><applicant mxw-id="PPAR918160561" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SIEMENS AKTIENGESELLSCHAFT</last-name></addressbook></applicant><applicant mxw-id="PPAR918982792" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Siemens Aktiengesellschaft</last-name><iid>101233967</iid><address><street>Wittelsbacherplatz 2</street><city>80333 München</city><country>DE</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918144035" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FISCHER KAI</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918162051" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>FISCHER, KAI</last-name></addressbook></inventor><inventor mxw-id="PPAR918989696" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>FISCHER, KAI</last-name><address><street>Heinrich-Marschner-Strasse 74</street><city>85598 Baldham</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918150130" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>GESSNER JUERGEN</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918157148" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>GESSNER, JUERGEN</last-name></addressbook></inventor><inventor mxw-id="PPAR918984187" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>GESSNER, Jürgen</last-name><address><street>Am Holzfeld 16</street><city>85661 Forstinning</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918136129" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>SCHATTLEITNER ANGELA</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918154448" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>SCHATTLEITNER, ANGELA</last-name></addressbook></inventor><inventor mxw-id="PPAR918992469" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>SCHATTLEITNER, ANGELA</last-name><address><street>Bergstraße 1</street><city>83104 Tuntenhausen</city><country>DE</country></address></addressbook></inventor></inventors></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548852806" load-source="docdb">AL</country><country mxw-id="DS548802625" load-source="docdb">AT</country><country mxw-id="DS548846620" load-source="docdb">BE</country><country mxw-id="DS548867105" load-source="docdb">BG</country><country mxw-id="DS548850314" load-source="docdb">CH</country><country mxw-id="DS548846621" load-source="docdb">CY</country><country mxw-id="DS548802630" load-source="docdb">CZ</country><country mxw-id="DS548852808" load-source="docdb">DE</country><country mxw-id="DS548846626" load-source="docdb">DK</country><country mxw-id="DS548846627" load-source="docdb">EE</country><country mxw-id="DS548801637" load-source="docdb">ES</country><country mxw-id="DS548867106" load-source="docdb">FI</country><country mxw-id="DS548850315" load-source="docdb">FR</country><country mxw-id="DS548852809" load-source="docdb">GB</country><country mxw-id="DS548846628" load-source="docdb">GR</country><country mxw-id="DS548852814" load-source="docdb">HR</country><country mxw-id="DS548802631" load-source="docdb">HU</country><country mxw-id="DS548850316" load-source="docdb">IE</country><country mxw-id="DS548846629" load-source="docdb">IS</country><country mxw-id="DS548867107" load-source="docdb">IT</country><country mxw-id="DS548846946" load-source="docdb">LI</country><country mxw-id="DS548867108" load-source="docdb">LT</country><country mxw-id="DS548836204" load-source="docdb">LU</country><country mxw-id="DS548867109" load-source="docdb">LV</country><country mxw-id="DS548867110" load-source="docdb">MC</country><country mxw-id="DS548836205" load-source="docdb">MK</country><country mxw-id="DS548836206" load-source="docdb">MT</country><country mxw-id="DS548836207" load-source="docdb">NL</country><country mxw-id="DS548850317" load-source="docdb">NO</country><country mxw-id="DS548836208" load-source="docdb">PL</country><country mxw-id="DS548801638" load-source="docdb">PT</country><country mxw-id="DS548846884" load-source="docdb">RO</country><country mxw-id="DS548801639" load-source="docdb">RS</country><country mxw-id="DS548836209" load-source="docdb">SE</country><country mxw-id="DS548852816" load-source="docdb">SI</country><country mxw-id="DS548850570" load-source="docdb">SK</country><country mxw-id="DS548850571" load-source="docdb">SM</country><country mxw-id="DS548846947" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669829" lang="DE" load-source="patent-office"><p id="pa01" num="0001">Es werden eine Netzwerkeinrichtung und ein Verfahren zum Betreiben einer Netzwerkeinrichtung für ein Automatisierungsnetzwerk vorgeschlagen. Die Netzwerkeinrichtung ist mit Hilfe einer Echtzeitanwendung zur Bereitstellung einer Funktion der Netzwerkeinrichtung eingerichtet, wobei die Echtzeitanwendung mindestens einen vorbestimmten aktualisierbaren Parameter hat. Die Netzwerkeinrichtung weist eine Speichereinrichtung zum Speichern von Aktualisierungsdaten für den aktualisierbaren Parameter in einem Aktualisierungsspeicherbereich und zum Speichern von Anwendungsdaten für die Echtzeitanwendung in einem Anwendungsspeicherbereich auf, wobei der Aktualisierungsspeicherbereich und der Anwendungsspeicherbereich voneinander getrennt sind. Die Netzwerkeinrichtung ist derart eingerichtet, dass nach einem Schreiben von Aktualisierungsdaten in den Aktualisierungsspeicherbereich zu einem vorgegebenen Aktualisierungszeitpunkt ein Ändern einer auf den Anwendungsspeicherbereich verweisenden ersten Speicheradresse in eine auf den die Aktualisierungsdaten speichernden Aktualisierungsspeicherbereich verweisende zweite Speicheradresse erfolgt, wobei das Ändern innerhalb eines im Voraus festgelegten Aktualisierungszeitschlitzes deterministisch zur Laufzeit der Echtzeitanwendung erfolgt.</p><p id="pa02" num="0002">Ferner werden ein Automatisierungsnetzwerk mit mehreren solcher Netzwerkeinrichtungen, ein Computerprogrammprodukt und ein Datenträger vorgeschlagen.
<img id="iaf01" file="imgaf001.tif" wi="91" he="74" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499202" lang="DE" source="EPO" load-source="docdb"><p>Es werden eine Netzwerkeinrichtung und ein Verfahren zum Betreiben einer Netzwerkeinrichtung für ein Automatisierungsnetzwerk vorgeschlagen. Die Netzwerkeinrichtung ist mit Hilfe einer Echtzeitanwendung zur Bereitstellung einer Funktion der Netzwerkeinrichtung eingerichtet, wobei die Echtzeitanwendung mindestens einen vorbestimmten aktualisierbaren Parameter hat. Die Netzwerkeinrichtung weist eine Speichereinrichtung zum Speichern von Aktualisierungsdaten für den aktualisierbaren Parameter in einem Aktualisierungsspeicherbereich und zum Speichern von Anwendungsdaten für die Echtzeitanwendung in einem Anwendungsspeicherbereich auf, wobei der Aktualisierungsspeicherbereich und der Anwendungsspeicherbereich voneinander getrennt sind. Die Netzwerkeinrichtung ist derart eingerichtet, dass nach einem Schreiben von Aktualisierungsdaten in den Aktualisierungsspeicherbereich zu einem vorgegebenen Aktualisierungszeitpunkt ein Ändern einer auf den Anwendungsspeicherbereich verweisenden ersten Speicheradresse in eine auf den die Aktualisierungsdaten speichernden Aktualisierungsspeicherbereich verweisende zweite Speicheradresse erfolgt, wobei das Ändern innerhalb eines im Voraus festgelegten Aktualisierungszeitschlitzes deterministisch zur Laufzeit der Echtzeitanwendung erfolgt.  Ferner werden ein Automatisierungsnetzwerk mit mehreren solcher Netzwerkeinrichtungen, ein Computerprogrammprodukt und ein Datenträger vorgeschlagen.</p></abstract><abstract mxw-id="PA135314307" lang="EN" source="transcript" load-source="docdb"><p>The device (10) has storage device (103) to store update data for updatable parameter in update storage area (105) and store application data for real-time application in application storage area (107). Main unit is configured such that, after update data is written into update storage area at predefined update time, first memory address referring to application storage area is switched to second memory address referring to update storage area in which the update data is stored. Switch took place within predefined update timeslot during runtime of real-time application. Independent claims are included for the following: (1) a method for operating network device for automation network; (2) a computer program product; and (3) a non-transitory computer-readable storage medium storing program for operating network device for automation network.</p></abstract><description mxw-id="PDES63955259" lang="DE" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">Die vorliegende Erfindung betrifft eine Netzwerkeinrichtung und ein Verfahren zum Betreiben einer Netzwerkeinrichtung für ein Automatisierungsnetzwerk.</p><p id="p0002" num="0002">Intelligente Feldgeräte und Controller in einem Automatisierungsnetzwerk kommunizieren sowohl deterministisch über synchrone und asynchrone Echtzeitkommunikation als auch mittels nicht-deterministischer Methoden, zum Beispiel unter Verwendung der OPC-Protokolle(OPC; Object Linking and Embedding for Process Control). Das Steuerprogramm derartiger Feldgeräte und Controller wird zumeist mit einer genormten Programmiersprache entworfen und kompiliert, beispielsweise nach der IEC-Norm 61131. Die Interaktion der Feldgeräte und der Steuerung in einem Controller wird beispielsweise mit einem Engineering Tool wie Step7 und sowie mit den jeweiligen Gerätebeschreibungen entworfen. Dabei werden deterministische Echtzeitanwendungen exakt getaktet geplant und umgesetzt, um danach auf das Feldgerät geladen zu werden. Eine nachträgliche Änderung dieser Echtzeitanwendung oder des betreffenden Anwendungs-Images für ein Feldgerät oder einen Controller, zum Beispiel über die OPC-Gerätekommunikation, ist nicht möglich.</p><p id="p0003" num="0003">Um die Änderung von Konfigurationen oder ein Software-Lifecyclemanagement von Echtzeitanwendungen in Feldgeräten und Controllern zu ermöglichen, ist herkömmlicherweise ein Abschalten der in den Geräten laufenden Echtzeitanwendung oder des Feldgeräts selbst oder ein Umbau der betreffenden Anlage erforderlich. In jedem Fall wird die Funktion der betreffenden Echtzeitanwendung erheblich beeinflusst.</p><p id="p0004" num="0004">Für herkömmliche, nicht-echtzeitfähige Geräte in eingebetteten Systemen (englisch Embedded Devices in einem Embedded System) ist ein so genanntes Switching von einem auf ein anderes<!-- EPO <DP n="2"> --> Image der Echtzeitanwendung oder von einem auf einen anderen Speicherbereich bekannt, wobei das betreffende Feldgerät bei einer Aktualisierung durch einen derartigen Imageaustausch in der Regel neu gebootet werden muss.</p><p id="p0005" num="0005">Im Office-Umfeld eingesetzte herkömmliche Betriebssysteme, wie beispielsweise Windows oder Linux, ermöglichen es, bestimmte Betriebssystem-Aktualisierungen oder Aktualisierungen von Virensignaturen im laufenden Betrieb vorzunehmen und das System ohne Neustart weiter zu benutzen. Dabei handelt es sich jedoch nicht um sicherheitskritische Echtzeitanwendungen, wie es bei Feldgeräten häufig der Fall ist.</p><p id="p0006" num="0006">Für eine Aktualisierung von Schlüsselmaterial in Embedded Devices sind Mechanismen bekannt, bei denen parallel zwei Sätze von benötigten Schlüsseln vorgehalten werden, die mit einem Gültigkeitszeitraum versehen sind. Wenn ein Schlüsselsatz abgelaufen ist, wird auf einen zweiten Schlüsselsatz umgeschaltet. Der abgelaufene Schlüsselsatz wird ohne EchtzeitAnforderungen aktualisiert und steht beim Ablauf des aktuell gültigen Schlüsselsatzes zur Verfügung. Ein derartiges Verfahren ist zum Beispiel im BACnet-Protokoll (Building Automation Control Network Protocol)für die BACnet-Security standardisiert. BACnet wird von Geräten der Gebäudeautomatisierung oder des Gefahrenmanagements unterstützt.</p><p id="p0007" num="0007">Bei den herkömmlichen Systemen und Verfahren handelt es sich jedoch nicht um deterministische Verfahren zur Aktualisierung echtzeitfähiger Anwendungen.</p><p id="p0008" num="0008">Demnach ist eine Aufgabe der vorliegenden Erfindung, eine verbesserte Netzwerkeinrichtung und ein verbessertes Verfahren zum Betreiben einer Netzwerkeinrichtung für ein Automatisierungsnetzwerk mit Echtzeitanforderungen zu schaffen.</p><p id="p0009" num="0009">Demgemäß wird eine Netzwerkeinrichtung für ein Automatisierungsnetzwerk vorgeschlagen. Die Netzwerkeinrichtung ist mit Hilfe einer Echtzeitanwendung zur Bereitstellung einer Funktion<!-- EPO <DP n="3"> --> der Netzwerkeinrichtung eingerichtet, wobei die Echtzeitanwendung mindestens einen vorbestimmten aktualisierbaren Parameter hat. Die Netzwerkeinrichtung weist eine Speichereinrichtung zum Speichern von Aktualisierungsdaten für den aktualisierbaren Parameter in einem Aktualisierungsspeicherbereich und zum Speichern von Anwendungsdaten für die Echtzeitanwendung in einem Anwendungsspeicherbereich auf, wobei der Aktualisierungsspeicherbereich und der Anwendungsspeicherbereich voneinander getrennt sind. Die Netzwerkeinrichtung ist derart eingerichtet, dass nach einem Schreiben von Aktualisierungsdaten in den Aktualisierungsspeicherbereich zu einem vorgegebenen Aktualisierungszeitpunkt ein Ändern einer auf den Anwendungsspeicherbereich verweisenden ersten Speicheradresse in eine auf den die Aktualisierungsdaten speichernden Aktualisierungsspeicherbereich verweisende zweite Speicheradresse erfolgt, wobei das Ändern innerhalb eines im Voraus festgelegten Aktualisierungszeitschlitzes deterministisch zur Laufzeit der Echtzeitanwendung erfolgt.</p><p id="p0010" num="0010">Das Netzwerkgerät kann insbesondere ein Feldgerät sein. Feldgeräte sind beispielsweise über einen Feldbus oder über eine Echtzeit-Ethernet-Verbindung mit einem Steuerungs- und Leitsystem verbunden. Im Steuerungs- und Leitsystem werden beispielsweise Daten ausgewertet, die vom Feldgerät erzeugt werden. Diese Daten dienen zur Regelung, Steuerung und weiteren Verarbeitung. An derartige Feldgeräte werden hohe Anforderungen hinsichtlich Effizienz, Robustheit und Verfügbarkeit gestellt.</p><p id="p0011" num="0011">Weiterhin wird ein Verfahren zum Betreiben einer Netzwerkeinrichtung für ein Automatisierungsnetzwerk vorgeschlagen. Die Netzwerkeinrichtung ist dabei mit Hilfe einer Echtzeitanwendung zur Bereitstellung einer Funktion der Netzwerkeinrichtung eingerichtet und hat mindestens einen vorbestimmten aktualisierbaren Parameter. Das Verfahren umfasst ein Speichern von Aktualisierungsdaten für den aktualisierbaren Parameter in einem Aktualisierungsspeicherbereich und ein Speichern von Anwendungsdaten für die Echtzeitanwendung in einem Anwendungsspeicherbereich,<!-- EPO <DP n="4"> --> wobei der Aktualisierungsspeicherbereich und der Anwendungsspeicherbereich voneinander getrennt sind. Das Verfahren weist weiterhin auf: ein Schreiben von Aktualisierungsdaten für den aktualisierbaren Parameter in den Aktualisierungsspeicherbereich; und ein Ändern einer auf den Anwendungsspeicherbereich verweisenden ersten Speicheradresse in eine auf den die Aktualisierungsdaten speichernden Aktualisierungsspeicherbereich verweisende zweite Speicheradresse nach dem Speichern der Aktualisierungsdaten in den Aktualisierungsspeicherbereich zu einem vorgegebenen Aktualisierungszeitpunkt, wobei das Ändern innerhalb eines im Voraus festgelegten Aktualisierungszeitschlitzes deterministisch zur Laufzeit der Echtzeitanwendung erfolgt.</p><p id="p0012" num="0012">Die vorgeschlagene Netzwerkeinrichtung und das vorgeschlagene Verfahren ermöglichen es, einen aktualisierbaren Parameter einer Echtzeitanwendung in einer Netzwerkeinrichtung, wie beispielsweise einem Feldgerät zur Laufzeit zu aktualisieren, also während die Echtzeitanwendung ausgeführt wird, ohne die Echtzeitanwendung zu unterbrechen oder zu beenden. So sind beispielsweise Konfigurationsänderungen der Netzwerkeinrichtung und ihrer Echtzeitanwendung durch ein Einspielen von Betriebssystem-Patches, Signaturlisten von Virenpattern oder durch ein Aktualisieren kryptografischer Schlüssel oder abgelaufener Zertifikate, Angriffssignaturen oder Regelbasen von Firewalls und Intrusion Detection Systems (IDS) als Aktualisierungsdaten in einem Feldgerät möglich, ohne das Feldgerät herunterzufahren und neu zu starten beziehungsweise ohne die auf dem Feldgerät ausgeführte Echtzeitanwendung zu beenden und neu zu starten.</p><p id="p0013" num="0013">Der aktualisierbare Parameter ist vorbestimmt. Beispielsweise kann der aktualisierbare Parameter im Voraus geplante und festgelegte Variablen der Echtzeitanwendung umfassen, für die ein Update zur Laufzeit der Echtzeitanwendung möglich sein soll. Die festgelegten Variablen sind beispielsweise für die oben aufgezählten Konfigurationsänderungen und Aktualisierungen vorgesehen.<!-- EPO <DP n="5"> --></p><p id="p0014" num="0014">Die Echtzeitfähigkeit der Netzwerkeinrichtung und/oder des Verfahrens beziehungsweise die Eignung des Verfahrens für eine Aktualisierung einer Echtzeitanwendung zur Laufzeit ergibt sich weiterhin dadurch, dass das Ändern in im Voraus festgelegten, fest eingeplanten und bezüglich des Laufzeit-Aufwandes einer die Aktualisierung ausführenden Aktualisierungs- oder Update-Anwendung exakt angepassten Aktualisierungszeittakten vorgenommen wird. Deterministisch bedeutet dabei insbesondere, dass die notwendigen Schritte für eine Aktualisierung des aktualisierbaren Parameters vollständig spezifiziert und bezüglich ihrer Laufzeit analysiert sind, so dass schon in der Planungsphase der Echtzeitanwendung eine geeignete Dimension der Aktualisierungszeittakte als Bestandteil der gesamten Planung des Zykluszeit gewählt werden kann. Die Aktualisierungszeittakte werden innerhalb der Zykluszeit des echtzeitfähigen Gerätes eingeplant. Eine geeignete Analyse stellt beispielsweise eine Analyse der maximalen Laufzeit oder Ausführungszeit (Englisch Worst Case Execution Time, WCET) der betreffenden Aktualisierungsanwendung dar.</p><p id="p0015" num="0015">Der Aktualisierungsspeicherbereich und der Anwendungsspeicherbereich sind voneinander getrennt. Das heißt beispielsweise, dass jedem der beiden Speicherbereiche ein eigener Adressraum oder Adressbereich mit ausschließlich für diesen Speicherbereich reservierten Speicheradressen zugewiesen ist. Weiterhin ist vorzugsweise sichergestellt, dass die Echtzeitanwendung ausschließlich Zugriff auf den Anwendungsspeicherbereich hat. Im Gegenzug ist zum Beispiel ein Zugriff auf den Aktualisierungsspeicherbereich nur für die Update-Anwendung möglich. Der Zugriff für die Echtzeitanwendung und für die Update-Anwendung wird durch die Speicheradressen ermöglicht, die auf den Aktualisierungsspeicher beziehungsweise auf den Anwendungsspeicher verweisen.</p><p id="p0016" num="0016">In weiteren Ausführungsformen der Netzwerkeinrichtung und/oder des Verfahrens sind zur Laufzeit der Echtzeitanwendung eine erste Instanz des aktualisierbaren Parameters in<!-- EPO <DP n="6"> --> dem Anwendungsspeicherbereich und eine zweite Instanz des aktualisierbaren Parameters in dem Aktualisierungsspeicherbereich gespeichert.</p><p id="p0017" num="0017">Dies ermöglicht es einer nicht notwendigerweise echtzeitfähigen Aktualisierungs- oder Update-Anwendung, Aktualisierungen oder Änderungen an der zweiten Instanz des aktualisierbaren Parameters vorzunehmen, während die Echtzeitanwendung nicht beeinträchtigt wird und weiterhin auf die erste Instanz des aktualisierbaren Parameters zugreift. Erst wenn die Update-Anwendung das Ändern des aktualisierbaren Parameters beendet hat, erhält die Echtzeitanwendung Zugriff auf die zweite Instanz des aktualisierbaren Parameters, anstelle weiterhin auf die erste, nun nicht mehr aktuelle Instanz des aktualisierbaren Parameters zuzugreifen. Damit wird eine echtzeitfähige, effiziente Aktualisierung der Echtzeitanwendung beziehungsweise des aktualisierbaren Parameters in der Netzwerkeinrichtung ermöglicht.</p><p id="p0018" num="0018">In weiteren Ausführungsformen der Netzwerkeinrichtung und/oder des Verfahrens umfasst die Netzwerkeinrichtung eine Speicheradressen-Tabelle zum Speichern der ersten Speicheradresse und der zweiten Speicheradresse.</p><p id="p0019" num="0019">Die Speicheradressen-Tabelle ermöglicht eine effiziente Verwaltung und einen effizienten Zugriff auf den Anwendungsspeicher und den Aktualisierungsspeicher.</p><p id="p0020" num="0020">In weiteren Ausführungsformen der Netzwerkeinrichtung und/oder des Verfahrens ist die Netzwerkeinrichtung derart eingerichtet, dass nach dem Schreiben der Aktualisierungsdaten in den Aktualisierungsspeicherbereich eine Zustandsinformation für einen Zustand des Aktualisierungsspeicherbereichs geändert wird, und dass das Ändern der ersten Speicheradresse in die zweite Speicheradresse in Abhängigkeit von der Zustandsinformation erfolgt.<!-- EPO <DP n="7"> --></p><p id="p0021" num="0021">Die Zustandsinformation kann vorteilhaft genutzt werden, das Ändern der ersten Speicheradresse in die zweite Speicheradresse derart zu synchronisieren, dass die Update-Anwendung zunächst alle Aktualisierungen des aktualisierbaren Parameters beendet, bevor das Ändern der Speicheradressen vorgenommen wird. Somit wird verhindert, dass ein Ändern der Speicheradressen vorgenommen wird, bevor die Aktualisierung abgeschlossen ist. Die Zustandsinformation dient somit als Signalisierung oder Flag, um anzuzeigen, dass die Aktualisierung abgeschlossen ist.</p><p id="p0022" num="0022">In weiteren Ausführungsformen der Netzwerkeinrichtung und/oder des Verfahrens umfasst die Netzwerkeinrichtung ein Zugriffsschutzmittel, welches zum Schützen eines Zugriffs auf die Zustandsinformation eingerichtet ist.</p><p id="p0023" num="0023">Das Schützen von Zugriffen auf geteilte Speicherbereiche ermöglicht es, sicherzustellen, dass beispielsweise für den Fall mehrerer gleichzeitig laufender Update-Anwendungen zwei oder mehrere Schreibzugriffe auf die Zustandsinformation zur selben Zeit vorgenommen werden können.</p><p id="p0024" num="0024">In weiteren Ausführungsformen der Netzwerkeinrichtung und/oder des Verfahrens umfasst das Zugriffsschutzmittel einen oder mehrere Semaphore.</p><p id="p0025" num="0025">Semaphore sind besonders geeignet zur Verwaltung des Zugriffs auf geteilte Ressourcen.</p><p id="p0026" num="0026">In weiteren Ausführungsformen der Netzwerkeinrichtung und/oder des Verfahrens umfasst die Speichereinrichtung mindestens einen weiteren Aktualisierungsspeicherbereich zum Speichern von Aktualisierungsdaten für den aktualisierbaren Parameter und mindestens einen weiteren Anwendungsspeicherbereich zum Speichern von Anwendungsdaten für die Echtzeitanwendung. Der mindestens eine weitere Aktualisierungsspeicherbereich und der mindestens eine weitere Anwendungsspeicherbereich sind dabei voneinander getrennt. Die Netzwerkeinrichtung<!-- EPO <DP n="8"> --> ist derart eingerichtet, dass nach einem Schreiben von Aktualisierungsdaten in den mindestens einen weiteren Aktualisierungsspeicherbereich zu dem vorgegebenen Aktualisierungszeitpunkt ein Ändern einer auf den mindestens einen weiteren Anwendungsspeicherbereich verweisenden mindestens einen weiteren ersten Speicheradresse in eine auf den die Aktualisierungsdaten speichernden mindestens einen weiteren Aktualisierungsspeicherbereich verweisende mindestens eine weitere zweite Speicheradresse erfolgt, wobei das Ändern innerhalb eines im Voraus festgelegten Aktualisierungszeitschlitzes deterministisch zur Laufzeit der Echtzeitanwendung erfolgt.</p><p id="p0027" num="0027">Auf diese Weise können unterschiedliche Speicherbereiche verwaltet und/oder für eine Aktualisierung des aktualisierbaren Parameters berücksichtigt werden. Auch eine vorgebbare Reihenfolge von Aktualisierungen der verschiedenen Speicherbereiche sowie Abhängigkeiten unterschiedlicher Speicherbereiche und/oder einzelner Teilaktualisierungen sind somit möglich. Insbesondere ist es möglich, bestimmte Teilaktualisierungen nicht auszuführen, solange oder wenn andere Teilaktualisierungen in anderen Speicherbereichen nicht erfolgt sind oder noch ausstehen.</p><p id="p0028" num="0028">Diese Abhängigkeiten können schon bei der Erstellung des Speicher-Images der Echtzeitanwendung statisch festgelegt werden. Sie können alternativ auch dynamisch zur Laufzeit bestimmt werden, indem zum Beispiel ein Speicherbereich logische Abhängigkeiten zu anderen Speicherbereichen beschreibt. Dabei wird beispielsweise bei der Programmierung und Image-Erstellung der Echtzeitanwendung festgelegt, ob ein Parameter aktualisierbar ist und ob eine bestimmte Aktualisierungs-Reihenfolge einzuhalten ist.</p><p id="p0029" num="0029">In weiteren Ausführungsformen der Netzwerkeinrichtung und/oder des Verfahrens ist die Netzwerkeinrichtung derart eingerichtet, dass nach dem Schreiben der Aktualisierungsdaten in den mindestens einen weiteren Aktualisierungsspeicherbereich mindestens eine weitere Zustandsinformation für einen<!-- EPO <DP n="9"> --> Zustand des mindestens einen weiteren Aktualisierungsspeicherbereichs geändert wird, und dass das Ändern der mindestens einen weiteren ersten Speicheradresse in die mindestens eine weitere zweite Speicheradresse in Abhängigkeit von der mindestens einen weiteren Zustandsinformation erfolgt.</p><p id="p0030" num="0030">Dies ermöglicht eine entsprechende Synchronisierung des Änderns der Speicheradressen auch für den Fall von mehreren Aktualisierungen in mehreren Speicherbereichen.</p><p id="p0031" num="0031">In weiteren Ausführungsformen der Netzwerkeinrichtung und/oder des Verfahrens ist das Speichern der Aktualisierungsdaten in Abhängigkeit von einer vorgegebenen Gültigkeit des aktualisierbaren Parameters ausführbar.</p><p id="p0032" num="0032">So können beispielsweise kryptographische Schlüssel mit einer Gültigkeit versehen werden. Ein Update der kryptographischen Schlüssel ist dann nur nach Ablauf einer entsprechenden Gültigkeit möglich. Dies kann beispielsweise als Zugriffsschutz oder als Auslöser (englisch Trigger) für eine Aktualisierung des aktualisierbaren Parameters, in diesem Fall also der kryptographischen Schlüssel, verstanden werden.</p><p id="p0033" num="0033">In weiteren Ausführungsformen der Netzwerkeinrichtung und/oder des Verfahrens umfasst der aktualisierbare Parameter kryptographische Schlüssel und/oder Zertifikate.</p><p id="p0034" num="0034">Sowohl kryptographische Schlüssel als auch Zertifikate müssen regelmäßig erneuert werden, um ihre Schutzfunktion nicht einzubüßen. Dies wird durch das vorgeschlagene Verfahren ermöglicht.</p><p id="p0035" num="0035">In weiteren Ausführungsformen der Netzwerkeinrichtung und/oder des Verfahrens umfasst der aktualisierbare Parameter Angriffssignaturen und/oder Regelbasen für eine Firewall und/oder ein Intrusion Detection System.<!-- EPO <DP n="10"> --></p><p id="p0036" num="0036">Angriffssignaturen und Regelbasen müssen ständig aktuell gehalten werden, um das Feldgerät vor Angriffen vor außen zu schützen. Dies wird durch das vorgeschlagene Verfahren ermöglicht.</p><p id="p0037" num="0037">Weiterhin wird ein Automatisierungsnetzwerk mit mehreren entsprechenden Netzwerkeinrichtungen vorgeschlagen. Das Automatisierungsnetzwerk ist eingerichtet, zur Laufzeit eine synchronisierte und/oder gleichzeitige Aktualisierung des aktualisierbaren Parameters jeder der Netzwerkeinrichtungen vorzunehmen.</p><p id="p0038" num="0038">Auf diese Weise ist eine effiziente Aktualisierung mehrerer Netzwerkeinrichtungen möglich. Dies trägt zur Erhöhung der Sicherheit des Betriebs und der Effizienz der Wartung des Automatisierungsnetzwerkes bei.</p><p id="p0039" num="0039">Weiterhin wird ein Computerprogrammprodukt vorgeschlagen, welches auf einer programmgesteuerten Einrichtung die Durchführung eines entsprechenden Verfahrens veranlasst.</p><p id="p0040" num="0040">Ein Computerprogramm-Produkt wie ein Computerprogramm-Mittel kann beispielsweise als Speichermedium, wie Speicherkarte, USB-Stick, CD-ROM, DVD oder auch in Form einer herunterladbaren Datei von einem Server in einem Netzwerk bereitgestellt oder geliefert werden. Dies kann zum Beispiel in einem drahtlosen Kommunikationsnetzwerk durch die Übertragung einer entsprechenden Datei mit dem Computerprogramm-Produkt oder dem Computerprogramm-Mittel erfolgen. Als programmgesteuerte Einrichtung kommt insbesondere eine wie vorbeschriebene Netzwerkeinrichtung in frage.</p><p id="p0041" num="0041">Weiterhin wird ein Datenträger mit einem gespeicherten Computerprogramm mit Befehlen vorgeschlagen, welche die Durchführung eines entsprechenden Verfahrens auf einer programmgesteuerten Einrichtung veranlasst.<!-- EPO <DP n="11"> --></p><p id="p0042" num="0042">Weitere mögliche Implementierungen der Erfindung umfassen auch nicht explizit genannte Kombinationen von zuvor oder im Folgenden bezüglich der Ausführungsbeispiele beschriebenen Verfahrensschritte, Merkmale oder Ausführungsformen des Verfahrens oder der Netzwerkeinrichtung. Dabei wird der Fachmann auch Einzelaspekte als Verbesserungen oder Ergänzungen zu der jeweiligen Grundform der Erfindung hinzufügen oder abändern.</p><p id="p0043" num="0043">Die oben beschriebenen Eigenschaften, Merkmale und Vorteile dieser Erfindung sowie die Art und Weise, wie diese erreicht werden, werden klarer und deutlicher verständlich im Zusammenhang mit der folgenden Beschreibung der Ausführungsbeispiele, die im Zusammenhang mit den Zeichnungen näher erläutert werden.</p><p id="p0044" num="0044">Dabei zeigen:
<dl id="dl0001"><dt>Fig. 1</dt><dd>ein Blockschaltbild eines Ausführungsbeispiels einer Netzwerkeinrichtung;</dd><dt>Fig. 2</dt><dd>ein Blockschaltbild eines Ausschnitts des Ausführungsbeispiels der Netzwerkeinrichtung aus <figref idrefs="f0001">Fig. 1</figref>;</dd><dt>Fig. 3</dt><dd>ein Blockschaltbild eines Automatisierungsnetzwerkes mit mehreren Netzwerkeinrichtungen;</dd><dt>Fig. 4</dt><dd>ein Ablaufdiagramm eines Ausführungsbeispiels eines Verfahrens zum Betreiben einer Netzwerkeinrichtung für ein Automatisierungsnetzwerk;</dd><dt>Fig. 5</dt><dd>ein alternatives Blockschaltbild des Ausschnitts des Ausführungsbeispiels der Netzwerkeinrichtung aus <figref idrefs="f0001">Fig. 1</figref>;</dd><dt>Fig. 6</dt><dd>ein alternatives Blockschaltbild des Ausschnitts des Ausführungsbeispiels der Netzwerkeinrichtung aus <figref idrefs="f0001">Fig. 1</figref>; und<!-- EPO <DP n="12"> --></dd><dt>Fig. 7</dt><dd>ein alternatives Blockschaltbild des Ausschnitts des Ausführungsbeispiels der Netzwerkeinrichtung aus <figref idrefs="f0001">Fig. 1</figref>.</dd></dl></p><p id="p0045" num="0045">In <figref idrefs="f0001">Fig. 1</figref> ist ein Blockschaltbild eines Ausführungsbeispiels einer Netzwerkeinrichtung 10 dargestellt.</p><p id="p0046" num="0046">Die Netzwerkeinrichtung 10, die für den Betrieb in einem Automatisierungsnetzwerk geeignet ist, ist mit Hilfe einer Echtzeitanwendung 101 zur Bereitstellung einer Funktion der Netzwerkeinrichtung 10 eingerichtet, wie beispielsweise der Steuerung und Kontrolle einer Maschine oder einer maschinellen Vorrichtung. Die Echtzeitanwendung 101 hat mindestens einen vorbestimmten aktualisierbaren Parameter 102, der durch das Verfahren zur Laufzeit der Echtzeitanwendung 101 und damit insbesondere ohne Shutdown, das heißt ohne Beenden der Echtzeitanwendung 101 und/oder Herunterfahren der Netzwerkeinrichtung 10 teilweise oder vollständig aktualisiert werden kann.</p><p id="p0047" num="0047">Wie in <figref idrefs="f0001">Fig. 1</figref> dargestellt, weist die Netzwerkeinrichtung 10 mehrere Komponenten auf. Eine Speichereinrichtung 103 dient zum Speichern von Aktualisierungsdaten 104 für den aktualisierbaren Parameter 102 in einem Aktualisierungsspeicherbereich 105 und zum Speichern von Anwendungsdaten 106 für die Echtzeitanwendung 101 in einem Anwendungsspeicherbereich 107.</p><p id="p0048" num="0048">Beispiele für Anwendungsdaten 105 sind Programmcode für ein Betriebssystem, Signaturlisten von Virenpattern, kryptographische Schlüssel, Zertifikate, Angriffssignaturen oder Regelbasen von Firewalls und Intrusion Detection Systems (IDS).</p><p id="p0049" num="0049">Beispiele für Aktualisierungsdaten 104 sind dementsprechend Betriebssystem-Patches, Signaturlisten von Virenpattern, kryptographische Schlüssel, Zertifikate, Angriffssignaturen oder Regelbasen von Firewalls und IDS.<!-- EPO <DP n="13"> --></p><p id="p0050" num="0050">Der Aktualisierungsspeicherbereich 105 und der Anwendungsspeicherbereich 107 sind dabei voneinander getrennt, stellen also jeweils eigene Adressräume oder Adressbereiche dar, wobei eine Adressierung der beiden Speicherbereiche 105, 107 durch eine auf den Anwendungsspeicherbereich 107 verweisenden erste Speicheradresse 108 und eine zweite auf den die Aktualisierungsdaten 104 speichernden Aktualisierungsspeicherbereich 105 verweisende zweite Speicheradresse 109 erfolgt.</p><p id="p0051" num="0051"><figref idrefs="f0002">Fig. 2</figref> zeigt ein Blockschaltbild eines Ausschnitts des Ausführungsbeispiels der Netzwerkeinrichtung 10 aus <figref idrefs="f0001">Fig. 1</figref>. Zur besseren Lesbarkeit sind in <figref idrefs="f0002">Fig. 2</figref> nur der Aktualisierungsspeicherbereich 105 und der Anwendungsspeicherbereich 107 sowie die auf die beiden Bereiche verweisenden Speicheradressen 108, 109 dargestellt. Bei den beiden Speicheradressen 108, 109 handelt es sich programmtechnisch um Pointer auf die Speicheradressen der beiden Speicherbereiche in der Speichereinrichtung 103 der Netzwerkeinrichtung 10.</p><p id="p0052" num="0052">Zur Laufzeit der Echtzeitanwendung 101 werden eine erste Instanz 102t des aktualisierbaren Parameters 102 in dem Anwendungsspeicherbereich 107 und eine zweite Instanz 102tt des aktualisierbaren Parameters 102 in dem Aktualisierungsspeicherbereich 105 gespeichert.</p><p id="p0053" num="0053">Die beiden Speicheradressen 108, 109 sind in einer Speicheradressen-Tabelle 200 gespeichert.</p><p id="p0054" num="0054">Die im Voraus geplanten und festgelegten Variablen des aktualisierbaren Parameters 102, die aktualisiert werden sollen, sind somit zur Laufzeit doppelt als erste Instanz 102t und zweite Instanz 102tt in der Speichereinrichtung 103 angelegt und jeweils eindeutig durch die in der Speichertabelle 200 gespeicherten Speicheradressen 108, 109 adressiert.</p><p id="p0055" num="0055">Ein Tabelleneintrag in der Speicheradressen-Tabelle 200 umfasst somit zwei Speicheradressen, wobei die erste Speicheradresse 108 auf den Anwendungsspeicherbereich 107 verweist<!-- EPO <DP n="14"> --> oder zeigt, auf den die Echtzeitanwendung 101 Zugriff hat, und wobei die zweite Speicheradresse 109 auf den Aktualisierungsspeicherbereich 105 verweist oder zeigt, auf den eine nicht notwendigerweise echtzeitfähige Update-Anwendung zur Aktualisierung des aktualisierbaren Parameters 102 zugreifen kann.</p><p id="p0056" num="0056">Der den Anwendungsspeicherbereich 107 und den Aktualisierungsspeicherbereich 105 aufweisende Speicher bildet somit einen von echtzeitfähigen und nicht notwendigerweise echtzeitfähigen Komponenten oder Anwendungen genutzten Speicherbereich für Konfigurationsdaten, der auch als Updatespeicher bezeichnet werden kann.</p><p id="p0057" num="0057">Der programmtechnische Zugriff der Echtzeitanwendung 101 geschieht mittels des in <figref idrefs="f0002">Fig. 2</figref> dargestellten Speichertabellen-Eintrags, der wiederum auf die erste Instanz 102t des aktualisierbaren Parameters 102 verweist.</p><p id="p0058" num="0058">Eine Update-Anwendung zur Durchführung der Aktualisierung des aktualisierbaren Parameters 102 schreibt Aktualisierungsdaten 104 in den Aktualisierungsspeicherbereich 105. Programmtechnisch geschieht dies durch Modifikation der betreffenden zu aktualisierenden Variablen der zweiten Instanz 102tt des aktualisierbaren Parameters 102.</p><p id="p0059" num="0059">In <figref idrefs="f0002">Fig. 2</figref> ist weiterhin eine Zustandsinformation 210 zur Kennzeichnung eines Zustands des Aktualisierungsspeicherbereichs 105 dargestellt. Diese Zustandsinformation 210 wird nach dem Schreiben der Aktualisierungsdaten 104 in den Aktualisierungsspeicherbereich 105 von der Update-Anwendung geändert. Alternativ kann die Update-Anwendung das Beenden des Schreibens der Aktualisierungsdaten 104 auch geeignet signalisieren oder durch Auslösen eines bestimmten Ereignisses kenntlich machen. Der Zugriff auf die Zustandsinformation 210 ist dabei beispielsweise durch Semaphore geschützt.<!-- EPO <DP n="15"> --></p><p id="p0060" num="0060">Eine so genannte Switching-Komponente kann daraufhin das Ändern der ersten Speicheradresse 108 in die zweite Speicheradresse 109 in Abhängigkeit von der Zustandsinformation 210 vornehmen. Diese Switching-Komponente kann beispielsweise als Teil der Echtzeitanwendung implementiert sein. Alternativ kann die Switching-Komponente der Echtzeitanwendung als auf der Plattform fest verdrahtete Funktion zur Verfügung gestellt werden. Die Switching-Komponente führt für den vorbestimmten aktualisierbaren Parameter 102 den abschließenden Schritt des vorgeschlagenen Verfahrens aus.</p><p id="p0061" num="0061">Es ist möglich, dass ein Anwendungsspeicherbereich 107 im Verlauf des Verfahrens nach dem Vertauschen der Speicheradressen 108 und 109 die Rolle des Aktualisierungsspeicherbereichs 105 übernimmt und umgekehrt.</p><p id="p0062" num="0062">Die Switching-Komponente kann deterministisch genutzt werden, indem schon während der Planung der Echtzeitanwendung 101 innerhalb jedes Zyklus die Ausführungszeit der Switching-Komponente zur gesamten Zykluszeit hinzugefügt wird, so dass die gesamte Zykluszeit entsprechend erhöht wird.</p><p id="p0063" num="0063">Der Zugriff auf die Zustandsinformation 210 ist beispielsweise durch Semaphore geschützt, da eine Synchronisation der Zustandsinformation 210, auf die sowohl die Switching-Komponente als auch die Update-Anwendung zugreifen, sichergestellt sein muss. Insbesondere muss der Zugriff auf die Zustandsinformation 210 für die Switching-Komponente gesperrt sein, wenn die Update-Anwendung schreibend auf die Zustandsinformation 210 zugreift.</p><p id="p0064" num="0064">Die Speicheradressen-Tabelle 200 kann weitere Einträge enthalten, die auf weitere als Update-Speicher dienende Speicherbereiche bestehend aus jeweils einem weiteren Aktualisierungsspeicherbereich und einem weiteren Anwendungsspeicherbereich verweisen. Für jeden dieser weiteren Update-Speicher wird eine entsprechende weitere Zustandsinformation vorgehalten,<!-- EPO <DP n="16"> --> die entsprechend der oben dargestellten Vorgehensweise verwaltet wird.</p><p id="p0065" num="0065">Die Speicheradressen-Tabelle 200 dient damit einer gesteuerten Abarbeitung eines oder mehrerer Update-Speicher zur Aktualisierung des aktualisierbaren Parameters 102. Der aktualisierbare Parameter 102 kann wie oben erwähnt mehrere zu aktualisierende Variablen beinhalten, wobei jeder Eintrag der Speicheradressen-Tabelle auf eine oder mehrere dieser zu aktualisierenden Variablen des aktualisierbaren Parameters 102 verweist.</p><p id="p0066" num="0066"><figref idrefs="f0002">Fig.3</figref> zeigt ein Blockschaltbild eines Automatisierungsnetzwerkes 300 mit mehreren Netzwerkeinrichtungen 10. Die Netzwerkeinrichtungen 10 sind über Netzwerkverbindungen verbunden. Das Automatisierungsnetz 300 kann dabei weitere Komponenten wie beispielsweise Kontrollvorrichtungen enthalten, die in der <figref idrefs="f0002">Fig. 3</figref> nicht dargestellt sind.</p><p id="p0067" num="0067"><figref idrefs="f0003">Fig. 4</figref> zeigt ein Ablaufdiagramm eines Ausführungsbeispiels eines Verfahrens 400 zum Betreiben einer Netzwerkeinrichtung 10 für ein Automatisierungsnetzwerk 300.</p><p id="p0068" num="0068">Das Verfahren 400 umfasst das Schreiben 410 von Aktualisierungsdaten 104 für den aktualisierbaren Parameter 102 in einen Aktualisierungsspeicherbereich 105 zu einem vorgegebenen Aktualisierungszeitpunkt und das Ändern 420 einer auf den Anwendungsspeicherbereich 107 verweisenden ersten Speicheradresse 108 in eine auf den die Aktualisierungsdaten 104 beinhaltende Aktualisierungsspeicherbereich 105 verweisende zweite Speicheradresse 109, wobei das Ändern 420 nach dem Schreiben 410 vorgenommen wird.</p><p id="p0069" num="0069">Die <figref idrefs="f0003 f0004">Fig. 5-7</figref> zeigen jeweils ein alternatives Blockschaltbild des Ausschnitts des Ausführungsbeispiels der Netzwerkeinrichtung aus <figref idrefs="f0001">Fig. 1</figref>.<!-- EPO <DP n="17"> --></p><p id="p0070" num="0070">Die im Voraus geplanten und festgelegten Variablen des aktualisierbaren Parameters 102 sind in <figref idrefs="f0003 f0004">Fig. 5-7</figref> ein drittes Objekt "Object 3". Das dritte Objekt soll aktualisiert werden und ist somit zur Laufzeit doppelt als erste Instanz 102t ("Object 3") und zweite Instanz 102tt ("Object 3 - updated") in der Speichereinrichtung 103 angelegt und jeweils eindeutig durch die in der Speichertabelle 200 gespeicherten Speicheradressen 108 ("Adr y"), 109 ("Adr x") adressiert.</p><p id="p0071" num="0071">Jeder Tabelleneintrag in der Speicheradressen-Tabelle 200 umfasst zwei Speicherbereichsadressen: Die eine Speicherbereichsadresse 109 zeigt auf einen Speicherbereich, auf den eine Echtzeitanwendung 101 Zugriff haben soll. Die andere Speicherbereichsadresse 108 zeigt auf einen Speicherbereich, auf den eine nicht notwendigerweise echtzeitfähige Updateanwendung zugreifen darf. Der Speicheradressen-Tabelleneintrag für das dritte Objekt umfasst beispielsweise einen zur Speicherbereichsadresse 109 gehörigen Tabelleneintrag 213 ("Adr of active Object 3: x") und einen zur Speicherbereichsadresse 108 gehörigen Tabelleneintrag 223 ("Adr of inactive Object 3: y"). Damit entsteht ein gemeinsam von echtzeitfähigen und nicht echtzeitfähigen Komponenten genutzter Speicherbereich für Konfigurationsdaten, der Updatespeicher.</p><p id="p0072" num="0072">Wie in <figref idrefs="f0003">Fig. 5</figref> dargestellt, greift die Echtzeitanwendung 101 ("RT application using RT Object 3") mittels eines zur Speicherbereichsadresse 109 gehörigen Tabelleneintrags 213 ("Adr of active Object 3: x") über eine zusätzliche Indirektion auf das dritte Objekt ("Object 3") zu. Dabei wird der zur Speicherbereichsadresse 109 gehörige Tabelleneintrag 213 gelesen 500 ("read") und der Anwendungsspeicherbereich 107 gelesen 501 ("read") und in diesen geschrieben 501 ("write").</p><p id="p0073" num="0073">Wie in <figref idrefs="f0004">Fig. 6</figref> dargestellt, führt eine beliebige Anwendung 600 ("Update application for RT Object 3"), die ein Update durchführen will, das Lesen 610 ("read") des zur Speicherbereichsadresse 108 gehörigen Tabelleneintrags 223 durch, schreibt die geänderten Daten in den Update-Speicherbereich 105 ,<!-- EPO <DP n="18"> --> führt eine Änderung 630 ("write") einer Zustandsinformation 210 durch und sendet der Switching-Komponente die Zustandinformation 210, beispielsweise mittels eines Finished Flags 620, oder löst ein Ereignis aus, wenn das Schreiben 410 in den Update-Speicherbereich 105 abgeschlossen ist.</p><p id="p0074" num="0074">Wie in <figref idrefs="f0004">Fig. 7</figref> dargestellt, führt eine echtzeitfähige Switching-Komponente 700 ausgelöst durch die Zustandsinformation 210, die eine Information über ein abgeschlossenes Update enthält und die gelesen und anschließend gelöscht wird 720 ("read then delete"), zum Beispiel für den updatefähigen, das dritte Objekt beinhaltenden Speicherbereich, einen Tausch 710 ("Switching Process", "exchange") der Objektadressen 108, 109 innerhalb eines Adresspaares durch, so dass ein zur Speicherbereichsadresse 108 gehöriger Tabelleneintrag 713 entsteht ("Adr of active Object 3: y"), sowie ein zur Speicherbereichsadresse 109 gehörigen Tabelleneintrag 723 ("Adr of inactive Object 3: x").</p><p id="p0075" num="0075">Die Synchronisation der Zustandinformation 210 (Finished Flag), auf die sowohl die Switching-Komponente als auch die Update-Anwendung zugreifen, muss über Funktionen der Ausführungsumgebung wie zum Beispiel Semaphore sichergestellt sein. Das heißt, während die Update-Komponente schreibend auf das Flag zugreift, muss der Zugriff für die Switching-Komponente gesperrt sein.</p><p id="p0076" num="0076">Für das vorgeschlagene Verfahren und/oder die vorgeschlagene Netzwerkeinrichtung sind weiterhin folgende Szenarien denkbar.</p><p id="p0077" num="0077">Das Hinzufügen von zusätzlichen Feldgeräten, zum Beispiel umfassend Funktionen zum Energiemonitoring oder Überwachungssensoren, in ein laufendes Automatisierungsnetzwerk kann mittels einer Aktualisierung oder Konfigurationsänderung gemäß dem vorgeschlagenen Verfahren erfolgen, wenn der Einsatz eines solchen zusätzlichen Feldgerätes bereits in der Planung als möglich vorgesehen ist und von einem Konfigurationsparameter<!-- EPO <DP n="19"> --> abhängig gemacht wurde, der in dem Update-Speicher gespeichert wird.</p><p id="p0078" num="0078">Speziell können Überwachungs-Prozesse den Einbau solcher zusätzlichen, vorgeplanten Feldgeräte in das Automatisierungsnetzwerk erfassen und authentisieren und das Schreiben der Aktualisierungsdaten in den Update-Speicher vornehmen.</p><p id="p0079" num="0079">Zudem können Systemvariablen von Echtzeitanwendungen, für die es erforderlich ist, dass sie im laufenden Betrieb aktualisiert werden, während des Engineerings als solche explizit gekennzeichnet werden. Ein Beispiel ist ein Virenscanner für industrielle Kommunikationsprotokolle, der mit einer Liste von Angriffssignaturen aktualisiert werden soll. Als zu aktualisierender Parameter werden dann zum Beispiel aktuelle Virendaten und/oder Signaturen aktualisiert. Dabei kann ein speziell für Industrieanwendungen mit begrenztem Speicherplatz entwickelter Alterungs- und Ersetzungsalgorithmus eingesetzt werden.</p><p id="p0080" num="0080">Für eine automatisierte Erneuerung von in der Netzwerkeinrichtung vorgehaltenen kryptographischen Schlüsseln können Zertifikats- bzw. Schlüsselspeicher speziell als solche gekennzeichnet werden und damit der Prozess zur Zertifikatserneuerung in das Image der Echtzeitanwendung integriert werden. Als zu aktualisierender Parameter werden dann zum Beispiel aktuelle kryptographische Schlüssel und/oder Zertifikate aktualisiert.</p><p id="p0081" num="0081">Speziell für das Bootstrapping von Credentials kann ein Überwachungs- und Updatemechanismus vorhanden sein, der den Ablauf von gespeicherten Zertifikaten prüft und in einem definierten Zeitraum eine Zertifikatserneuerung anstößt. Dies kann dadurch erfolgen, dass die Steuerung, beispielsweise mittels eines Cryptochips oder softwarebasiert, ein neues asymmetrisches Schlüsselpaar erzeugt und dann zunächst über asynchrone Verbindungen einen PKCS#10-Zertifikat Signing Request an eine Certification Authority sendet. Erhält die<!-- EPO <DP n="20"> --> Steuerung das Zertifikat über den öffentlichen Schlüssel zurück, so wird sie die benötigten privaten/öffentlichen Schlüssel als zu aktualisierender Parameter in den updatefähigen Speicher für Echtzeitanwendungen schreiben und mittels eines Switch-Vorganges ersetzen. Die Zertifizierungsstelle kann die Zertifikatsveröffentlichung übernehmen.</p><p id="p0082" num="0082">Das vorgeschlagene Verfahren und die Ausführungsbeispiele für Netzwerkeinrichtungen ermöglichen es somit, Konfigurationsänderungen von laufenden Echtzeitanwendungen vorzunehmen.</p><p id="p0083" num="0083">Insbesondere kann eine Aktualisierung von Security-Assoziationen wie zum Beispiel symmetrischer kryptografischer Schlüssel oder abgelaufener Zertifikate, Angriffssignaturen oder Regelbasen von Firewalls und IDS-Systemen erfolgen, ohne dass es einer Betriebsunterbrechung des betreffenden Feldgeräts bedarf. Erneuerte Schlüssel und/oder Zertifikate, aktualisierte Angriffssignaturen oder Regelbasen stellen aktualisierbare Parameter dar.</p><p id="p0084" num="0084">Weiterhin können Inkonsistenzen bei der Durchführung von Updates durch die Festlegung von Abhängigkeiten vermieden werden.</p><p id="p0085" num="0085">Obwohl die Erfindung im Detail durch das bevorzugte Ausführungsbeispiel näher illustriert und beschrieben wurde, so ist die Erfindung nicht durch die offenbarten Beispiele eingeschränkt und andere Variationen können vom Fachmann hieraus abgeleitet werden, ohne den Schutzumfang der Erfindung zu verlassen.</p></description><claims mxw-id="PCLM56976173" lang="DE" load-source="patent-office"><!-- EPO <DP n="21"> --><claim id="c-de-0001" num="0001"><claim-text>Netzwerkeinrichtung (10) für ein Automatisierungsnetzwerk (300), welche mit Hilfe einer Echtzeitanwendung (101) zur Bereitstellung einer Funktion der Netzwerkeinrichtung (10) eingerichtet ist, wobei die Echtzeitanwendung (101) mindestens einen vorbestimmten aktualisierbaren Parameter (102) hat und die Netzwerkeinrichtung (10) aufweist:
<claim-text>eine Speichereinrichtung (103) zum Speichern (410) von Aktualisierungsdaten (104) für den aktualisierbaren Parameter (102) in einem Aktualisierungsspeicherbereich (105) und zum Speichern von Anwendungsdaten (106) für die Echtzeitanwendung (101) in einem Anwendungsspeicherbereich (107), wobei der Aktualisierungsspeicherbereich (105) und der Anwendungsspeicherbereich (107) voneinander getrennt sind,</claim-text>
<claim-text>wobei die Netzwerkeinrichtung (10) derart eingerichtet ist, dass nach einem Schreiben (410) von Aktualisierungsdaten (104) in den Aktualisierungsspeicherbereich (105) zu einem vorgegebenen Aktualisierungszeitpunkt ein Ändern (420) einer auf den Anwendungsspeicherbereich (107) verweisenden ersten Speicheradresse (108) in eine auf den die Aktualisierungsdaten (104) speichernden Aktualisierungsspeicherbereich (105) verweisende zweite Speicheradresse (109) erfolgt, wobei das Ändern (420) innerhalb eines im Voraus festgelegten Aktualisierungszeitschlitzes deterministisch zur Laufzeit der Echtzeitanwendung (101) erfolgt.</claim-text></claim-text></claim><claim id="c-de-0002" num="0002"><claim-text>Netzwerkeinrichtung (10) nach Anspruch 1,<br/>
<b>dadurch gekennzeichnet,</b><br/>
<b>dass</b> zur Laufzeit der Echtzeitanwendung (101) eine erste Instanz (102t) des aktualisierbaren Parameters (101) in dem Anwendungsspeicherbereich (107) und eine zweite Instanz (102tt) des aktualisierbaren Parameters (102) in dem Aktualisierungsspeicherbereich (105) gespeichert sind.</claim-text></claim><claim id="c-de-0003" num="0003"><claim-text>Netzwerkeinrichtung (10) nach einem der vorstehenden Ansprüche,<br/>
<!-- EPO <DP n="22"> -->ferner umfassend eine Speicheradressen-Tabelle (200) zum Speichern der ersten Speicheradresse (108) und der zweiten Speicheradresse (109).</claim-text></claim><claim id="c-de-0004" num="0004"><claim-text>Netzwerkeinrichtung (10) nach einem der vorstehenden Ansprüche,<br/>
die ferner derart eingerichtet ist, dass nach dem Schreiben (410) der Aktualisierungsdaten (104) in den Aktualisierungsspeicherbereich (105) eine Zustandsinformation (210) für einen Zustand des Aktualisierungsspeicherbereichs (105) geändert wird, und dass das Ändern (420) der ersten Speicheradresse (108) in die zweite Speicheradresse (109) in Abhängigkeit von der Zustandsinformation (210) erfolgt.</claim-text></claim><claim id="c-de-0005" num="0005"><claim-text>Netzwerkeinrichtung (10) nach Anspruch 4, ferner umfassend ein Zugriffsschutzmittel, welches zum Schützen eines Zugriffs auf die Zustandsinformation (210) eingerichtet ist.</claim-text></claim><claim id="c-de-0006" num="0006"><claim-text>Netzwerkeinrichtung (10) nach Anspruch 5,<br/>
<b>dadurch gekennzeichnet,</b><br/>
<b>dass</b> das Zugriffsschutzmittel einen oder mehrere Semaphore umfasst.</claim-text></claim><claim id="c-de-0007" num="0007"><claim-text>Netzwerkeinrichtung (10) nach einem der vorstehenden Ansprüche,<br/>
wobei die Speichereinrichtung (103) mindestens einen weiteren Aktualisierungsspeicherbereich (105) zum Speichern (410) von Aktualisierungsdaten (104) für den aktualisierbaren Parameter (102) und mindestens einen weiteren Anwendungsspeicherbereich (107) zum Speichern von Anwendungsdaten (106) für die Echtzeitanwendung (101) umfasst, wobei der mindestens eine weitere Aktualisierungsspeicherbereich (105) und der mindestens eine weitere Anwendungsspeicherbereich (107) voneinander getrennt sind, und<br/>
wobei die Netzwerkeinrichtung (10) ferner derart eingerichtet ist, dass nach einem Schreiben (410) von Aktualisierungsdaten (104) in den mindestens einen weiteren Aktualisierungsspeicherbereich (105) zu dem vorgegebenen Aktualisierungszeitpunkt<!-- EPO <DP n="23"> --> ein Ändern (420) einer auf den mindestens einen weiteren Anwendungsspeicherbereich (107) verweisenden mindestens einen weiteren ersten Speicheradresse (108) in eine auf den die Aktualisierungsdaten (104) speichernden mindestens einen weiteren Aktualisierungsspeicherbereich (105) verweisende mindestens eine weitere zweite Speicheradresse (109) erfolgt, wobei das Ändern (420) innerhalb eines im Voraus festgelegten Aktualisierungszeitschlitzes deterministisch zur Laufzeit der Echtzeitanwendung (101) erfolgt.</claim-text></claim><claim id="c-de-0008" num="0008"><claim-text>Netzwerkeinrichtung (10) nach Anspruch 7,<br/>
die ferner derart eingerichtet ist, dass nach dem Schreiben (410) der Aktualisierungsdaten (104) in den mindestens einen weiteren Aktualisierungsspeicherbereich (105) mindestens eine weitere Zustandsinformation (210) für einen Zustand des mindestens einen weiteren Aktualisierungsspeicherbereichs (105) geändert wird, und dass das Ändern (420) der mindestens einen weiteren ersten Speicheradresse (108) in die mindestens eine weitere zweite Speicheradresse (109) in Abhängigkeit von der mindestens einen weiteren Zustandsinformation (210) erfolgt.</claim-text></claim><claim id="c-de-0009" num="0009"><claim-text>Netzwerkeinrichtung (10) nach einem der vorstehenden Ansprüche, wobei das Schreiben (410) der Aktualisierungsdaten (104) in Abhängigkeit von einer vorgegebenen Gültigkeit des aktualisierbaren Parameters (102) ausführbar ist.</claim-text></claim><claim id="c-de-0010" num="0010"><claim-text>Netzwerkeinrichtung (10) nach einem der vorstehenden Ansprüche, wobei der aktualisierbare Parameter (102) kryptographische Schlüssel und/oder Zertifikate umfasst.</claim-text></claim><claim id="c-de-0011" num="0011"><claim-text>Netzwerkeinrichtung (10) nach einem der vorstehenden Ansprüche, wobei der aktualisierbare Parameter (102) Angriffssignaturen und/oder Regelbasen für eine Firewall und/oder ein Intrusion Detection System umfasst.</claim-text></claim><claim id="c-de-0012" num="0012"><claim-text>Automatisierungsnetzwerk (300) mit mehreren Netzwerkeinrichtungen (10) nach einem der Ansprüche 1-11, wobei das Automatisierungsnetzwerk (300) derart eingerichtet ist, zur<!-- EPO <DP n="24"> --> Laufzeit eine synchronisierte und/oder gleichzeitige Aktualisierung des aktualisierbaren Parameters (102) jeder der Netzwerkeinrichtungen (10) vorzunehmen.</claim-text></claim><claim id="c-de-0013" num="0013"><claim-text>Verfahren (400) zum Betreiben einer Netzwerkeinrichtung (10) insbesondere nach einem der Ansprüche 1-11 für ein Automatisierungsnetzwerk (300), welche mit Hilfe einer Echtzeitanwendung (101) zur Bereitstellung einer Funktion der Netzwerkeinrichtung (10) eingerichtet ist, wobei die Echtzeitanwendung (101) mindestens einen vorbestimmten aktualisierbaren Parameter (102) hat, wobei das Verfahren (400) umfasst:
<claim-text>Speichern (430) von Aktualisierungsdaten (104) für den aktualisierbaren Parameter (102) in einem Aktualisierungsspeicherbereich (105);</claim-text>
<claim-text>Speichern (440) von Anwendungsdaten (106) für die Echtzeitanwendung (101) in einem Anwendungsspeicherbereich (107), wobei der Aktualisierungsspeicherbereich (105) und der Anwendungsspeicherbereich (107) voneinander getrennt sind;</claim-text>
<claim-text>Schreiben (410) von Aktualisierungsdaten (104) für den aktualisierbaren Parameter (102) in den Aktualisierungsspeicherbereich (105); und</claim-text>
<claim-text>zu einem vorgegebenen Aktualisierungszeitpunkt Ändern (420) einer auf den Anwendungsspeicherbereich (107) verweisenden ersten Speicheradresse (108) in eine auf den die Aktualisierungsdaten (104) speichernden Aktualisierungsspeicherbereich (105) verweisende zweite Speicheradresse (109) nach dem Schreiben (410) der Aktualisierungsdaten (104) in den Aktualisierungsspeicherbereich (105), wobei das Ändern (420) innerhalb eines im Voraus festgelegten Aktualisierungszeitschlitzes deterministisch zur Laufzeit der Echtzeitanwendung (101) erfolgt.</claim-text></claim-text></claim><claim id="c-de-0014" num="0014"><claim-text>Computerprogrammprodukt, welches auf einer programmgesteuerten Einrichtung die Durchführung eines Verfahrens (400) nach Anspruch 13 veranlasst.</claim-text></claim><claim id="c-de-0015" num="0015"><claim-text>Datenträger mit einem gespeicherten Computerprogramm mit Befehlen, welche die Durchführung eines Verfahrens (400) nach<!-- EPO <DP n="25"> --> Anspruch 13 auf einer programmgesteuerten Einrichtung veranlasst.</claim-text></claim></claims><drawings mxw-id="PDW16666957" load-source="patent-office"><!-- EPO <DP n="26"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="196" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="27"> --><figure id="f0002" num="2,3"><img id="if0002" file="imgf0002.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="28"> --><figure id="f0003" num="4,5"><img id="if0003" file="imgf0003.tif" wi="165" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> --><figure id="f0004" num="6,7"><img id="if0004" file="imgf0004.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="160" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="162" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
