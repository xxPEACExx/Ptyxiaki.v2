<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680634-A1" country="EP" doc-number="2680634" kind="A1" date="20140101" family-id="46860431" file-reference-id="318302" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549436" ucid="EP-2680634-A1"><document-id><country>EP</country><doc-number>2680634</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12760311-A" is-representative="YES"><document-id mxw-id="PAPP154823359" load-source="docdb" format="epo"><country>EP</country><doc-number>12760311</doc-number><kind>A</kind><date>20120321</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP204735587" load-source="docdb" format="original"><country>EP</country><doc-number>12760311.6</doc-number><date>20120321</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140449908" ucid="CN-201110071996-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201110071996</doc-number><kind>A</kind><date>20110324</date></document-id></priority-claim><priority-claim mxw-id="PPC140445209" ucid="CN-2012072687-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2012072687</doc-number><kind>W</kind><date>20120321</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-2092289851" load-source="docdb">H04W  24/08        20090101AFI20150209BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1946289575" load-source="docdb" scheme="CPC">H04W  88/18        20130101 LA20160427BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1946289576" load-source="docdb" scheme="CPC">H04W  24/08        20130101 LI20160427BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2133816252" load-source="docdb" scheme="CPC">H04W  24/00        20130101 FI20141128BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180792" lang="DE" load-source="patent-office">VERFAHREN, VORRICHTUNG UND SYSTEM ZUR SIGNALISIERUNGSVERFOLGUNG</invention-title><invention-title mxw-id="PT132180793" lang="EN" load-source="patent-office">METHOD, DEVICE AND SYSTEM FOR SIGNALLING TRACING</invention-title><invention-title mxw-id="PT132180794" lang="FR" load-source="patent-office">PROCÉDÉ, DISPOSITIF ET SYSTÈME DE SUIVI DE SIGNALISATION</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918140194" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR918142848" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR918985107" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd.</last-name><iid>101233704</iid><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen, Guangdong 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918157519" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ZHANG HONGZHUO</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918132176" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ZHANG, HONGZHUO</last-name></addressbook></inventor><inventor mxw-id="PPAR918988979" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ZHANG, HONGZHUO</last-name><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918162340" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>WANG SHUKUN</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918143566" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>WANG, SHUKUN</last-name></addressbook></inventor><inventor mxw-id="PPAR918990710" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>WANG, SHUKUN</last-name><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918990358" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Körber, Martin Hans</last-name><iid>101167628</iid><address><street>Mitscherlich &amp; Partner Patent- und Rechtsanwälte Sonnenstrasse 33</street><city>80331 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2012072687-W"><document-id><country>CN</country><doc-number>2012072687</doc-number><kind>W</kind><date>20120321</date><lang>ZH</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012126362-A1"><document-id><country>WO</country><doc-number>2012126362</doc-number><kind>A1</kind><date>20120927</date><lang>ZH</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548804920" load-source="docdb">AL</country><country mxw-id="DS548869309" load-source="docdb">AT</country><country mxw-id="DS548804921" load-source="docdb">BE</country><country mxw-id="DS548862077" load-source="docdb">BG</country><country mxw-id="DS548804328" load-source="docdb">CH</country><country mxw-id="DS548864432" load-source="docdb">CY</country><country mxw-id="DS548869310" load-source="docdb">CZ</country><country mxw-id="DS548804926" load-source="docdb">DE</country><country mxw-id="DS548864433" load-source="docdb">DK</country><country mxw-id="DS548864790" load-source="docdb">EE</country><country mxw-id="DS548880389" load-source="docdb">ES</country><country mxw-id="DS548862410" load-source="docdb">FI</country><country mxw-id="DS548862411" load-source="docdb">FR</country><country mxw-id="DS548804927" load-source="docdb">GB</country><country mxw-id="DS548864791" load-source="docdb">GR</country><country mxw-id="DS548804928" load-source="docdb">HR</country><country mxw-id="DS548869311" load-source="docdb">HU</country><country mxw-id="DS548804329" load-source="docdb">IE</country><country mxw-id="DS548864792" load-source="docdb">IS</country><country mxw-id="DS548862412" load-source="docdb">IT</country><country mxw-id="DS548864793" load-source="docdb">LI</country><country mxw-id="DS548841242" load-source="docdb">LT</country><country mxw-id="DS548893401" load-source="docdb">LU</country><country mxw-id="DS548841243" load-source="docdb">LV</country><country mxw-id="DS548841244" load-source="docdb">MC</country><country mxw-id="DS548893402" load-source="docdb">MK</country><country mxw-id="DS548893403" load-source="docdb">MT</country><country mxw-id="DS548880390" load-source="docdb">NL</country><country mxw-id="DS548869312" load-source="docdb">NO</country><country mxw-id="DS548893404" load-source="docdb">PL</country><country mxw-id="DS548864794" load-source="docdb">PT</country><country mxw-id="DS548880391" load-source="docdb">RO</country><country mxw-id="DS548864795" load-source="docdb">RS</country><country mxw-id="DS548893405" load-source="docdb">SE</country><country mxw-id="DS548804929" load-source="docdb">SI</country><country mxw-id="DS548869313" load-source="docdb">SK</country><country mxw-id="DS548893538" load-source="docdb">SM</country><country mxw-id="DS548804334" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128670105" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The present invention discloses a signaling tracing method, apparatus and system. In embodiments of the present invention, the signaling tracing configuration information sent by an OAM device carries a user equipment identifier, and therefore, even in a scenario that an access network and a core network are managed by different OAM devices, the OAM device of the access network can also initiate signaling-based signaling tracing configuration, so that a base station can initiate signaling tracing for the user equipment.<img id="iaf01" file="imgaf001.tif" wi="78" he="90" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499478" lang="EN" source="EPO" load-source="docdb"><p>The present invention discloses a signaling tracing method, apparatus and system. In embodiments of the present invention, the signaling tracing configuration information sent by an OAM device carries a user equipment identifier, and therefore, even in a scenario that an access network and a core network are managed by different OAM devices, the OAM device of the access network can also initiate signaling-based signaling tracing configuration, so that a base station can initiate signaling tracing for the user equipment.</p></abstract><description mxw-id="PDES63955535" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">This application claims priority to Chinese Patent Application No. <patcit id="pcit0001" dnum="CN201110071996"><text>201110071996.1</text></patcit>, filed with the Chinese Patent Office on March 24, 2011 and entitled "SIGNALING TRACING METHOD, APPARATUS AND SYSTEM", which is hereby incorporated by reference in its entirety.</p><heading id="h0001"><b>TECHNICAL FIELD</b></heading><p id="p0002" num="0002">The present invention relates to the field of communication technologies and, in particular, to a signaling tracing method, apparatus and system.</p><heading id="h0002"><b>BACKGROUND</b></heading><p id="p0003" num="0003">To better evaluate and diagnose faults and problems in the network, a signaling tracing (Trace) technology has been put forward in the prior art. That is, a network element management system (EMS, Equipment Management System) sends parameter configurations for the signaling tracing to network element nodes, and then receives signaling tracing data returned by the network element nodes, and locates faults and problems in the network by analyzing the signaling tracing data. Further, to reduce operation costs and enhance automation functions of the network, another signaling tracing solution has been put forward based on the traditional signaling tracing method. In this signaling tracing solution, a user equipment (UE, User Equipment) is used to report parameters required for network optimization automatically. For example, in a Long Term Evolution (LTE, Long Term Evolution) project, it is called minimization of drive test (MDT, Minimization of Drive Test). In such a solution, when a network problem occurs, for example, when the user equipment fails to access a random access channel (RACH, Random Access Channel), enters a coverage<!-- EPO <DP n="2"> --> hole, or encounters a network capacity problem, the user equipment records relevant network parameters automatically no matter whether the user equipment is online or offline, and reports the network parameters to a network device according to a reporting cycle configured by the network. Therefore, the network device can analyze current problems of the network device according to the network parameters reported by the user equipment, and perform the network optimization accordingly.</p><p id="p0004" num="0004">Currently, there are two signaling tracing configuration modes: one is a management-based signaling tracing configuration mode, and the other is a signaling-based signaling tracing configuration mode.</p><p id="p0005" num="0005">In the existing network architecture, a scenario that an access network and a core network may be managed by different operation administration and maintenance (OAM, Operation Administration and Maintenance) devices exists. As shown in <figref idrefs="f0001">FIG. 1a</figref>, in such a scenario, the OAM device of the access network is unable to initiate a signaling-based signaling tracing configuration mode for a specific user, but can only initiate a management-based signaling tracing configuration mode.</p><heading id="h0003"><b>SUMMARY</b></heading><p id="p0006" num="0006">Embodiments of the present invention provide a signaling tracing method, apparatus and system, so as to enable an OAM device of an access network to initiate both a management-based signaling tracing configuration mode and a signaling-based signaling tracing configuration mode for a specific user.</p><p id="p0007" num="0007">One aspect of the present invention provides a signaling tracing method, including:
<ul><li>receiving first signaling tracing configuration information sent by an OAM device, where the first signaling tracing configuration information carries a user equipment identifier and is used to initiate signaling tracing for a user equipment corresponding to the user equipment identifier;</li><li>sending the first signaling tracing configuration information to a first core network node;<!-- EPO <DP n="3"> --></li><li>receiving second signaling tracing configuration information sent by a serving core network node, where the second signaling tracing configuration information is obtained by the serving core network node according to the first signaling tracing configuration information provided by the first core network node; and</li><li>initiating signaling tracing for the user equipment according to the second signaling tracing configuration information sent by the serving core network node.</li></ul></p><p id="p0008" num="0008">Another aspect of the present invention provides a signaling tracing method, including:
<ul><li>receiving first signaling tracing configuration information sent by a base station, where the first signaling tracing configuration information carries a user equipment identifier; and</li><li>providing the first signaling tracing configuration information to a serving core network node, so that the serving core network node provides second signaling tracing configuration information to a serving base station according to the first signaling tracing configuration information to initiate signaling tracing for a user equipment corresponding to the user equipment identifier.</li></ul></p><p id="p0009" num="0009">Another aspect of the present invention provides a base station, including:
<ul><li>a collecting unit, configured to receive first signaling tracing configuration information sent by an OAM device, where the first signaling tracing configuration information carries a user equipment identifier and is used to initiate signaling tracing for a user equipment corresponding to the user equipment identifier;</li><li>a sending unit, configured to send the first signaling tracing configuration information received by the collecting unit to a first core network node;</li><li>a receiving unit, configured to receive second signaling tracing configuration information sent by a serving core network node of the user equipment, where the second signaling tracing configuration information is obtained by the serving core network node according to the first signaling tracing configuration information provided by the first core network node; and<!-- EPO <DP n="4"> --></li><li>an initiating unit, configured to initiate signaling tracing for the user equipment according to the second signaling tracing configuration information received by the receiving unit.</li></ul></p><p id="p0010" num="0010">Another aspect of the present invention provides a core network device, including:
<ul><li>a receiving unit, configured to receive first signaling tracing configuration information sent by a base station, where the first signaling tracing configuration information carries a user equipment identifier; and</li><li>a processing unit, configured to provide the first signaling tracing configuration information received by the receiving unit to a serving core network node, so that the serving core network node provides second signaling tracing configuration information to a serving base station according to the first signaling tracing configuration information to initiate signaling tracing for a user equipment corresponding to the user equipment identifier.</li></ul></p><p id="p0011" num="0011">Another aspect of the present invention provides a communication system, including any base station and any core network device that are provided in embodiments of the present invention.</p><p id="p0012" num="0012">In embodiments of the present invention, the signaling tracing configuration information sent by an OAM device carries a specified user equipment identifier, and therefore, even in a scenario that an access network and a core network are managed by different OAM devices, the core network node can also collect the user equipment identifier specified by the OAM device of the access network, thereby the OAM device of the access network can also initiate signaling-based signaling tracing configuration, and a serving base station can initiate signaling tracing for the user equipment.</p><heading id="h0004"><b>BRIEF DESCRIPTION OF DRAWINGS</b></heading><p id="p0013" num="0013">To describe the technical solutions in embodiments of the present invention or in the prior art more clearly, the following briefly introduces the accompanying drawings required for describing the embodiments or the prior art. Apparently, the accompanying drawings in the following description show merely some embodiments of the present<!-- EPO <DP n="5"> --> invention, and persons of ordinary skill in the art may still derive other drawings from the accompanying drawings without creative efforts.</p><p id="p0014" num="0014"><figref idrefs="f0001">FIG. 1a</figref> is a schematic diagram of a scenario that an access network and a core network are managed by different OAM devices;</p><p id="p0015" num="0015"><figref idrefs="f0001">FIG. 1b</figref> is a schematic scenario diagram of an MDT configuration mode;</p><p id="p0016" num="0016"><figref idrefs="f0002">FIG. 1c</figref> is a flowchart of a signaling tracing method according to Embodiment 1 of the present invention;</p><p id="p0017" num="0017"><figref idrefs="f0003">FIG. 2</figref> is a flowchart of a signaling tracing method according to Embodiment 2 of the present invention;</p><p id="p0018" num="0018"><figref idrefs="f0004">FIG. 3</figref> is a flowchart of a signaling tracing method according to Embodiment 3 of the present invention;</p><p id="p0019" num="0019"><figref idrefs="f0005">FIG. 4</figref> is a flowchart of a signaling tracing method according to Embodiment 4 of the present invention;</p><p id="p0020" num="0020"><figref idrefs="f0006">FIG. 5</figref> is a flowchart of a signaling tracing method according to Embodiment 5 of the present invention;</p><p id="p0021" num="0021"><figref idrefs="f0007">FIG. 6</figref> is a schematic structural diagram of a base station according to an embodiment of the present invention;</p><p id="p0022" num="0022"><figref idrefs="f0007">FIG. 7a</figref> is a schematic structural diagram of a core network device according to an embodiment of the present invention; and</p><p id="p0023" num="0023"><figref idrefs="f0007">FIG. 7b</figref> is another schematic structural diagram of a core network device according to an embodiment of the present invention.</p><heading id="h0005"><b>DESCRIPTION OF EMBODIMENTS</b></heading><p id="p0024" num="0024">The following clearly and comprehensively describes the technical solutions in embodiments of the present invention with reference to the accompanying drawings in embodiments of the present invention. Apparently, the described embodiments are merely a part rather than all embodiments of the present invention. All other embodiments obtained by persons of ordinary skill in the art based on embodiments of the present invention without creative efforts shall fall within the protection scope of the present invention.<!-- EPO <DP n="6"> --></p><p id="p0025" num="0025">Embodiments of the present invention provide a signaling tracing method, apparatus and system, as detailed below.</p><p id="p0026" num="0026">See <figref idrefs="f0001">FIG. 1b</figref>, which is a scenario diagram of two signaling tracing configuration modes (the management-based signaling tracing configuration mode and the signaling-based signaling tracing configuration mode), where the solid line part shows the management-based signaling tracing configuration mode, and the dotted line part shows the signaling-based signaling tracing configuration mode, which are detailed below.</p><p id="p0027" num="0027">In the management-based signaling tracing configuration mode, an OAM device such as a network management system (NMS, Network Management System) or a network element management system (EMS, Equipment Management System) may assign the signaling tracing configuration information to an evolved NodeB (eNB, evolved NodeB) directly. In such a configuration mode, the OAM device is unable to specify a particular user equipment to participate in the signaling tracing, but the evolved NodeB selects the user equipment randomly.</p><p id="p0028" num="0028">However, in the signaling-based signaling tracing mode, the OAM device may assign the signaling tracing configuration information to a core network node such as a home subscriber server (HSS, Home Subscriber Server) or a mobility management entity (MME, Mobility Management Entity), and then the core network node assigns the configuration information to the evolved NodeB. In such a configuration mode, the OAM device may use a user equipment identifier to specify a user equipment to participate in the signaling tracing.</p><heading id="h0006"><b>Embodiment 1</b></heading><p id="p0029" num="0029">This embodiment is described from the perspective of a base station. Specifically, the base station may be an evolved NodeB.</p><p id="p0030" num="0030">A signaling tracing method includes: receiving first signaling tracing configuration information carrying a user equipment identifier sent by an OAM device; sending the first signaling tracing configuration information to a first core network node; receiving second signaling tracing configuration information sent by a serving core network node; and<!-- EPO <DP n="7"> --> initiating signaling tracing for the user equipment according to the second signaling tracing configuration information sent by the serving core network node.</p><p id="p0031" num="0031">As shown in <figref idrefs="f0002">FIG. 1c</figref>, the detailed process may be as follows:</p><p id="p0032" num="0032">Step 101: Receive first signaling tracing configuration information sent by an OAM device, where the first signaling tracing configuration information carries a user equipment identifier of a user equipment to be specified (that is, for which performing the signaling tracing is needed). For example, the user equipment identifier is an international mobile subscriber identifier (IMSI, International Mobile Subscriber Identity) or an international mobile equipment identifier (IMEI, International Mobile Equipment Identity), and so on.</p><p id="p0033" num="0033">The first signaling tracing configuration information may specify one user equipment, and may also specify multiple user equipments, that is, the carried identifier to be specified may be one identifier, and may also be a list including multiple user equipments, such as a list of IMSIs or IMEIs.</p><p id="p0034" num="0034">The first signaling tracing configuration information is used to initiate the signaling tracing for the user equipment corresponding to the user equipment identifier, and the first signaling tracing configuration information may include: a configuration parameter for performing signaling tracing, and/or, a configuration parameter for performing MDT to collect data.</p><p id="p0035" num="0035">Step 102: Send the received first signaling tracing configuration information to a first core network node; specifically, the first signaling tracing configuration information may be sent to all first core network nodes connected with the base station itself, and may also be sent to any one of all first core network nodes connected with the base station. For example, either of the following modes may be applied:</p><p id="p0036" num="0036">(1) The base station sends the first signaling tracing configuration information to the first core network node connected with the base station itself, so that the first core network node stores the first signaling tracing configuration information and/or forwards the signaling tracing configuration information to a home location register (HLR, Home Location Register)/HSS.<!-- EPO <DP n="8"> --></p><p id="p0037" num="0037">That is, after receiving the first signaling tracing configuration information, the first core network node may store the first signaling tracing configuration information directly, and may also forward the first signaling tracing configuration information to the HLR/HSS directly. Alternatively, the first core network node may also preprocess the first signaling tracing configuration information and then determine whether to forward it to the HLR/ HSS. For example, the first core network node may determine whether a context of the user equipment to be specified exists in the first core network node, if the context exists, it indicates that the first core network node is a serving core network node of the user equipment and, thus, the core network node stores the first signaling tracing configuration information; if the context does not exist, it indicates that the core network node is not the serving core network node of the user equipment and, thus, the core network node forwards the first signaling tracing configuration information to the HSS/HLR.</p><p id="p0038" num="0038">(2) The base station sends the first signaling tracing configuration information to at least one first core network node connected with the base station itself, so that the first core network node that receives the first signaling tracing configuration information processes the signaling tracing configuration information, where, the processing includes:</p><p id="p0039" num="0039">If the context of the user equipment to be specified exists in the first core network node that receives the first signaling tracing configuration information, the first core network node that receives the first signaling tracing configuration information stores the first signaling tracing configuration information; or, if the context of the user equipment to be specified does not exist in the first core network node that receives the first signaling tracing configuration information, the first core network node that receives the first signaling tracing configuration information forwards the first signaling tracing configuration information to the HSS/HLR or the serving core network node for storing.</p><p id="p0040" num="0040">Because the first signaling tracing configuration information is sent to the at least one first core network node with a dedicated connection to the base station selected randomly, the first core network node that receives the first signaling tracing configuration information is not necessarily the serving core network node of the user equipment to be specified. Therefore, to ensure that the serving core network node can also obtain the first signaling tracing configuration information, the first core network node that receives the first signaling<!-- EPO <DP n="9"> --> tracing configuration information needs to determine whether the core network node itself is the serving core network node. For example, the first core network node may judge whether the context of the user equipment to be specified exists in the first core network node, if the context exists, it indicates that the first core network node is the serving core network node of the user equipment and, thus, the first core network node stores the first signaling tracing configuration information for subsequent use; conversely, in an embodiment, if the context does not exist, it indicates that the first core network node is not the serving core network node of the user equipment and, thus, the core network node forwards the first signaling tracing configuration information to the HSS/HLR or the serving core network node for storing, so that the serving core network node of the user equipment can use the first signaling tracing configuration information subsequently.</p><p id="p0041" num="0041">Specifically, the first core network node may be an MME. The first core network node connected with the base station itself refers to a first core network node with a dedicated connection interface to the base station itself, such as an S1 connection interface.</p><p id="p0042" num="0042">Step 103: Receive second signaling tracing configuration information sent by a serving core network node, where the second signaling tracing configuration information is obtained by the serving core network node according to the first signaling tracing configuration information provided by the first core network node.</p><p id="p0043" num="0043">The second signaling tracing configuration information is provided to the serving base station for initiating the signaling tracing for the user equipment. The second signaling tracing configuration information may include: a configuration parameter for performing signaling tracing, and/or, a configuration parameter for performing MDT to collect data. It should be noted that the second signaling tracing configuration information is the same as the signaling tracing configuration information in the prior art, and the second signaling tracing configuration information differs from the first signaling tracing configuration information in that the first signaling tracing configuration information carries a user equipment identifier while the second signaling tracing configuration information may carry the user equipment identifier and may also not carry the user equipment identifier.</p><p id="p0044" num="0044">The first core network node and the serving core network node may be the same core network node, and may also be different core network nodes.<!-- EPO <DP n="10"> --></p><p id="p0045" num="0045">The serving core network node may obtain the first signaling tracing configuration information according to the user equipment identifier. For example, in step 103, if the first core network node that receives the signaling tracing configuration information sent by the base station is the serving core network node, the serving core network node may obtain corresponding first signaling tracing configuration information from the stored first signaling tracing configuration information according to the user equipment identifier directly, and then obtain the second signaling tracing configuration information according to the obtained first signaling tracing configuration information; in step 103, if the core network node that receives the first signaling tracing configuration information sent by the base station is not the serving core network node, and, if the first core network node has sent the first signaling tracing configuration information to the HSS/HLR, the serving core network node may obtain the first signaling tracing configuration information from the HSS/HLR according to the user equipment identifier, and then obtain the second signaling tracing configuration information according to the obtained first signaling tracing configuration information; in step 103, if the first core network node that receives the first signaling tracing configuration information sent by the base station is not the serving core network node, and, if the first core network node has sent the signaling tracing configuration information to the serving core network node, the serving core network node may obtain the signaling tracing configuration information from locally stored first signaling tracing configuration information according to the user equipment identifier directly, and so on. Specifically, the serving core network node may be an MME.</p><p id="p0046" num="0046">It should be noted that when the user equipment is active (Active), the serving base station of the user equipment may perform step 103 directly (that is, receive the second signaling tracing configuration information sent by the serving core network node); otherwise, if the user equipment is not active, for example, the user equipment is idle (IDLE) or detached (DETACH), the serving base station of the user equipment performs step 103 (that is, receives the second signaling tracing configuration information sent by the serving core network node) when the user equipment corresponding to the user equipment identifier carried in the first signaling tracing configuration information accesses the network.<!-- EPO <DP n="11"> --></p><p id="p0047" num="0047">Step 104: Initiate signaling tracing for the user equipment according to the second signaling tracing configuration information sent by the serving core network node.</p><p id="p0048" num="0048">As revealed in the foregoing description, in this embodiment, the first signaling tracing configuration information sent by an OAM device to a core network node carries a user equipment identifier, and therefore, even in a scenario that an access network and a core network are managed by different OAM devices, the core network node can also obtain the user equipment identifier specified by the OAM device of the access network, thereby the OAM device of the access network can also initiate signaling-based signaling tracing configuration, and multiple signaling tracing configuration modes are provided to the operator for selection.</p><heading id="h0007"><b>Embodiment 2</b></heading><p id="p0049" num="0049">This embodiment is described from the perspective of the first core network device, specifically, the first core network device may be a mobility management element such as MME.</p><p id="p0050" num="0050">A signaling tracing method includes: receiving first signaling tracing configuration information that carries a user equipment identifier sent by a base station; and providing the first signaling tracing configuration information to a serving core network node, so that the serving core network node provides second signaling tracing configuration information to a serving base station according to the first signaling tracing configuration information to initiate signaling tracing for a user equipment corresponding to the user equipment identifier.</p><p id="p0051" num="0051">As shown in <figref idrefs="f0003">FIG. 2</figref>, the detailed process may be as follows:</p><p id="p0052" num="0052">Step 201: Receive first signaling tracing configuration information sent by a base station, where the first signaling tracing configuration information carries a user equipment identifier of user equipment to be specified (that is, for which performing the signaling tracing is needed). For example, the user equipment identifier is an IMSI or IMEI.</p><p id="p0053" num="0053">At least one user equipment identifier is carried, that is, the carried user equipment identifier may be one user equipment identifier, and may also be a list of user equipment identifiers such as a list of IMSIs or IMEIs.<!-- EPO <DP n="12"> --></p><p id="p0054" num="0054">The first signaling tracing configuration information may include: a configuration parameter for performing signaling tracing, and/or, a configuration parameter for performing MDT to collect data.</p><p id="p0055" num="0055">Step 202: Provide the first signaling tracing configuration information to a serving core network node, so that the serving core network node provides second signaling tracing configuration information to a serving base station according to the first signaling tracing configuration information to initiate signaling tracing for the user equipment corresponding to the user equipment identifier. For example, after receiving the first signaling tracing configuration information, at least one of the following operations may be performed: storing the first signaling tracing configuration information; forwarding the first signaling tracing configuration information to the HLR/HSS so that the serving core network node obtains the first signaling tracing configuration information from the HLR/HSS; and forwarding the first signaling tracing configuration information to the serving core network node of the user equipment. For example, the detailed operations may be as follows:</p><p id="p0056" num="0056">In step 201, if the first core network node with a dedicated connection to the base station receives the first signaling tracing configuration information (that is, the serving core network node can also receive the first signaling tracing configuration information at this time), the first core network node may store the first signaling tracing configuration information directly, and may also forward the first signaling tracing configuration information to the HLR/HSS directly, and may also store the first signaling tracing configuration information and then send the signaling tracing configuration information to the HLR/HSS.</p><p id="p0057" num="0057">In step 201, if all first core network nodes with a dedicated connection to the base station do not receive the first signaling tracing configuration information (that is, the base station sends the first signaling tracing configuration information to one first core network which is selected randomly by the base station), in order to ensure that the serving core network node can also obtain the first signaling tracing configuration information, the first core network node that receives the signaling tracing configuration information needs to forward the first signaling tracing configuration information to the HLR/HSS, or send the first signaling tracing configuration information to the serving core network node.<!-- EPO <DP n="13"> --></p><p id="p0058" num="0058">Specifically, the sending the first signaling tracing configuration information to the serving core network node may be: obtaining a serving core network node identifier of the user equipment from the HSS/HLR, and sending the first signaling tracing configuration information to the serving core network node according to the obtained serving core network node identifier.</p><p id="p0059" num="0059">Optionally, before the sending, the first core network node that receives the first signaling tracing configuration information may judge whether the first core network node itself is the serving core network node; and, if the first core network node is the serving core network node, the forwarding may not be performed. That is, the method may further include:
<ul><li>determining whether a context of the user equipment exists in the first core network node.</li></ul></p><p id="p0060" num="0060">In this case, specifically, the storing the first signaling tracing configuration information may include: storing the first signaling tracing configuration information if it is determined that the context of the user equipment exists in the first core network node.</p><p id="p0061" num="0061">Specifically, the forwarding the first signaling tracing configuration information to the HLR/HSS may include: forwarding the first signaling tracing configuration information to the HSS/HLR if it is determined that the context of the user equipment does not exist in the first core network node for the HSS/HLR storing the first signaling tracing configuration information.</p><p id="p0062" num="0062">Specifically, the forwarding the first signaling tracing configuration information to the serving core network node may be: forwarding the first signaling tracing configuration information to the serving core network node if it is determined that the context of the user equipment does not exist in the first core network node. For example, the first core network node may obtain a serving core network node identifier of the user equipment from the HSS/HLR, and send the first signaling tracing configuration information to the serving core network node according to the obtained serving core network node identifier for the serving core network node storing the first signaling tracing configuration information.</p><p id="p0063" num="0063">In this way, when the user equipment corresponding to the user equipment identifier accesses the network, the device storing the first signaling tracing configuration information may provide the first signaling tracing configuration information to the serving<!-- EPO <DP n="14"> --> base station, so that the serving base station initiates signaling tracing for the user equipment. For example, the process may be as follows:</p><p id="p0064" num="0064">When the user equipment corresponding to the user equipment identifier accesses the network, if the serving core network node of the user equipment itself stores the corresponding first signaling tracing configuration information, the serving core network node sends the second signaling tracing configuration information to the serving base station according to the first signaling tracing configuration information directly; if the serving core network node itself does not store the corresponding first signaling tracing configuration information, the serving core network node may obtain the first signaling tracing configuration information from the HSS/HLR, and then send the second signaling tracing configuration information to the serving base station according to the obtained first signaling tracing configuration information. The second signaling tracing configuration information may be extracted from the first signaling tracing configuration information and, specifically, the method for sending the second signaling tracing configuration information to the serving base station may be as follows:</p><p id="p0065" num="0065">When the user equipment is active, the serving core network node sends an S1 application protocol message carrying the second signaling tracing configuration information to the base station through an S1 connection of the user equipment, so that the base station initiates signaling tracing for the user equipment; and</p><p id="p0066" num="0066">When the user equipment is idle (IDLE) or detached (DETACH), after an activation message sent by the user equipment is received, the serving core network node sends an S1 application protocol (S1AP, S1 Application Protocol) message carrying the second signaling tracing configuration information to the base station through the S1 connection of the user equipment, so that the base station initiates signaling tracing for the user equipment.</p><p id="p0067" num="0067">Specifically, the activation message may be a network access service request (Service Request) message or a network access attach (ATTACH) message. Specifically, the core network node may be an MME.</p><p id="p0068" num="0068">As revealed in the foregoing description, in this embodiment, the first signaling tracing configuration information sent by an OAM device carries a user equipment identifier<!-- EPO <DP n="15"> --> to be specified, and therefore, even in a scenario that an access network and a core network are managed by different OAM devices, the core network node can also collect the user equipment identifier to be specified by the OAM device of the access network, thereby the OAM device of the access network can also initiate signaling-based signaling tracing configuration, and multiple signaling tracing configuration modes are provided to the operator for selection.</p><heading id="h0008"><b>Embodiment 3</b></heading><p id="p0069" num="0069">According to the method described in the preceding embodiments, the following will give more details in Embodiments 3 to 5 using examples. For ease of description, in the following embodiments, it is assumed that the first core network node and the serving core network node are MMEs, and that the base station is an evolved NodeB. Understandably, such methods are also applicable to other network devices of the core network with functions similar to the MME.</p><p id="p0070" num="0070">In the embodiment, it is assumed that the evolved NodeB sends the signaling tracing configuration information to all MMEs connected with the evolved NodeB, and the first signaling tracing configuration information and the second signaling tracing configuration information are configuration parameters for performing MDT to collect data.</p><p id="p0071" num="0071">As shown in <figref idrefs="f0004">FIG. 3</figref>, the detailed process may be as follows:</p><p id="p0072" num="0072">For ease of description, in <figref idrefs="f0004">FIG. 3</figref>, the configuration parameter for performing MDT data collecting is briefly called configuration parameter.</p><p id="p0073" num="0073">Step 301: If an OAM device of an access network needs to specify a certain user equipment to participate in an MDT, the OAM device of the access network may send a configuration parameter for performing MDT to collect data to an evolved NodeB, where, the configuration parameter for performing MDT to collect data carries a user equipment identifier to be specified, such as IMSI or IMEI.</p><p id="p0074" num="0074">It should be noted that the specified user equipment may be one or more user equipments. That is, The carried user equipment identifier may be one user equipment<!-- EPO <DP n="16"> --> identifier, and may also be a list of user equipment identifiers, such as a list of IMSIs or IMEIs.</p><p id="p0075" num="0075">Step 302: After receiving the configuration parameter for performing MDT to collect data, the evolved NodeB sends the configuration parameter for performing MDT to collect data to all MMEs that have S1 connections to the evolved NodeB through S1 application protocol messages.</p><p id="p0076" num="0076">Step 303: After receiving the configuration parameter for performing MDT to collect data forwarded by the eNB, the MME stores the configuration parameter for performing MDT to collect data, or forwards the configuration parameter for performing MDT to collect data to an HSS connected with the MME, or stores the configuration parameter for performing MDT to collect data and then forwards the configuration parameter for performing MDT to collect data to the HSS connected with the MME.</p><p id="p0077" num="0077">Step 304: If the MME forwards the configuration parameter for performing MDT to collect data to the HSS, the HSS stores the configuration parameter for performing MDT to collect data, and then, when the user equipment accesses the network, assigns the configuration parameter for performing MDT to collect data to the specified user equipment according to a signaling-based MDT configuration mode provided in the prior art. For example, the detailed operations may be as follows:</p><p id="p0078" num="0078">When the user equipment accesses the network, the user equipment sends an attach request to the network, and updates its own (that is, the user equipment's) location information in the HSS. The HSS checks whether the user equipment is needed to be traced according to the user equipment identifier, that is, determines whether the user equipment identifier is consistent with the stored user equipment identifier to be specified, if the tracing is not needed, the process ends; if the tracing is needed, the HSS sends the configuration parameters for performing MDT to collect data to a serving MME of the user equipment, for example, the HSS may send the configuration parameter for performing MDT to collect data to the serving MME of the user equipment by carrying the configuration parameter for performing MDT to collect data in a location update response message, and the serving MME sends the configuration parameter for performing MDT to collect data to a serving evolved NodeB through an S1 connection path of the user equipment. As described in step 305, the serving<!-- EPO <DP n="17"> --> evolved NodeB assigns the configuration parameter for performing MDT to collect data to the user equipment through the S1 connection path of the user equipment, and instructs the user equipment to perform drive test data measurement.</p><p id="p0079" num="0079">The process of the signaling-based MDT configuration mode covered in the prior art may referring to the prior art, and is not detailed here any further.</p><p id="p0080" num="0080">Step 305: If the MME does not forward the configuration parameter for performing MDT to collect data to the HSS, the MME may perform the following operations directly when the user equipment accesses the network:</p><p id="p0081" num="0081">(1) For an active user equipment:</p><p id="p0082" num="0082">The MME assigns the configuration parameter for performing MDT to collect data to the specified user equipment according to a signaling-based MDT configuration mode provided in the prior art. For example, the following operations may be performed:</p><p id="p0083" num="0083">If determining that the MME itself is a serving MME of the user to be specified, the MME sends an S1 application protocol message such as a Trace Start (Trace start) message to the serving evolved NodeB through an S1 connection of the user, where the S 1 application protocol message carries the configuration parameter for performing MDT to collect data.</p><p id="p0084" num="0084">After receiving the configuration parameter for performing MDT to collect data, the serving evolved NodeB assigns the configuration parameter for performing MDT to collect data to the user equipment through the S1 connection of the user equipment, and instructs the user equipment to perform drive test data measurement.</p><p id="p0085" num="0085">It should be noted that, in this case, the "configuration parameter for performing MDT to collect data" sent by the MME to the serving evolved NodeB may carry no user equipment identifier, and, the serving evolved NodeB may identify the user equipment to be traced currently by other means. For example, when the user equipment corresponding to the user equipment identifier accesses the network, the serving evolved NodeB allocates an evolved NodeB S1 application protocol message identifier (eNB S1-AP ID) to the user equipment, and notices the eNB S1-AP ID to the serving MME of the user equipment in the S1 application protocol message, so that the serving MME allocates an MME application protocol message identifier (MME S1-AP ID) to the user equipment, and notices the MME<!-- EPO <DP n="18"> --> S1-AP ID to the serving evolved NodeB in a downlink S1 application protocol message. In this way, when the serving MME sends a message to the serving evolved NodeB subsequently, the eNB S1-AP ID may be carried in the message, so that the serving evolved NodeB knows performing signaling tracing for which user equipment.</p><p id="p0086" num="0086">(2) For an idle (IDLE) user equipment:</p><p id="p0087" num="0087">When the user equipment sends a Service Request (network access service request) message to the MME, the MME is activated and, at this time, the active MME assigns the configuration parameter for performing MDT to collect data to the specified user equipment according to the signaling-based MDT configuration mode provided in the prior art. For example, the following operations may be performed:</p><p id="p0088" num="0088">The active MME sends the configuration parameter for performing MDT to collect data to the evolved NodeB that covers the user equipment, that is, the serving evolved NodeB.</p><p id="p0089" num="0089">After receiving the configuration parameter for performing MDT to collect data, the serving evolved NodeB assigns the configuration parameter for performing MDT to collect data to the user equipment through an S1 connection of the user equipment, and instructs the user equipment to perform drive test data measurement.</p><p id="p0090" num="0090">It should be noted that, in this case, the "configuration parameter for performing MDT to collect data" sent by the MME to the serving evolved NodeB may carry no user equipment identifier, and, the serving evolved NodeB may identify the user equipment to be traced currently by other means. See the description in section (1) in this embodiment.</p><p id="p0091" num="0091">(3) For a detached (DETACH) user equipment:</p><p id="p0092" num="0092">When the user equipment sends a ATTACH (network access attach) message to the MME, the MME is activated and, at this time, the active MME assigns the configuration parameter for performing MDT to collect data to the specified user equipment according to the signaling-based MDT configuration mode provided in the prior art. For example, the following operations may be performed:</p><p id="p0093" num="0093">The active MME sends the configuration parameter for performing MDT to collect data to the evolved NodeB that covers the user equipment, that is, the serving evolved NodeB.</p><p id="p0094" num="0094">After receiving the configuration parameter for performing MDT to collect data, the serving evolved NodeB assigns the configuration parameter for performing MDT to<!-- EPO <DP n="19"> --> collect data to the user equipment through an S1 connection of the user equipment, and instructs the user equipment to perform drive test data measurement.</p><p id="p0095" num="0095">Afterward, the user equipment may send a drive test data configuration completion message to the serving evolved NodeB, and reports the drive test data to the serving evolved NodeB. The serving evolved NodeB sends the drive test data to a data collection entity for analyzing, evaluating, or diagnosing.</p><p id="p0096" num="0096">It should be noted that, in this case, the "configuration parameter for performing MDT to collect data" sent by the MME to the serving evolved NodeB may carry no user equipment identifier, and, the serving evolved NodeB may identify the user equipment to be traced currently by other means. See the description in section (1) in this embodiment.</p><p id="p0097" num="0097">Besides, for ease of description, in this embodiment, it is assumed that the evolved NodeB which sends the configuration parameter for performing MDT to collect data to the MME is the serving evolved NodeB (that is, the same evolved NodeB). Understandably, the evolved NodeB which sends the configuration parameter for performing MDT to collect data to the MME may also be an evolved NodeB different from the serving evolved NodeB.</p><p id="p0098" num="0098">Besides, it should be noted that the MDT is taken as an example merely in this embodiment, it is understandable that, the method is also applicable to a traditional Trace (that is, signaling tracing) solution, in this case, specifically, the signaling tracing configuration information is configuration parameters for performing signaling tracing, which is not detailed here any further. Besides, it should be noted that, in a Trace (that is, signaling tracing) solution, the serving evolved NodeB does not need to assign the configuration parameters for performing the signaling tracing to the user equipment, the details may referring to the prior art.</p><p id="p0099" num="0099">As revealed in the foregoing description, in this embodiment, the configuration parameter for performing MDT to collect data sent by an OAM device carry a user equipment identifier to be specified, and therefore, even in an scenario that an access network and a core network are managed by different OAM devices, the core network node can also collect the user equipment identifier to be specified by the OAM device of the access network, thereby the OAM device of the access network can also initiate signaling-based MDT configuration, and multiple MDT configuration modes are provided to the operator for selecting.<!-- EPO <DP n="20"> --></p><heading id="h0009"><b>Embodiment 4</b></heading><p id="p0100" num="0100">In this embodiment, it is assumed that the evolved NodeB sends the signaling tracing configuration information to one of all the MMEs connected with the evolved NodeB, and the tracing configuration information is configuration parameter for performing MDT to collect data.</p><p id="p0101" num="0101">As shown in <figref idrefs="f0005">FIG. 4</figref>, the detailed process may be as follows:</p><p id="p0102" num="0102">For ease of description, in <figref idrefs="f0005">FIG. 4</figref>, the configuration parameter for performing MDT to collect data is briefly called configuration parameter.</p><p id="p0103" num="0103">Step 401: If an OAM device of an access network needs to specify a certain user equipment to participate in an MDT, the OAM device of the access network may send configuration parameter for performing MDT to collect data to an evolved NodeB. The configuration parameter for performing MDT to collect data carries a user equipment identifier to be specified, such as IMSI or IMEI.</p><p id="p0104" num="0104">It should be noted that the specified user equipment may be one or more user equipments. That is, the carried user equipment identifier may be one user equipment identifier, and may also be a list of user equipment identifiers such as a list of IMSIs or IMEIs.</p><p id="p0105" num="0105">Step 402: After receiving the configuration parameter for performing MDT to collect data, the evolved NodeB sends the configuration parameter for performing MDT to collect data to one of all the MMEs that have an S1 connection to the evolved NodeB randomly through an S 1 application protocol message.</p><p id="p0106" num="0106">Step 403: After receiving the configuration parameter for performing MDT to collect data forwarded by the evolved NodeB, the MME judges whether a context of the specified user equipment exists in the MME, if the context exists, the process proceeds to step 404; if the context does not exist, the process proceeds to step 405.</p><p id="p0107" num="0107">Step 403 is optional. Apart from step 403, after receiving the configuration parameter for performing MDT to collect data forwarded by the evolved NodeB, the MME may forward the configuration parameter for performing MDT to collect data to the HSS directly, the HSS stores the configuration parameter for performing MDT to collect data, and<!-- EPO <DP n="21"> --> then assigns, the configuration parameter for performing MDT to collect data to the specified user equipment according to the signaling-based MDT configuration mode provided in the prior art. For details, see step 304 in Embodiment 3.</p><p id="p0108" num="0108">Step 404: If a context of the specified user equipment exists in the MME, the MME stores the configuration parameter for performing MDT to collect data.</p><p id="p0109" num="0109">In this case, the MME may forward the configuration parameter for performing MDT to collect data to the HSS connected with the MME, or may forward no configuration parameter for performing MDT to collect data to the HSS connected with the MME.</p><p id="p0110" num="0110">If the MME forwards the configuration parameter for performing MDT to collect data to the HSS, the HSS stores the configuration parameter for performing MDT to collect data, and then, when the user equipment accesses the network, assigns the configuration parameter for performing MDT to collect data to the specified user equipment according to the signaling-based MDT configuration mode provided in the prior art. For details, see step 304 in Embodiment 3.</p><p id="p0111" num="0111">If the MME does not forward the configuration parameter for performing MDT to collect data to the HSS, the following operations may be performed:</p><p id="p0112" num="0112">(1) For an active user equipment:</p><p id="p0113" num="0113">The MME assigns the configuration parameter for performing MDT to collect data to the specified user equipment according to a signaling-based MDT configuration mode provided in the prior art. For example, the following operations may be performed:</p><p id="p0114" num="0114">If determining that the MME itself is a serving MME of the user to be specified, the MME sends an S1 application protocol message such as a Trace Start (Trace start) message to the serving evolved NodeB through an S1 connection of the user, where the S1 application protocol message carries the configuration parameter for performing MDT to collect data.</p><p id="p0115" num="0115">After receiving the configuration parameter for performing MDT to collect data, the serving evolved NodeB assigns the configuration parameter for performing MDT to collect data to the user equipment through an S1 connection of the user equipment, and instructs the user equipment to perform drive test data measurement.<!-- EPO <DP n="22"> --></p><p id="p0116" num="0116">It should be noted that, in this case, the "configuration parameter for performing MDT to collect data" sent by the MME to the serving evolved NodeB may carry no user equipment identifier, and, the serving evolved NodeB may identify the user equipment to be traced currently by other means. See the description in section (1) in Embodiment 3.</p><p id="p0117" num="0117">(2) For an idle (IDLE) user equipment:</p><p id="p0118" num="0118">When the user equipment sends a Service Request NAS message to the MME, the MME is activated and, at this time, the active MME assigns the configuration parameter for performing MDT to collect data to the specified user equipment according to the signaling-based MDT configuration mode provided in the prior art. For example, the following operations may be performed:</p><p id="p0119" num="0119">The active MME sends the configuration parameter for performing MDT to collect data to the evolved NodeB that covers the user equipment, that is, the serving evolved NodeB.</p><p id="p0120" num="0120">After receiving the configuration parameter for performing MDT to collect data, the serving evolved NodeB assigns the configuration parameter for performing MDT to collect data to the user equipment through a dedicated S1 connection of the user equipment, and instructs the user equipment to perform drive test data measurement.</p><p id="p0121" num="0121">After receiving the configuration parameters for performing MDT data collecting, the serving evolved NodeB assigns the configuration parameter for performing MDT to collect data to the user equipment through a dedicated S1 connection of the user equipment, and instructs the user equipment to perform drive test data measurement.</p><p id="p0122" num="0122">It should be noted that, in this case, the "configuration parameter for performing MDT to collect data" sent by the MME to the serving evolved NodeB may carry no user equipment identifier, and, the serving evolved NodeB may identify the user equipment to be traced currently by other means. See the description in section (1) in Embodiment 3.</p><p id="p0123" num="0123">Step 405: If no context of the specified user equipment exists in the MME, the MME forwards the configuration parameter for performing MDT to collect data to an HSS connected to the MME, and then performs step 406.</p><p id="p0124" num="0124">Step 406: The HSS stores the configuration parameter for performing MDT to collect data, and then, when the user equipment accesses the network, assigns the configuration parameter for performing MDT to collect data to the specified user equipment<!-- EPO <DP n="23"> --> according to the signaling-based MDT configuration mode provided in the prior art. For details, see step 304 in Embodiment 3.</p><p id="p0125" num="0125">Afterward, the user equipment may send a drive test data configuration completion message to the serving evolved NodeB, and reports the drive test data to the serving evolved NodeB. The serving evolved NodeB sends the drive test data to a data collection entity for analyzing, evaluating, or diagnosing.</p><p id="p0126" num="0126">It should be noted that, for ease of description in this embodiment, it is assumed that the evolved NodeB which sends the configuration parameter for performing MDT to collect data to the MME is the serving evolved NodeB (that is, the same evolved NodeB). Understandably, the evolved NodeB which sends the configuration parameter for performing MDT to collect data to the MME may also be an evolved NodeB different from the serving evolved NodeB.</p><p id="p0127" num="0127">Besides, it should be noted that the MDT is taken as an example merely in this embodiment, it is understandable that, the method is also applicable to a traditional Trace (that is, signaling tracing) solution, in this case, specifically, the signaling tracing configuration information is configuration parameters for performing signaling tracing, which is not detailed here any further. Besides, it should be noted that, in a Trace (that is, signaling tracing) solution, the evolved NodeB does not need to assign the configuration parameters for performing the signaling tracing to the user equipment, the details may referring to the prior art.</p><p id="p0128" num="0128">As revealed in the foregoing description, in this embodiment, the configuration parameter for performing MDT to collect data sent by an OAM device carry a user equipment identifier to be specified, and therefore, even in a scenario that an access network and a core network are managed by different OAM devices, the core network node can also collect the user equipment identifier to be specified by the OAM device of the access network, thereby the OAM device of the access network can also initiate signaling-based MDT configuration, and multiple MDT configuration modes are provided to the operator for selecting.<!-- EPO <DP n="24"> --></p><heading id="h0010"><b>Embodiment 5</b></heading><p id="p0129" num="0129">Similar to Embodiment 4, this embodiment also assumes that the evolved NodeB sends the signaling tracing configuration information to one of all the MMEs connected with the evolved NodeB. This embodiment differs from Embodiment 4 in that the MME send the received signaling tracing configuration information to the serving MME rather than the HSS.</p><p id="p0130" num="0130">Assuming that the signaling tracing configuration information is configuration parameter for performing MDT to collect data, as shown in <figref idrefs="f0006">FIG. 5</figref>, the detailed process may be as follows:</p><p id="p0131" num="0131">For ease of description, in <figref idrefs="f0006">FIG. 5</figref>, the configuration parameter for performing MDT to collect data is briefly called configuration parameter.</p><p id="p0132" num="0132">Step 501: If an OAM device of an access network needs to specify a certain user equipment to participate in an MDT, the OAM device of the access network may send signaling tracing configuration information such as configuration parameter for performing MDT to collect data to an evolved NodeB. The configuration parameter for performing MDT to collect data carries a user equipment identifier to be specified, such as IMSI or IMEI.</p><p id="p0133" num="0133">It should be noted that the specified user equipment may be one or more user equipments. That is, the carried user equipment identifier may be one user equipment identifier, and may also be a list of user equipment identifiers such as a list of IMSIs or IMEIs.</p><p id="p0134" num="0134">Step 502: After receiving the configuration parameter for performing MDT to collect data, the evolved NodeB sends the configuration parameter for performing MDT to collect data to one of all the MMEs that have an S1 connection to the evolved NodeB randomly through an S1 application protocol message.</p><p id="p0135" num="0135">Step 503: After receiving configuration parameter for performing MDT to collect data forwarded by the evolved NodeB, the MME judges whether a context of the specified user equipment exists in the MME, if the context exists, the process proceeds to step 504; if the context does not exist, the process proceeds to step 505.</p><p id="p0136" num="0136">Step 504: If a context of the specified user equipment exists in the MME, the MME stores t configuration parameter for performing MDT to collect data.<!-- EPO <DP n="25"> --></p><p id="p0137" num="0137">In this case, the MME may forward the configuration parameter for performing MDT to collect data to the HSS connected with the MME, or may forward no configuration parameter for performing MDT to collect data to the HSS connected with the MME.</p><p id="p0138" num="0138">If the MME forwards the configuration parameter for performing MDT to collect data to the HSS, the HSS stores the configuration parameter for performing MDT to collect data, and then, when the user equipment accesses the network, assigns the configuration parameter for performing MDT to collect data to the specified user equipment according to the signaling-based MDT configuration mode provided in the prior art. For details, see step 304 in Embodiment 3.</p><p id="p0139" num="0139">If the MME does not forward the configuration parameter for performing MDT to collect data to the HSS, the following operations may be performed:</p><p id="p0140" num="0140">(1) For an active user equipment:</p><p id="p0141" num="0141">The MME assigns the configuration parameter for performing MDT to collect data to the specified user equipment according to a signaling-based MDT configuration mode provided in the prior art. For example, the following operations may be performed:</p><p id="p0142" num="0142">If determining that the MME itself is a serving MME of the user to be specified, the MME sends an S1 application protocol message such as a Trace Start (Trace start) message to the serving evolved NodeB through a dedicated S1 connection of the user, where the S1 application protocol message carries the configuration parameter for performing MDT to collect data.</p><p id="p0143" num="0143">After receiving the configuration parameter for performing MDT to collect data, the evolved NodeB assigns the configuration parameter for performing MDT to collect data to the user equipment through a dedicated S1 connection of the user equipment, and instructs the user equipment to perform drive test data measurement.</p><p id="p0144" num="0144">It should be noted that, in this case, the "configuration parameter for performing MDT to collect data" sent by the MME to the serving evolved NodeB may carry no user equipment identifier, and, the serving evolved NodeB may identify the user equipment to be traced currently by other means. See the description in section (1) in Embodiment 3.</p><p id="p0145" num="0145">(2) For an idle (IDLE) user equipment:<!-- EPO <DP n="26"> --></p><p id="p0146" num="0146">The configuration parameter for performing MDT to collect data is assigned to the specified user equipment according to a signaling-based MDT configuration mode provided in the prior art. For example, the following operations may be performed:</p><p id="p0147" num="0147">When the user equipment sends a Service Request NAS message to the MME, the MME is activated. In this case, the active MME sends the configuration parameter for performing MDT to collect data to the evolved NodeB that covers the user equipment, that is, the serving evolved NodeB.</p><p id="p0148" num="0148">After receiving the configuration parameter for performing MDT to collect data, the serving evolved NodeB assigns the configuration parameter for performing MDT to collect data to the user equipment through a dedicated S1 connection of the user equipment, and instructs the user equipment to perform drive test data measurement.</p><p id="p0149" num="0149">It should be noted that, in this case, the "configuration parameter for performing MDT to collect data" sent by the MME to the serving evolved NodeB may carry no user equipment identifier, and, the serving evolved NodeB may identify the user equipment to be traced currently by other means. See the description in section (1) in Embodiment 3.</p><p id="p0150" num="0150">Step 505: If no context of the specified user equipment exists in the MME, the MME obtains from an HSS an MME identifier of a serving MME of the specified user equipment, which is called a serving MME identifier, and then performs step 506.</p><p id="p0151" num="0151">Step 506: The HHS sends the serving MME identifier to the MME, and then performs step 507.</p><p id="p0152" num="0152">Step 507: After receiving the serving MME identifier, the MME sends the configuration parameter for performing MDT to collect data to the MME corresponding to the serving MME identifier (that is, the serving MME of the specified user equipment); after receiving the configuration parameter for performing MDT to collect data, the serving MME stores the configuration parameter for performing MDT to collect data. Subsequently, when the user equipment accesses the network, the operations described in section (1) or (2) in step 504 are performed.</p><p id="p0153" num="0153">Afterward, the user equipment may send a drive test data configuration completion message to the serving evolved NodeB, and reports the drive test data to the serving evolved<!-- EPO <DP n="27"> --> NodeB. The serving evolved NodeB sends the drive test data to a data collection entity for analyzing, evaluating, or diagnosing.</p><p id="p0154" num="0154">It should be noted that for ease of description in this embodiment, it is assumed that the evolved NodeB which sends the configuration parameter for performing MDT to collect data to the MME is the serving evolved NodeB (that is, the same evolved NodeB). Understandably, the evolved NodeB which sends the configuration parameter for performing MDT to collect data to the MME may also be an evolved NodeB different from the serving evolved NodeB.</p><p id="p0155" num="0155">Besides, it should be noted that the MDT is taken as an example merely in this embodiment, it is understandable that, the method is also applicable to a traditional Trace (that is, signaling tracing) solution, in this case, specifically, the signaling tracing configuration information is configuration parameters for performing signaling tracing, which is not detailed here any further. Besides, it should be noted that, in a Trace (that is, signaling tracing) solution, the evolved NodeB does not need to assign the configuration parameters for performing the signaling tracing to the user equipment, the details may referring to the prior art.</p><p id="p0156" num="0156">As revealed in the foregoing description, in this embodiment, the configuration parameter for performing MDT to collect data sent by an OAM device carry a user equipment identifier to be specified, and therefore, even in a scenario that an access network and a core network are managed by different OAM devices, the core network node can also collect the user equipment identifier to be specified by the OAM device of the access network, thereby the OAM device of the access network can also initiate signaling-based MDT configuration, and multiple MDT configuration modes are provided to the operator for selecting.</p><heading id="h0011"><b>Embodiment 6</b></heading><p id="p0157" num="0157">To better implement the foregoing methods, a base station is provided in embodiments of the present invention correspondingly. As shown in <figref idrefs="f0007">FIG. 6</figref>, the base station includes a collecting unit 601, a sending unit 602, a receiving unit 603, and an initiating unit 604.<!-- EPO <DP n="28"> --></p><p id="p0158" num="0158">The collecting unit 601 is configured to receive first signaling tracing configuration information sent by an OAM device, where the first signaling tracing configuration information may be used to initiate signaling tracing for a user equipment corresponding to a user equipment identifier, where the first signaling tracing configuration information carries the user equipment identifier such as an IMSI or IMEI.</p><p id="p0159" num="0159">At least one user equipment identifier is carried, that is, the carried user equipment identifier may be one user equipment identifier, and may also be a list of user equipment identifiers such as a list of IMSIs or IMEIs.</p><p id="p0160" num="0160">The sending unit 602 is configured to send the first signaling tracing configuration information received by the collecting unit 601 to a first core network node.</p><p id="p0161" num="0161">The receiving unit 603 is configured to receive second signaling tracing configuration information sent by a serving core network node, where the second signaling tracing configuration information is obtained by the serving core network node according to the first signaling tracing configuration information provided by the first core network node.</p><p id="p0162" num="0162">For example, when the user equipment is active, the receiving unit 603 may perform the step of receiving the second signaling tracing configuration information sent by the serving core network node directly; otherwise, if the user equipment is not active, for example, the user equipment is idle or detached, the receiving unit 603 performs the step of receiving the second signaling tracing configuration information sent by the serving core network node when the user equipment corresponding to the user equipment identifier carried in the first signaling tracing configuration information accesses the network.</p><p id="p0163" num="0163">The initiating unit 604 is configured to initiate signaling tracing for the user equipment according to the second signaling tracing configuration information received by the receiving unit.</p><p id="p0164" num="0164">Specifically, the sending unit 602 may send the first signaling tracing configuration information to a first core network node connected with the base station itself, and may also send the first signaling tracing configuration information to at least one first core network node connected with the base station itself. That is:</p><p id="p0165" num="0165">The sending unit 602 is specifically configured to send the first signaling tracing configuration information to the first core network node connected with the base station itself,<!-- EPO <DP n="29"> --> so that the first core network node stores the first signaling tracing configuration information and/or forwards the first signaling tracing configuration information to an HLR/HSS. That is, after receiving the first signaling tracing configuration information, the core network node may store the first signaling tracing configuration information directly, and may also forward the first signaling tracing configuration information to the HLR/HSS directly, or, may also preprocess the first signaling tracing configuration information and then determine whether to forward it to the HLR/ HSS. For example, the first core network node may determine whether a context of the user equipment to be specified exists in the core network node, if the context exists, it indicates that the first core network node is a serving core network node of the user equipment and, thus, the first core network node stores the first signaling tracing configuration information; in an embodiment, if the context does not exist, it indicates that the first core network node is not the serving core network node of the user equipment and, thus, the first core network node forwards the first signaling tracing configuration information to the HSS/HLR.</p><p id="p0166" num="0166">Alternatively, the sending unit 603 is specifically configured to send the first signaling tracing configuration information to at least one first core network node connected with the base station itself, so that the first core network node that receives the first signaling tracing configuration information processes the first signaling tracing configuration information. The processing includes: the first core network node that receives the first signaling tracing configuration information stores the first signaling tracing configuration information if the context of the user equipment exists in the first core network node that receives the first signaling tracing configuration information; or, the first core network node that receives the first signaling tracing configuration information forwards the first signaling tracing configuration information to the HSS/HLR or the serving core network node of the user equipment if the context of the user equipment does not exist in the first core network node that receives the first signaling tracing configuration information.</p><p id="p0167" num="0167">The first signaling tracing configuration information and the second signaling tracing configuration information may include: configuration parameters for performing signaling tracing, and/or, configuration parameter for performing MDT to collect data.<!-- EPO <DP n="30"> --> Besides, the first core network node and the serving core network node may be the same core network node, and may also be different core network nodes.</p><p id="p0168" num="0168">It should be noted that the second signaling tracing configuration information is the same as the signaling tracing configuration information in the prior art, and the second signaling tracing configuration information differs from the first signaling tracing configuration information in that the first signaling tracing configuration information carries a user equipment identifier while the second signaling tracing configuration information may carry the user equipment identifier and may also carry no user equipment identifier.</p><p id="p0169" num="0169">For detailed implementation of the foregoing units, see the preceding embodiments, which is not detailed here any further.</p><p id="p0170" num="0170">As revealed in the foregoing description, a collecting unit 601 of a base station in this embodiment may receive first signaling tracing configuration information sent by an OAM device, where the first signaling tracing configuration information carries a user equipment identifier; and then a sending unit 602 sends the first signaling tracing configuration information to a first core network node, and therefore, when signaling tracing is required, second signaling tracing configuration information is provided to a serving base station according to the first signaling tracing configuration information in order to initiate signaling-based MDT configuration. In this way, even in a scenario that the access network and the core network are managed by different OAM devices, the OAM device of the access network can also initiate signaling-based MDT configuration, and multiple MDT configuration modes are provided to the operator for selecting.</p><p id="p0171" num="0171">For other types of structures and functions of the base station, see the descriptions in the preceding method embodiments.</p><heading id="h0012"><b>Embodiment 7</b></heading><p id="p0172" num="0172">Correspondingly, embodiments of the present invention also provide a core network device, which may serve as a first core network node in embodiments of the present invention. As shown in <figref idrefs="f0007">FIG. 7a</figref>, the core network device includes a receiving unit 701 and a processing unit 702.<!-- EPO <DP n="31"> --></p><p id="p0173" num="0173">The receiving unit 701 is configured to receive first signaling tracing configuration information sent by a base station, where the first signaling tracing configuration information carries a user equipment identifier such as an IMSI or IMEI.</p><p id="p0174" num="0174">At least one user equipment identifier is carried, that is, the carried user equipment identifier may be one user equipment identifier, and may also be a list of user equipment identifiers such as a list of IMSIs or IMEIs.</p><p id="p0175" num="0175">The processing unit 702 is configured to provide the first signaling tracing configuration information received by the receiving unit 701 to a serving core network node, so that the serving core network node provides second signaling tracing configuration information to a serving base station according to the first signaling tracing configuration information to initiate signaling tracing for a user equipment corresponding to the user equipment identifier.</p><p id="p0176" num="0176">For example, the processing unit 702 may be specifically configured to perform at least one of the following operations: store the first signaling tracing configuration information received by the receiving unit 701; forward the first signaling tracing configuration information received by the receiving unit 701 to an HLR/ HSS; or, send the first signaling tracing configuration information received by the receiving unit 701 to the serving core network node, so as to provide the first signaling tracing configuration information to the serving base station to initiate signaling tracing for the user equipment. For details, see Embodiment 2, which is not detailed here any further.</p><p id="p0177" num="0177">As shown in <figref idrefs="f0007">FIG. 7b</figref>, the core network device further includes a determining unit 703.</p><p id="p0178" num="0178">The determining unit 703 is configured to determine that a context of the user equipment corresponding to the user equipment identifier exists in the core network device; and</p><p id="p0179" num="0179">The processing unit 702 is specifically configured to store the first signaling tracing configuration information if the determining unit 703 determines that the context of the user equipment corresponding to the user equipment identifier exists in the core network device; or<!-- EPO <DP n="32"> --></p><p id="p0180" num="0180">The determining unit 703 is configured to determine that the context of the user equipment corresponding to the user equipment identifier does not exist in the core network device; and</p><p id="p0181" num="0181">The processing unit 702 is specifically configured to forward the first signaling tracing configuration information to an HSS/HLR for the HSS/HLR storing the first signaling tracing configuration information; or</p><p id="p0182" num="0182">The determining unit 703 determines that the context of the user equipment corresponding to the user equipment identifier does not exist in the core network device; and</p><p id="p0183" num="0183">The processing unit 702 is specifically configured to obtain a serving core network node identifier of specified user equipment from the HSS/HLR, and forward the first signaling tracing configuration information to the serving core network node according to the serving core network node identifier for the serving core network node storing the first signaling tracing configuration information. For details, see the preceding method embodiment, which is not detailed here any further.</p><p id="p0184" num="0184">As shown in <figref idrefs="f0007">FIG. 7b</figref>, the core network device may further includes an obtaining unit 704, a first configuration unit 705, and a second configuration unit 706.</p><p id="p0185" num="0185">The obtaining unit 704 is configured to obtain the first signaling tracing configuration information when serving as a serving core network node.</p><p id="p0186" num="0186">The first configuration unit 705 is configured to obtain second signaling tracing configuration information according to the first signaling tracing configuration information when the user equipment is active, and send an S1 application protocol message that carries the second signaling tracing configuration information to the base station through an S1 connection of the user equipment.</p><p id="p0187" num="0187">The second configuration unit 706 is configured to obtain the second signaling tracing configuration information according to the first signaling tracing configuration information after receiving an activation message sent by the user equipment when the user equipment is idle or detached, and send an S1 application protocol message that carries the second signaling tracing configuration information to the base station through the S1 connection of the user equipment.<!-- EPO <DP n="33"> --></p><p id="p0188" num="0188">The first signaling tracing configuration information and the second signaling tracing configuration information may include: configuration parameters for performing signaling tracing, and/or, configuration parameter for performing MDT to collect data. Besides, it should be noted that the second signaling tracing configuration information is the same as the signaling tracing configuration information in the prior art, and the second signaling tracing configuration information differs from the first signaling tracing configuration information in that the first signaling tracing configuration information carries a user equipment identifier while the second signaling tracing configuration information may carry the user equipment identifier and may also carry no user equipment identifier.</p><p id="p0189" num="0189">For detailed implementation of the foregoing units, see the preceding method embodiment, which is not detailed here any further.</p><p id="p0190" num="0190">Specifically, the core network device may be an MME.</p><p id="p0191" num="0191">As revealed in the foregoing description, a receiving unit 701 of a core network device in this embodiment may obtain first signaling tracing configuration information carrying a specified user equipment identifier sent by an OAM device of an access network indirectly through a base station, and therefore, even in a scenario that the access network and the core network are managed by different OAM devices, the OAM device of the access network can also initiate signaling-based MDT configuration, and multiple MDT configuration modes are provided to the operator for selecting.</p><p id="p0192" num="0192">For other types of structures and functions of the core network node, see the descriptions in the preceding method embodiment.</p><heading id="h0013"><b>Embodiment 8</b></heading><p id="p0193" num="0193">Correspondingly, embodiments of the present invention also provides a communication system, including any base station and any core network device provided in embodiments of the present invention, where, the core network device serves as a first core network node.</p><p id="p0194" num="0194">The base station is configured to receive first signaling tracing configuration information that carries a user equipment identifier to be specified sent by an OAM device,<!-- EPO <DP n="34"> --> send the first signaling tracing configuration information to a first core network device, receive second signaling tracing configuration information sent by a serving core network node, and initiate signaling tracing for user equipment according to the second signaling tracing configuration information sent by the serving core network node. The first signaling tracing configuration information is used to initiate signaling tracing for the user equipment corresponding to the user equipment identifier, and the second signaling tracing configuration information is obtained by the serving core network node according to the first signaling tracing configuration information provided by the first core network node.</p><p id="p0195" num="0195">The core network device is configured to receive the first signaling tracing configuration information that carries the user equipment identifier to be specified sent by the base station, provide the first signaling tracing configuration information to the serving core network node, so that the serving core network node provides the second signaling tracing configuration information to a serving base station according to the first signaling tracing configuration information to initiate signaling tracing for the user equipment corresponding to the user equipment identifier.</p><p id="p0196" num="0196">For example, after receiving the first signaling tracing configuration information, the core network device may store the first signaling tracing configuration information, and/or forward the first signaling tracing configuration information to an HLR/HSS or forward the first signaling tracing configuration information to the serving core network device (that is, a device serving as a serving core network node), so as to initiate signaling tracing for the user equipment. For example, when the user equipment corresponding to the user equipment identifier accesses the network, the serving core network device provides the second signaling tracing configuration information to the serving base station to initiate signaling tracing for the user equipment.</p><p id="p0197" num="0197">The communication system may further include an HSS or HLR.</p><p id="p0198" num="0198">The HSS or HLR is configured to receive the first signaling tracing configuration information sent by the core network device, and store the first signaling tracing configuration information.<!-- EPO <DP n="35"> --></p><p id="p0199" num="0199">The HSS or HLR is further configured to provide the first signaling tracing configuration information to the serving core network node (that is, the serving core network device).</p><p id="p0200" num="0200">Specifically, the user equipment identifier may be an IMSI or IMEI or the like. The carried user equipment identifier may be one user equipment identifier or a list including multiple user equipments such as a list of IMSIs or IMEIs.</p><p id="p0201" num="0201">The first signaling tracing configuration information and the second signaling tracing configuration information may include: configuration parameters for performing signaling tracing, and/or, configuration parameter for performing MDT to collect data. It should be noted that the second signaling tracing configuration information is the same as the signaling tracing configuration information in the prior art, and the second signaling tracing configuration information differs from the first signaling tracing configuration information in that the first signaling tracing configuration information carries a user equipment identifier while the second signaling tracing configuration information may carry the user equipment identifier and may also carry no user equipment identifier.</p><p id="p0202" num="0202">For detailed implementation of the foregoing devices, see the preceding method embodiments, which is not detailed here any further.</p><p id="p0203" num="0203">As revealed in the foregoing description, in the communication system in this embodiment, the first signaling tracing configuration information sent by an OAM device carries a user equipment identifier to be specified, and therefore, even in a scenario that an access network and a core network are managed by different OAM devices, the core network device can also collect the user equipment identifier to be specified by the OAM device of the access network, thereby the OAM device of the access network can also initiate signaling-based MDT configuration, and multiple MDT configuration modes are provided to the operator for selecting.</p><p id="p0204" num="0204">For other types of structures and functions of the system, see the descriptions in the preceding method embodiments.</p><p id="p0205" num="0205">Persons of ordinary skill in the art should understand that all or part of the steps of the method in embodiments of the present invention may be implemented by a program instructing relevant hardware. The program may be stored in computer readable storage media.<!-- EPO <DP n="36"> --> The storage media may be a read-only memory (ROM, Read Only Memory), a random access memory (RAM, Random Access Memory), a magnetic disk, an optical disk, or the like.</p><p id="p0206" num="0206">Detailed above are a signaling tracing method, apparatus and system according to embodiments of the present invention. Several examples are used for illustration of the principles and implementation methods of the present invention. The description about the above embodiments is only for facilitating the understanding of the method and its core ideas of the present invention. Those skilled in the art can make various modifications and variations to the specific implementations and application scope according to the core ideas of the present invention. In conclusion, the contents in this description should not be interpreted as limitation of the present invention.</p></description><claims mxw-id="PCLM56976453" lang="EN" load-source="patent-office"><!-- EPO <DP n="37"> --><claim id="c-en-0001" num="0001"><claim-text>A signaling tracing method, comprising:
<claim-text>receiving first signaling tracing configuration information sent by an operation administration maintenance (OAM) device, wherein the first signaling tracing configuration information carries a user equipment identifier and is used to initiate signaling tracing for a user equipment corresponding to the user equipment identifier;</claim-text>
<claim-text>sending the first signaling tracing configuration information to a first core network node;</claim-text>
<claim-text>receiving second signaling tracing configuration information sent by a serving core network node, wherein the second signaling tracing configuration information is obtained by the serving core network node according to the first signaling tracing configuration information provided by the first core network node; and</claim-text>
<claim-text>initiating signaling tracing for the user equipment according to the second signaling tracing configuration information sent by the serving core network node.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, wherein:
<claim-text>the sending the first signaling tracing configuration information to the first core network node comprises:
<claim-text>sending, by a base station, the first signaling tracing configuration information to the first core network node connected with the base station, so that the first core network node stores the first signaling tracing configuration information; and/or</claim-text>
<claim-text>sending, by the base station, the signaling tracing configuration information to the first core network node connected with the base station, so that the first core network node forwards the first signaling tracing configuration information to a home location register (HLR) or a Home Subscriber Server (HSS).</claim-text></claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 1, wherein:
<claim-text>the sending the first signaling tracing configuration information to the first core network node comprises:<!-- EPO <DP n="38"> -->
<claim-text>sending, by a base station, the first signaling tracing configuration information to at least one first core network node connected with the base station, so that the first core network node that receives the first signaling tracing configuration information processes the first signaling tracing configuration information, wherein:</claim-text></claim-text>
<claim-text>the processing comprises:
<claim-text>storing, by the first core network node that receives the first signaling tracing configuration information, the first signaling tracing configuration information if a context of the user equipment exists in the first core network node that receives the first signaling tracing configuration information.</claim-text></claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to claim 1, wherein:
<claim-text>the sending the first signaling tracing configuration information to the first core network node comprises:
<claim-text>sending, by a base station, the signaling tracing configuration information to at least one first core network node connected with the base station, so that the first core network node that receives the first signaling tracing configuration information processes the signaling tracing configuration information, wherein:</claim-text></claim-text>
<claim-text>the processing comprises:
<claim-text>forwarding, by the first core network node that receives the first signaling tracing configuration information, the first signaling tracing configuration information to an HSS or an HLR or the serving core network node of the user equipment if a context of the user equipment does not exist in the first core network node that receives the first signaling tracing configuration information.</claim-text></claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method according to any one of claims 1 to 4, wherein:
<claim-text>the first core network node and the serving core network node are both a mobility management entity (MME).</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method according to any one of claims 1 to 4, wherein:
<claim-text>both the first signaling tracing configuration information and the second signaling tracing configuration information comprise a configuration parameter for performing signaling tracing, and/or, a configuration parameter for performing minimization of drive test (MDT) to collect data.</claim-text><!-- EPO <DP n="39"> --></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>A signaling tracing method, comprising:
<claim-text>receiving first signaling tracing configuration information sent by a base station, wherein the first signaling tracing configuration information carries a user equipment identifier; and</claim-text>
<claim-text>providing the first signaling tracing configuration information to a serving core network node, so that the serving core network node provides second signaling tracing configuration information to a serving base station according to the first signaling tracing configuration information, wherein the second signaling tracing configuration information is used to initiate signaling tracing for a user equipment corresponding to the user equipment identifier.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method according to claim 7, wherein:
<claim-text>the providing the first signaling tracing configuration information to the serving core network node comprises at least one of the following methods:
<claim-text>storing the first signaling tracing configuration information;</claim-text>
<claim-text>forwarding the first signaling tracing configuration information to a home location register (HLR)/home subscriber server (HSS), so that the serving core network node obtains the first signaling tracing configuration information from the HLR/HSS; and</claim-text>
<claim-text>sending the first signaling tracing configuration information to the serving core network node of the user equipment.</claim-text></claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method according to claim 8, further comprising:
<claim-text>determining that a context of the user equipment exists in the first core network node;</claim-text>
<claim-text>the storing the first signaling tracing configuration information comprises: storing the first signaling tracing configuration information if it is determined that the context of the user equipment exists in the first core network node; or</claim-text>
<claim-text>the method further comprises:
<claim-text>determining that the context of the user equipment does not exist in the first core network node;</claim-text>
<claim-text>the forwarding the first signaling tracing configuration information to the HLR/HSS comprises: forwarding the first signaling tracing configuration information to the HSS/HLR for the HSS/HLR storing the first signaling tracing configuration information; or</claim-text>
<claim-text>the method further comprises:</claim-text><!-- EPO <DP n="40"> --></claim-text>
<claim-text>determining that the context of the user equipment does not exist in the first core network node;</claim-text>
<claim-text>the sending the first signaling tracing configuration information to the serving core network node of the user equipment comprises: sending the first signaling tracing configuration information to the serving core network node for the serving core network node storing the first signaling tracing configuration information.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The method according to claim 8 or 9, wherein:
<claim-text>the sending the first signaling tracing configuration information to the serving core network node of the user equipment comprises:
<claim-text>obtaining a serving core network node identifier of the user equipment from the HSS/HLR; and</claim-text>
<claim-text>sending the first signaling tracing configuration information to the serving core network node according to the serving core network node identifier.</claim-text></claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The method according to claim 8, wherein:
<claim-text>the providing, by the serving core network node, the second signaling tracing configuration information to the serving base station according to the first signaling tracing configuration information comprises:
<claim-text>obtaining, by the serving core network node, the second signaling tracing configuration information according to the first signaling tracing configuration information if the user equipment is active, and sending an S1 application protocol message that carries the second signaling tracing configuration information to the serving base station through an S1 connection connected to the user equipment; and</claim-text>
<claim-text>obtaining, by the serving core network node, the second signaling tracing configuration information according to the first signaling tracing configuration information after receiving an activation message sent by the user equipment if the user equipment is idle or detached, and sending the S1 application protocol message that carries the second signaling tracing configuration information to the serving base station through the S1 connection connected to the user equipment.</claim-text></claim-text></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The method according to claim 8 or 9 or 11, wherein:<!-- EPO <DP n="41"> -->
<claim-text>the first core network node and the serving core network node are a mobility management entity (MME).</claim-text></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The method according to claim 7 or 8 or 9 or 11, wherein:
<claim-text>both the first signaling tracing configuration information and the second signaling tracing configuration information comprise a configuration parameter for performing signaling tracing, and/or, a configuration parameter for performing minimization of drive test (MDT) to collect data.</claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>A base station, comprising:
<claim-text>a collecting unit, configured to receive first signaling tracing configuration information sent by an operation administration maintenance (OAM) device, wherein the first signaling tracing configuration information carries a user equipment identifier and is used to initiate signaling tracing for a user equipment corresponding to the user equipment identifier;</claim-text>
<claim-text>a sending unit, configured to send the first signaling tracing configuration information received by the collecting unit to a first core network node;</claim-text>
<claim-text>a receiving unit, configured to receive second signaling tracing configuration information sent by a serving core network node of the user equipment, wherein the second signaling tracing configuration information is obtained by the serving core network node according to the first signaling tracing configuration information provided by the first core network node; and</claim-text>
<claim-text>an initiating unit, configured to initiate signaling tracing for the user equipment according to the second signaling tracing configuration information received by the receiving unit.</claim-text></claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The base station according to claim 14, wherein:
<claim-text>the sending unit is specifically configured to send the first signaling tracing configuration information to the first core network node connected with the base station, so that the first core network node stores the first signaling tracing configuration information and/or forwards the first signaling tracing configuration information to a home location register (HLR)/home subscriber server (HSS).</claim-text></claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>The base station according to claim 14, wherein:<!-- EPO <DP n="42"> -->
<claim-text>the sending unit is specifically configured to send the first signaling tracing configuration information to at least one first core network node connected with the base station, so that the core network node that receives the first signaling tracing configuration information processes the signaling tracing configuration information, wherein:
<claim-text>the processing comprises: storing, by the first core network node that receives the first signaling tracing configuration information, the signaling tracing configuration information if a context of the user equipment exists in the first core network node that receives the first signaling tracing configuration information.</claim-text></claim-text></claim-text></claim><claim id="c-en-0017" num="0017"><claim-text>The base station according to claim 14, wherein:
<claim-text>the sending unit is specifically configured to send the first signaling tracing configuration information to at least one first core network node connected with the base station, so that the core network node that receives the first signaling tracing configuration information processes the signaling tracing configuration information, wherein:
<claim-text>the processing comprises: forwarding, by the first core network node that receives the first signaling tracing configuration information, the signaling tracing configuration information to an HSS/HLR or the serving core network node of the user equipment if a context of the user equipment does not exist in the first core network node that receives the first signaling tracing configuration information.</claim-text></claim-text></claim-text></claim><claim id="c-en-0018" num="0018"><claim-text>A core network device, comprising:
<claim-text>a receiving unit, configured to receive first signaling tracing configuration information sent by a base station, wherein the first signaling tracing configuration information carries a user equipment identifier; and</claim-text>
<claim-text>a processing unit, configured to provide the first signaling tracing configuration information received by the receiving unit to a serving core network node, so that the serving core network node provides second signaling tracing configuration information to a serving base station according to the first signaling tracing configuration information to initiate signaling tracing for a user equipment corresponding to the user equipment identifier.</claim-text></claim-text></claim><claim id="c-en-0019" num="0019"><claim-text>The core network device according to claim 18, wherein:<!-- EPO <DP n="43"> -->
<claim-text>the processing unit is specifically configured to perform at least one of the following operations: storing the first signaling tracing configuration information received by the receiving unit;</claim-text>
<claim-text>forwarding the first signaling tracing configuration information received by the receiving unit to a home location register (HLR)/home subscriber server (HSS), so that the serving core network node obtains the first signaling tracing configuration information from the HLR/HSS; and</claim-text>
<claim-text>forwarding the first signaling tracing configuration information received by the receiving unit to the serving core network node of the user equipment.</claim-text></claim-text></claim><claim id="c-en-0020" num="0020"><claim-text>The core network device according to claim 19, further comprising a determining unit, wherein:
<claim-text>the determining unit is configured to determine that a context of the user equipment exists in the core network device; and</claim-text>
<claim-text>the processing unit is specifically configured to store the first signaling tracing configuration information when the determining unit determines that the context of the user equipment exists in the core network device; or</claim-text>
<claim-text>the determining unit is configured to determine that the context of the user equipment does not exist in the core network device; and</claim-text>
<claim-text>the processing unit is configured to forward the first signaling tracing configuration information to the HSS/HLR for the HSS/HLR storing the first signaling tracing configuration information; or</claim-text>
<claim-text>the determining unit is configured to determine that the context of the user equipment does not exist in the core network device; and</claim-text>
<claim-text>the processing unit is configured to obtain a serving core network node identifier of the user equipment from the HSS/HLR, and send the first signaling tracing configuration information to the serving core network node according to the serving core network node identifier for the serving core network node storing the first signaling tracing configuration information.</claim-text></claim-text></claim><claim id="c-en-0021" num="0021"><claim-text>The core network device according to claim 18, further comprising:<!-- EPO <DP n="44"> -->
<claim-text>an obtaining unit, configured to obtain the first signaling tracing configuration information when serving as a serving core network node;</claim-text>
<claim-text>a first configuration unit, configured to obtain the second signaling tracing configuration information according to the first signaling tracing configuration information when the user equipment is active, and send an S application protocol message that carries the second signaling tracing configuration information to the serving base station through an S1 connection of the user equipment, so that the serving base station initiates the signaling tracing for the user equipment; and</claim-text>
<claim-text>a second configuration unit, configured to obtain the second signaling tracing configuration information according to the first signaling tracing configuration information after receiving an activation message sent by the user equipment when the user equipment is idle or detached, and send the S application protocol message that carries the second signaling tracing configuration information to the serving base station through the S1 connection connected to the user equipment, so that the serving base station initiates the signaling tracing for the user equipment.</claim-text></claim-text></claim><claim id="c-en-0022" num="0022"><claim-text>The core network device according to any one of claims 18 to 21, wherein:
<claim-text>the core network device is specifically a mobility management entity (MME).</claim-text></claim-text></claim><claim id="c-en-0023" num="0023"><claim-text>A communication system, comprising a base station according to any one of claims 14 to 17 and a core network device according to any one of claims 18 to 22.</claim-text></claim></claims><drawings mxw-id="PDW16667233" load-source="patent-office"><!-- EPO <DP n="45"> --><figure id="f0001" num="1a,1b"><img id="if0001" file="imgf0001.tif" wi="161" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="46"> --><figure id="f0002" num="1c"><img id="if0002" file="imgf0002.tif" wi="126" he="152" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="47"> --><figure id="f0003" num="2"><img id="if0003" file="imgf0003.tif" wi="130" he="104" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="48"> --><figure id="f0004" num="3"><img id="if0004" file="imgf0004.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="49"> --><figure id="f0005" num="4"><img id="if0005" file="imgf0005.tif" wi="165" he="212" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="50"> --><figure id="f0006" num="5"><img id="if0006" file="imgf0006.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="51"> --><figure id="f0007" num="6,7a,7b"><img id="if0007" file="imgf0007.tif" wi="165" he="208" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
