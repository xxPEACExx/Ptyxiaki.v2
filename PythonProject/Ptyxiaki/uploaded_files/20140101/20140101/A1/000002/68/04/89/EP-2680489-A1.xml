<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680489-A1" country="EP" doc-number="2680489" kind="A1" date="20140101" family-id="47055758" file-reference-id="252638" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549199" ucid="EP-2680489-A1"><document-id><country>EP</country><doc-number>2680489</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12777271-A" is-representative="YES"><document-id mxw-id="PAPP154823122" load-source="docdb" format="epo"><country>EP</country><doc-number>12777271</doc-number><kind>A</kind><date>20120420</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP220439665" load-source="docdb" format="original"><country>EP</country><doc-number>12777271.3</doc-number><date>20120420</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140450990" ucid="CN-201110110733-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201110110733</doc-number><kind>A</kind><date>20110429</date></document-id></priority-claim><priority-claim mxw-id="PPC140453451" ucid="CN-2012074428-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2012074428</doc-number><kind>W</kind><date>20120420</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL2070993487" load-source="docdb">H04L  29/06        20060101ALI20140414BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2070998980" load-source="docdb">H04L  12/24        20060101AFI20140414BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2071003824" load-source="docdb">H04L  12/28        20060101ALI20140414BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988109868" load-source="docdb" scheme="CPC">H04L  12/2898      20130101 LI20130530BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988921265" load-source="docdb" scheme="CPC">H04L  41/0273      20130101 FI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1991310048" load-source="docdb" scheme="CPC">H04L  41/0213      20130101 LI20140106BHEP        </classification-cpc><classification-cpc mxw-id="PCL1991315152" load-source="docdb" scheme="CPC">H04L  41/06        20130101 LI20140106BHEP        </classification-cpc><classification-cpc mxw-id="PCL1991316394" load-source="docdb" scheme="CPC">H04L  41/0233      20130101 LI20140106BHEP        </classification-cpc><classification-cpc mxw-id="PCL2102368752" load-source="docdb" scheme="CPC">H04L  67/02        20130101 LA20140728BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180081" lang="DE" load-source="patent-office">EREIGNISBERICHTSVERFAHREN UND KUNDENENDGERÄT DAFÜR</invention-title><invention-title mxw-id="PT132180082" lang="EN" load-source="patent-office">EVENT REPORTING METHOD AND CUSTOMER PREMISES EQUIPMENT</invention-title><invention-title mxw-id="PT132180083" lang="FR" load-source="patent-office">PROCÉDÉ DE REPORTING D'ÉVÉNEMENT ET ÉQUIPEMENT DES LOCAUX D'ABONNÉ</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918170530" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI DEVICE CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR918161579" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI DEVICE CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR918981961" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Device Co., Ltd.</last-name><iid>101212304</iid><address><street>Building B2 Huawei Industrial Base Bantian Longgang District</street><city>Shenzhen, Guangdong 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918157296" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ZHAO JUNJIE</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918147284" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ZHAO, JUNJIE</last-name></addressbook></inventor><inventor mxw-id="PPAR918989513" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ZHAO, JUNJIE</last-name><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918143156" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>WU HUANGWEI</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918161014" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>WU, HUANGWEI</last-name></addressbook></inventor><inventor mxw-id="PPAR918980869" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>WU, HUANGWEI</last-name><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918990166" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Maiwald Patentanwalts GmbH</last-name><iid>101330423</iid><address><street>Engineering Elisenhof Elisenstrasse 3</street><city>80335 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2012074428-W"><document-id><country>CN</country><doc-number>2012074428</doc-number><kind>W</kind><date>20120420</date><lang>ZH</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012146149-A1"><document-id><country>WO</country><doc-number>2012146149</doc-number><kind>A1</kind><date>20121101</date><lang>ZH</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548871956" load-source="docdb">AL</country><country mxw-id="DS548848938" load-source="docdb">AT</country><country mxw-id="DS548871957" load-source="docdb">BE</country><country mxw-id="DS548801851" load-source="docdb">BG</country><country mxw-id="DS548848886" load-source="docdb">CH</country><country mxw-id="DS548854669" load-source="docdb">CY</country><country mxw-id="DS548848939" load-source="docdb">CZ</country><country mxw-id="DS548871958" load-source="docdb">DE</country><country mxw-id="DS548854670" load-source="docdb">DK</country><country mxw-id="DS548854671" load-source="docdb">EE</country><country mxw-id="DS548837471" load-source="docdb">ES</country><country mxw-id="DS548801852" load-source="docdb">FI</country><country mxw-id="DS548801853" load-source="docdb">FR</country><country mxw-id="DS548871959" load-source="docdb">GB</country><country mxw-id="DS548854672" load-source="docdb">GR</country><country mxw-id="DS548871960" load-source="docdb">HR</country><country mxw-id="DS548848940" load-source="docdb">HU</country><country mxw-id="DS548848887" load-source="docdb">IE</country><country mxw-id="DS548871961" load-source="docdb">IS</country><country mxw-id="DS548801858" load-source="docdb">IT</country><country mxw-id="DS548854673" load-source="docdb">LI</country><country mxw-id="DS548854601" load-source="docdb">LT</country><country mxw-id="DS548848941" load-source="docdb">LU</country><country mxw-id="DS548854602" load-source="docdb">LV</country><country mxw-id="DS548854603" load-source="docdb">MC</country><country mxw-id="DS548803297" load-source="docdb">MK</country><country mxw-id="DS548803302" load-source="docdb">MT</country><country mxw-id="DS548848942" load-source="docdb">NL</country><country mxw-id="DS548837472" load-source="docdb">NO</country><country mxw-id="DS548848943" load-source="docdb">PL</country><country mxw-id="DS548854604" load-source="docdb">PT</country><country mxw-id="DS548848944" load-source="docdb">RO</country><country mxw-id="DS548854605" load-source="docdb">RS</country><country mxw-id="DS548848945" load-source="docdb">SE</country><country mxw-id="DS548854606" load-source="docdb">SI</country><country mxw-id="DS548848888" load-source="docdb">SK</country><country mxw-id="DS548848889" load-source="docdb">SM</country><country mxw-id="DS548803303" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669869" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Embodiments of the present invention provide an event reporting method and a customer premises equipment. The method includes: A CPE interacts with an ACS to establish a CWMP session between the CPE and the ACS; the CPE encapsulates parameter information of an event in a SOAP message in a process of the CWMP session when the CPE learns that the event occurs; and the CPE sends the SOAP message to the ACS in the process of the CWMP session. In the embodiments of the present invention, timeliness of event reporting is improved. By adopting the event reporting method and the CPE provided in the embodiments of the present invention, a CPE may send an occurring event to an ACS in a process of a current CWMP session, so that the CPE can immediately report an event to the ACS after the event occurs, thereby improving the timeliness of event reporting.<img id="iaf01" file="imgaf001.tif" wi="108" he="71" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499242" lang="EN" source="EPO" load-source="docdb"><p>Embodiments of the present invention provide an event reporting method and a customer premises equipment. The method includes: A CPE interacts with an ACS to establish a CWMP session between the CPE and the ACS; the CPE encapsulates parameter information of an event in a SOAP message in a process of the CWMP session when the CPE learns that the event occurs; and the CPE sends the SOAP message to the ACS in the process of the CWMP session. In the embodiments of the present invention, timeliness of event reporting is improved. By adopting the event reporting method and the CPE provided in the embodiments of the present invention, a CPE may send an occurring event to an ACS in a process of a current CWMP session, so that the CPE can immediately report an event to the ACS after the event occurs, thereby improving the timeliness of event reporting.</p></abstract><description mxw-id="PDES63955299" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">This application claims priority to Chinese Patent Application No. <patcit id="pcit0001" dnum="CN201110110733"><text>201110110733.7</text></patcit>, filed with the Chinese Patent Office on April 29, 2011 and entitled "EVENT REPORTING METHOD AND CUSTOMER PREMISES EQUIPMENT", which is incorporated herein by reference in its entirety.</p><heading id="h0001"><b>TECHNICAL FIELD</b></heading><p id="p0002" num="0002">The embodiments of the present invention relate to the field of communications technologies, and in particular, to an event reporting method and a customer premises equipment.</p><heading id="h0002"><b>BACKGROUND</b></heading><p id="p0003" num="0003">As a broadband access technology, a digital subscriber line (Digital Subscriber Line, DSL for short) has been widely applied. One or more customer premises equipments (Customer Premises Equipment, CPE for short) are connected to an auto-configuration server (Auto-configuration Server, ACS for short) by using a digital subscriber line access multiplexer (Digital Subscriber Line Access Multiplexer, DSLAM for short), a regional broadband network, a broadband remote access server (Broad Remote Access Server, BRAS for short), and the like. The ACS is connected to a service configuration manager through a northbound interface of the ACS. The ACS is responsible for configuration management of the CPE. An interface between the ACS and the CPE is called a southbound interface. In a process of a current CPE wide area network management protocol (CPE WAN Management Protocol, CWMP for short) session, when an event occurs, a CPE may send parameter information of the event to an ACS in a process of another newly created CWMP session, so that the ACS performs management on the CPE according to the parameter information of the event.</p><p id="p0004" num="0004">In the prior art, in a process of a CWMP session, when an event occurs, a<!-- EPO <DP n="2"> --> CPE needs to wait until the current session ends so as to send parameter information of the event to an ACS through an Inform request in a next CWMP session. Therefore, the CPE is incapable of immediately sending the parameter information of the event to the ACS, thereby decreasing timeliness of event reporting.</p><heading id="h0003"><b>SUMMARY</b></heading><p id="p0005" num="0005">Embodiments of the present invention provide an event reporting method and customer premises equipment, so as to improve timeliness of event reporting.</p><p id="p0006" num="0006">An embodiment of the present invention provides an event reporting method, including:
<ul><li>interacting, by a CPE, with an ACS to establish a CWMP session between the CPE and the ACS;</li><li>encapsulating, by the CPE, parameter information of an event in a SOAP message in a process of the CWMP session when the CPE learns that the event occurs; and</li><li>sending, by the CPE, the SOAP message to the ACS in the process of the CWMP session.</li></ul></p><p id="p0007" num="0007">An embodiment of the present invention further provides a CPE, including:
<ul><li>an establishing module, configured to interact with an ACS to establish a CWMP session between the CPE and the ACS;</li><li>an encapsulating module, configured to encapsulate parameter information of an event in a SOAP message in a process of the CWMP session when it is learned that the event occurs;</li><li>a reporting module, configured to send the SOAP message to the ACS in the process of the CWMP session; and a processing module, configured to send the parameter information of the event to the ACS through the SOAP message in the process of the CWMP session when the event occurs.</li></ul></p><p id="p0008" num="0008">It can be known from the foregoing technical solutions that, in the embodiments of the present invention, a CPE interacts with an ACS to establish a CWMP session between the CPE and the ACS. In a process of the CWMP session, when it is learned that an event occurs, the CPE encapsulates parameter information of the event in a SOAP message, so that the CPE can send the SOAP message to the<!-- EPO <DP n="3"> --> ACS in the session process of the CWMP session, thereby improving timeliness of event reporting. By adopting the event reporting method and the CPE provided in the embodiments of the present invention, a CPE may send an occurring event to an ACS in a session process of a current CWMP session, so that the CPE can immediately report an event to the ACS after the event occurs, thereby improving the timeliness of event reporting.</p><heading id="h0004"><b>BRIEF DESCRIPTION OF DRAWINGS</b></heading><p id="p0009" num="0009">To describe the technical solutions in the embodiments of the present invention or in the prior art more clearly, the following briefly introduces the accompanying drawings required for describing the embodiments or the prior art. Apparently, the accompanying drawings in the following description show some embodiments of the present invention, and persons of ordinary skill in the art may still derive other drawings from these accompanying drawings without creative efforts.
<ul><li><figref idrefs="f0001">FIG. 1</figref> is a schematic flowchart of an event reporting method according to a first embodiment of the present invention;</li><li><figref idrefs="f0001">FIG. 2</figref> is a schematic flowchart of an event reporting method according to a second embodiment of the present invention;</li><li><figref idrefs="f0002">FIG. 3</figref> is a schematic flowchart of an event reporting method according to a third embodiment of the present invention;</li><li><figref idrefs="f0003">FIG. 4</figref> is a schematic flowchart of an event reporting method according to a fourth embodiment of the present invention;</li><li><figref idrefs="f0004">FIG. 5</figref> is a schematic flowchart of an event reporting method according to a fifth embodiment of the present invention;</li><li><figref idrefs="f0005">FIG. 6</figref> is a schematic flowchart of an event reporting method according to a sixth embodiment of the present invention; and</li><li><figref idrefs="f0005">FIG. 7</figref> is a schematic structural diagram of a customer premises equipment according to a seventh embodiment of the present invention.</li></ul></p><heading id="h0005"><b>DESCRIPTION OF EMBODIMENTS</b></heading><p id="p0010" num="0010">To make the objectives, the technical solutions, and the advantages of the embodiments of the present invention more clearly, the following clearly and<!-- EPO <DP n="4"> --> completely describes the technical solutions in the embodiments of the present invention with reference to the accompanying drawings in the embodiments of the present invention. Apparently, the embodiments to be described are only a part rather than all of the embodiments of the present invention. All other embodiments obtained by persons of ordinary skill in the art based on the embodiments of the present invention without creative efforts shall fall within the protection scope of the present invention.</p><p id="p0011" num="0011"><figref idrefs="f0001">FIG. 1</figref> is a schematic flowchart of an event reporting method according to a first embodiment of the present invention. As shown in <figref idrefs="f0001">FIG. 1</figref>, the event reporting method in this embodiment may include the following steps:
<ul><li>Step 101: A CPE interacts with an ACS to establish a CWMP session between the CPE and the ACS.</li><li>Step 102: The CPE encapsulates parameter information of an event in a simple object access protocol (Simple Object Access Protocol, SOAP for short) message in a process of the CWMP session when the CPE learns that the event occurs.</li></ul></p><p id="p0012" num="0012">The event may include, but is not limited to, a parameter value change event, a diagnosis complete event, or a boot (Boot) event. Parameter information of an event is used for identifying the event.</p><p id="p0013" num="0013">Specifically, a CPE may specifically encapsulate parameter information of an event in a header or a message body of a SOAP message (a SOAP request or a SOAP response). The CPE may choose on its own to notify an ACS of the event through the header of the SOAP message or the message body of the SOAP message; and/or the ACS specifies, by setting a CPE data model, that the CPE notifies the ACS of the event through the header of the SOAP message or the message body of the SOAP message.</p><p id="p0014" num="0014">Step 103: The CPE sends the SOAP message to the ACS in the process of the CWMP session.</p><p id="p0015" num="0015">In this embodiment, an event may occur in any session phase among the following session phases in the process of the established CWMP session; and accordingly, when a CPE learns that an event occurs, the CPE may send parameter information of the event to an ACS through a SOAP message in the process of the CWMP session.</p><p id="p0016" num="0016">In some cases, before the CPE sends a remote procedure call (Remote<!-- EPO <DP n="5"> --> Procedure Call, RPC for short) request or an empty message to the ACS, the CPE learns that an event occurs. Accordingly, the CPE may immediately send parameter information of the event to the ACS through a SOAP message in the process of the CWMP session. For example: the CPE immediately encapsulates the parameter information of the event in the SOAP message, and sends the message to the ACS.</p><p id="p0017" num="0017">In some cases, after the CPE sends an RPC request to the ACS and before the CPE receives a corresponding RPC response sent by the ACS, the CPE learns that an event occurs. Accordingly, the CPE may immediately send parameter information of the event to the ACS through a SOAP message in the process of the CWMP session after receiving the corresponding RPC response sent by the ACS. For example: after receiving the corresponding RPC response sent by the ACS, the CPE immediately encapsulates the parameter information of the event in the SOAP message, and sends the message to the ACS.</p><p id="p0018" num="0018">In some cases, after the CPE sends an empty message to the ACS and before the CPE receives an empty message or an RPC request sent by the ACS, the CPE learns that an event occurs. Accordingly, the CPE may immediately send parameter information of the event to the ACS through a SOAP message in the process of the CWMP session after receiving the empty message or the RPC request sent by the ACS. For example: after receiving the empty message or the RPC request sent by the ACS, the CPE immediately encapsulates the parameter information of the event in the SOAP message, and sends the message to the ACS.</p><p id="p0019" num="0019">In some cases, after the CPE receives an RPC request sent by the ACS and before the CPE sends a corresponding RPC response to the ACS, the CPE learns that an event occurs. Accordingly, the CPE stops performing the RPC request or stops sending the corresponding RPC response to the ACS, and may immediately send parameter information of the event to the ACS through a SOAP message in the process of the CWMP session. For example: the CPE stops performing the RPC request or stops sending the corresponding RPC response to the ACS, immediately encapsulates the parameter information of the event in the SOAP message, and sends the message to the ACS.</p><p id="p0020" num="0020">In some cases, after the CPE completely performs an RPC request sent by the ACS and before the CPE sends a corresponding RPC response to the ACS, the CPE learns that an event occurs. Accordingly, the CPE may immediately send parameter information of the event to the ACS through a SOAP message in the<!-- EPO <DP n="6"> --> process of the CWMP session. For example: the CPE immediately encapsulates the parameter information of the event in the SOAP message, and sends the message to the ACS. For another example: the CPE immediately encapsulates the parameter information of the event and the corresponding RPC response in the SOAP message, and specifically, the CPE may encapsulate the parameter information of the event in a SOAP header field of the SOAP message and encapsulate the corresponding RPC response in a SOAP body field at the same time.</p><p id="p0021" num="0021">Further, in step 102, when an event occurs, only if an attribute of the event is an emergency notification, the CPE encapsulates parameter information of the event in a SOAP message.</p><p id="p0022" num="0022">For example: for a parameter value change event, the ACS may set, by using a SetParameterAttributes (SetParameterAttributes) method, an emergency notification attribute of the parameter value change event, and specifically, may perform setting by expanding a value of a notification (Notification) field in a current SetParameterAttributesStruct (SetParameterAttributesStruct) parameter. For example: when the parameter value is 3, it indicates an emergency notification attribute. Further, when a value of a parameter corresponding to a parameter value change event whose emergency notification attribute is set changes, the name and the value of the parameter may be carried through a ParameterValueStruct (ParameterValueStruct) parameter so as to form an EventList (EventList) array, and an example that the EventList is included in a message body of a SOAP message may be as follows:
<ul><li>&lt;SOAP-ENV:Body&gt;</li><li>&lt;EventList SOAP-ENC:arrayType="cwmp:ParameterValueStruct[2]"&gt;</li><li>&lt;ParameterValueStruct&gt;</li><li>&lt;Name&gt;Event1&lt;/Name&gt;</li><li>&lt;Value xsi:type="xsd:string"&gt; Value1&lt;/Value&gt;</li><li>&lt;/ParameterValueStruct&gt;</li><li>&lt;ParameterValueStruct&gt;</li><li>&lt;Name&gt;Event2&lt;/Name&gt;</li><li>&lt;Value xsi:type="xsd:string"&gt;Value2&lt;/Value&gt;</li><li>&lt;/ParameterValueStruct&gt;</li><li>&lt;/EventList &gt;</li><li>&lt;/SOAP-ENV:Body&gt;</li></ul></p><p id="p0023" num="0023">In this embodiment, a CPE interacts with an ACS to establish a CWMP<!-- EPO <DP n="7"> --> session between the CPE and the ACS. In a process of the CWMP session, when it is learned that an event occurs, the CPE encapsulates parameter information of the event in a SOAP message, so that the CPE can send the SOAP message to the ACS in the session process of the CWMP session, thereby improving timeliness of event reporting. By adopting the event reporting method and the CPE provided in the embodiment of the present invention, a CPE may send an occurring event to an ACS in a session process of a current CWMP session, so that the CPE can immediately report an event to the ACS after the event occurs, thereby improving the timeliness of event reporting.</p><p id="p0024" num="0024">In order to make the method provided in the embodiment of the present invention clearer, the following takes that a CPE sends parameter information of an event to an ACS through a SOAP request as an example. <figref idrefs="f0001">FIG. 2</figref> is a schematic flowchart of an event reporting method according to a second embodiment of the present invention. This embodiment is a specific embodiment of the first embodiment of the present invention. As shown in <figref idrefs="f0001">FIG. 2</figref>, the event reporting method in this embodiment may include the following steps:
<ul><li>Step 201: A CPE sends a first hyper text transfer protocol (Hyper Text Transfer Protocol, HTTP for short) POST request to an ACS, where the first HTTP POST request includes an inform request (Inform Request).</li><li>Step 202: The ACS returns an HTTP response corresponding to the first HTTP POST to the CPE, where the HTTP response includes an inform response (Inform Response).</li></ul></p><p id="p0025" num="0025">Until now, through interaction between the CPE and the ACS, a CWMP session between the CPE and the ACS is established.</p><p id="p0026" num="0026">After this step, the CPE may send another HTTP POST request (the HTTP POST request includes an RPC request) or an empty message of an HTTP POST request to the ACS.</p><p id="p0027" num="0027">Step 203: The CPE learns that an event occurs.</p><p id="p0028" num="0028">Step 204: The CPE immediately sends a second HTTP POST request to the ACS in a process of the established CWMP session, where the second HTTP POST request includes a SOAP request (SOAP Request) and the SOAP request carries parameter information of the event.</p><p id="p0029" num="0029">Step 205: Based on the event, the ACS performs corresponding processing, and returns an HTTP response to the CPE, where the HTTP response includes a SOAP<!-- EPO <DP n="8"> --> response (SOAP Response) corresponding to the SOAP request.</p><p id="p0030" num="0030">Step 206: The CPE and the ACS continue interacting in the process of the established CWMP session.</p><p id="p0031" num="0031">For example: the CPE may send another HTTP POST request (the HTTP POST request includes an RPC request) or an empty message of an HTTP POST request to the ACS. Accordingly, the ACS may send an HTTP response (the HTTP response includes an RPC response corresponding to the RPC request), an HTTP response (the HTTP response includes another RPC request), or an empty message of an HTTP response to the CPE.</p><p id="p0032" num="0032">In this embodiment, if it is learned, before the CPE sends an RPC request or an empty message to the ACS, that an event occurs, the CPE may immediately send parameter information of the event to the ACS through a SOAP message in the process of the CWMP session, thereby improving timeliness of event reporting.</p><p id="p0033" num="0033"><figref idrefs="f0002">FIG. 3</figref> is a schematic flowchart of an event reporting method according to a third embodiment of the present invention. This embodiment is a specific embodiment of the first embodiment of the present invention. As shown in <figref idrefs="f0002">FIG. 3</figref>, the event reporting method in this embodiment may include the following steps:
<ul><li>Step 301: A CPE sends a fourth hyper text transfer protocol (Hyper Text Transfer Protocol, HTTP for short) POST request to an ACS, where the fourth HTTP POST request includes an inform request (Inform Request).</li><li>Step 302: The ACS returns an HTTP response corresponding to the fourth HTTP request to the CPE, where the HTTP response includes an inform response (Inform Response) corresponding to the inform request.</li></ul></p><p id="p0034" num="0034">Until now, through interaction between the CPE and the ACS, a CWMP session between the CPE and the ACS is established.</p><p id="p0035" num="0035">Step 303: The CPE sends a fifth HTTP POST request to the ACS, where the fifth HTTP POST request includes an RPC request.</p><p id="p0036" num="0036">Step 304: The CPE learns that an event occurs.</p><p id="p0037" num="0037">Step 305: The ACS returns an HTTP response corresponding to the fifth HTTP request to the CPE, where the HTTP response includes an RPC response corresponding to the RPC request.</p><p id="p0038" num="0038">Step 306: The CPE immediately sends a sixth HTTP POST request to the ACS in a process of the established CWMP session, where the sixth HTTP POST request includes a SOAP request (SOAP Request) and the SOAP request carries<!-- EPO <DP n="9"> --> parameter information of the event.</p><p id="p0039" num="0039">Step 307: Based on the event, the ACS performs corresponding processing, and returns an HTTP response corresponding to the sixth HTTP request to the CPE, where the HTTP response includes a SOAP response (SOAP Response) corresponding to the SOAP request.</p><p id="p0040" num="0040">Step 308: The CPE and the ACS continue interacting in the process of the established CWMP session.</p><p id="p0041" num="0041">In this embodiment, if it is learned, after the CPE sends an RPC request to the ACS, that an event occurs, the CPE may immediately send parameter information of the event to the ACS through a SOAP message in the process of the CWMP session after receiving an RPC response sent by the ACS, thereby improving timeliness of event reporting.</p><p id="p0042" num="0042"><figref idrefs="f0003">FIG. 4</figref> is a schematic flowchart of an event reporting method according to a fourth embodiment of the present invention. This embodiment is a specific embodiment of the first embodiment of the present invention. As shown in <figref idrefs="f0003">FIG. 4</figref>, the event reporting method in this embodiment may include the following steps:
<ul><li>Step 401: A CPE sends a seventh hyper text transfer protocol (Hyper Text Transfer Protocol, HTTP for short) POST request to an ACS, where the seventh HTTP POST request includes an inform request (Inform Request).</li><li>Step 402: The ACS returns an HTTP response corresponding to the seventh HTTP request to the CPE, where the HTTP response includes an inform response (Inform Response) corresponding to the inform request.</li></ul></p><p id="p0043" num="0043">Until now, through interaction between the CPE and the ACS, a CWMP session between the CPE and the ACS is established.</p><p id="p0044" num="0044">Step 403: The CPE sends an empty message (Empty) of an HTTP POST request to the ACS.</p><p id="p0045" num="0045">Step 404: The CPE learns that an event occurs.</p><p id="p0046" num="0046">Step 405: The ACS returns an HTTP response corresponding to the empty message of the HTTP POST request to the CPE, where the HTTP response includes an RPC request.</p><p id="p0047" num="0047">Step 406: The CPE immediately sends an eighth HTTP POST request to the ACS in a process of the established CWMP session, where the eighth HTTP POST request includes a SOAP request (SOAP Request) and the SOAP request carries parameter information of the event.<!-- EPO <DP n="10"> --></p><p id="p0048" num="0048">Step 407: Based on the event, the ACS performs corresponding processing, and returns an HTTP response corresponding to the eighth HTTP request to the CPE, where the HTTP response includes a SOAP response (SOAP Response).</p><p id="p0049" num="0049">Step 408: The CPE performs the RPC request.</p><p id="p0050" num="0050">Step 409: The CPE sends a ninth HTTP POST request to the ACS, where the ninth HTTP POST request includes an RPC response corresponding to the RPC request.</p><p id="p0051" num="0051">Step 410: The CPE and the ACS continue interacting in the process of the established CWMP session.</p><p id="p0052" num="0052">In some cases, in step 405, the HTTP response returned by the ACS to the CPE may be an empty message of the HTTP response. Accordingly, the CPE may not perform step 408 and step 409, and directly perform step 410.</p><p id="p0053" num="0053">In this embodiment, if it is learned, after the CPE sends an empty message to the ACS and before the CPE receives an empty message or an RPC request sent by the ACS, that an event occurs, the CPE may immediately send parameter information of the event to the ACS through a SOAP message in the process of the CWMP session after receiving the empty message or the RPC request sent by the ACS, thereby improving timeliness of event reporting.</p><p id="p0054" num="0054"><figref idrefs="f0004">FIG. 5</figref> is a schematic flowchart of an event reporting method according to a fifth embodiment of the present invention. This embodiment is a specific embodiment of the first embodiment of the present invention. As shown in <figref idrefs="f0004">FIG. 5</figref>, the event reporting method in this embodiment may include the following steps:
<ul><li>Step 501: A CPE sends a tenth hyper text transfer protocol (Hyper Text Transfer Protocol, HTTP for short) POST request to an ACS, where the tenth HTTP POST request includes an inform request (Inform Request).</li><li>Step 502: The ACS returns an HTTP response corresponding to the tenth HTTP request to the CPE, where the HTTP response includes an inform response (Inform Response).</li></ul></p><p id="p0055" num="0055">Until now, through interaction between the CPE and the ACS, a CWMP session between the CPE and the ACS is established.</p><p id="p0056" num="0056">Step 503: The CPE sends an empty message (Empty) of an HTTP POST request to the ACS.</p><p id="p0057" num="0057">Step 504: The ACS returns an HTTP response corresponding to the empty message of the HTTP POST request to the CPE, where the HTTP response includes<!-- EPO <DP n="11"> --> an RPC request.</p><p id="p0058" num="0058">Step 505: The CPE performs the RPC request.</p><p id="p0059" num="0059">Step 506: The CPE learns that an event occurs.</p><p id="p0060" num="0060">Step 507: The CPE stops performing the RPC request, and immediately sends an eleventh HTTP POST request to the ACS in a process of the established CWMP session, where the eleventh HTTP POST request includes a SOAP request (SOAP Request) and the SOAP request carries parameter information of the event.</p><p id="p0061" num="0061">Step 508: Based on the event, the ACS performs corresponding processing, and returns an HTTP response corresponding to the eleventh HTTP request to the CPE, where the HTTP response includes a SOAP response (SOAP Response).</p><p id="p0062" num="0062">Step 509: The CPE resumes performing the stopped RPC request.</p><p id="p0063" num="0063">Step 510: The CPE returns a twelfth HTTP POST request to the ACS, where the twelfth HTTP POST request includes an RPC response corresponding to the RPC request.</p><p id="p0064" num="0064">Step 511: The CPE and the ACS continue interacting in the process of the established CWMP session.</p><p id="p0065" num="0065">In this embodiment, if it is learned, after the CPE receives an RPC request sent by the ACS and before the CPE sends an RPC response to the ACS, that an event occurs, the CPE stops performing the RPC request or stops sending the RPC response to the ACS, and may immediately send parameter information of the event to the ACS through a SOAP message in the process of the CWMP session, thereby improving timeliness of event reporting.</p><p id="p0066" num="0066"><figref idrefs="f0005">FIG. 6</figref> is a schematic flowchart of an event reporting method according to a sixth embodiment of the present invention. This embodiment is a specific embodiment of the first embodiment of the present invention. As shown in <figref idrefs="f0005">FIG. 6</figref>, the event reporting method in this embodiment may include the following steps:
<ul><li>Step 601: A CPE sends a thirteenth hyper text transfer protocol (Hyper Text Transfer Protocol, HTTP for short) POST request to an ACS, where the thirteenth HTTP POST request includes an inform request (Inform Request).</li><li>Step 602: The ACS returns an HTTP response corresponding to the thirteenth HTTP request to the CPE, where the HTTP response includes an inform response (Inform Response).</li></ul></p><p id="p0067" num="0067">Until now, through interaction between the CPE and the ACS, a CWMP session between the CPE and the ACS is established.<!-- EPO <DP n="12"> --></p><p id="p0068" num="0068">Step 603: The CPE sends an empty message (Empty) of an HTTP POST request to the ACS.</p><p id="p0069" num="0069">Step 604: The ACS returns an HTTP response corresponding to the empty message of the HTTP POST request to the CPE, where the HTTP response includes an RPC request.</p><p id="p0070" num="0070">Step 605: The CPE completely performs the RPC request.</p><p id="p0071" num="0071">Step 606: The CPE learns that an event occurs.</p><p id="p0072" num="0072">Step 607: The CPE stops returning a fourteenth HTTP POST request that includes an RPC response corresponding to the RPC request to the ACS, and immediately sends a fifteenth HTTP POST request to the ACS in the established CWMP session, where the fifteenth HTTP POST request includes a SOAP request (SOAP Request) and the SOAP request carries parameter information of the event.</p><p id="p0073" num="0073">Step 608: Based on the event, the ACS performs corresponding processing, and returns an HTTP response corresponding to the fifteenth HTTP request to the CPE, where the HTTP response includes a SOAP response (SOAP Response).</p><p id="p0074" num="0074">Step 609: The CPE resumes returning the stopped fourteenth HTTP POST request, where the fourteenth HTTP POST request includes an RPC response.</p><p id="p0075" num="0075">Step 610: The CPE and the ACS continue interacting in the process of the established CWMP session.</p><p id="p0076" num="0076">In some cases, in step 607, the CPE may also immediately send an HTTP POST request that includes a SOAP request (SOAP Request) to the ACS in the process of the established CWMP session without stopping returning the fourteenth HTTP POST request that includes an RPC response to the ACS, where the SOAP request carries parameter information of the event and the RPC response.</p><p id="p0077" num="0077">In this embodiment, if it is learned, after the CPE completely performs an RPC request sent by the ACS and before the CPE sends an RPC response to the ACS, that an event occurs, the CPE may immediately send parameter information of the event and the RPC response to the ACS through a SOAP message in the process of the CWMP session, thereby improving timeliness of event reporting.</p><p id="p0078" num="0078">It should be noted that, for brevity of description, the foregoing method embodiments are represented as a series of actions. However, persons skilled in the art should understand that the present invention is not limited to the order of the described actions, because according to the present invention, some steps may adopt other order or occur simultaneously. Persons skilled in the art should also understand<!-- EPO <DP n="13"> --> that the embodiments described in the specification are all exemplary embodiments, and the involved actions and modules are not necessarily required in the present invention.</p><p id="p0079" num="0079">In the foregoing embodiments, the description of each embodiment has its own focus. For a part that is not described in detail in a certain embodiment, reference may be made to a related description in another embodiment.</p><p id="p0080" num="0080"><figref idrefs="f0005">FIG. 7</figref> is a schematic structural diagram of a customer premises equipment according to a seventh embodiment of the present invention. As shown in <figref idrefs="f0005">FIG. 7</figref>, the customer premises equipment in this embodiment may include an establishing module 71, an encapsulating module 72, and a reporting module 73. The establishing module 71 is configured to interact with an ACS to establish a CWMP session between the CPE and the ACS; the encapsulating module 72 is configured to encapsulate parameter information of an event in a SOAP message in a process of the CWMP session when it is learned that the event occurs; and the reporting module 73 is configured to send the SOAP message encapsulated by the encapsulating module 72 to the ACS in the process of the CWMP session.</p><p id="p0081" num="0081">Functions of the CPE in the first embodiment to the sixth embodiment may all be implemented by the customer premises equipment provided in this embodiment of the present invention.</p><p id="p0082" num="0082">Specifically, the encapsulating module 72 in this embodiment may specifically encapsulate parameter information of an event in a SOAP message in the process of the CWMP session when it is learned that the event occurs and if an attribute of the event is an emergency notification.</p><p id="p0083" num="0083">Specifically, the encapsulating module 72 may specifically encapsulate parameter information of an event in a header or a message body of a SOAP message in the CWMP session when it is learned that the event occurs.</p><p id="p0084" num="0084">In some cases, the encapsulating module 72 may also learn, before the CPE sends an RPC request or an empty message to the ACS, that an event occurs. Accordingly, when it is learned, before the CPE sends an RPC request or an empty message to the ACS, that an event occurs, the encapsulating module 72 may specifically and immediately encapsulate parameter information of the event in a SOAP message in the process of the CWMP session.</p><p id="p0085" num="0085">In some cases, the encapsulating module 72 may also learn, after the CPE sends an RPC request to the ACS and before the CPE receives a corresponding RPC<!-- EPO <DP n="14"> --> response sent by the ACS, that an event occurs. Accordingly, when it is learned, after the CPE sends an RPC request to the ACS and before the CPE receives a corresponding RPC response sent by the ACS, that an event occurs, the encapsulating module 72 may specifically and immediately encapsulate parameter information of the event in a SOAP message in the process of the CWMP session after the CPE receives the corresponding RPC response sent by the ACS.</p><p id="p0086" num="0086">In some cases, the encapsulating module 72 may also learn, after the CPE sends an empty message to the ACS and before the CPE receives an empty message or an RPC request sent by the ACS, that an event occurs. Accordingly, when it is learned, after the CPE sends an empty message to the ACS and before the CPE receives an empty message or an RPC request sent by the ACS, the encapsulating module 72 may specifically and immediately encapsulate parameter information of the event in a SOAP message in the process of the CWMP session after the CPE receives the empty message or the RPC request sent by the ACS.</p><p id="p0087" num="0087">In some cases, the encapsulating module 72 may also learn, after the CPE receives an RPC request sent by the ACS and before the CPE sends a corresponding RPC response to the ACS, that an event occurs. Accordingly, when it is learned, after the CPE receives an RPC request sent by the ACS and before the CPE sends a corresponding RPC response to the ACS, the encapsulating module 72 may specifically stop the CPE from performing the RPC request or stop the CPE from sending the corresponding RPC response to the ACS, and immediately encapsulate parameter information of the event in a SOAP message in the process of the CWMP session.</p><p id="p0088" num="0088">In some cases, the encapsulating module 72 may also learn, after the CPE completely performs an RPC request sent by the ACS and before the CPE sends a corresponding RPC response to the ACS, that an event occurs. Accordingly, the encapsulating module 72, specifically, when it is learned, after the CPE completely performs an RPC request sent by the ACS and before the CPE sends a corresponding RPC response to the ACS, that the event occurs, the CPE immediately encapsulates parameter information of the event in a SOAP message in the process of the CWMP session; or the CPE may also immediately encapsulate parameter information of an event and the corresponding RPC response in a SOAP message in the process of the CWMP session when it is learned that the event occurs.</p><p id="p0089" num="0089">In this embodiment, a CPE interacts with an ACS through an establishing<!-- EPO <DP n="15"> --> module to establish a CWMP session between the CPE and the ACS. In a process of the CWMP session, when it is learned that an event occurs, the encapsulating module encapsulates parameter information of the event in a SOAP message, so that a reporting module can send the SOAP message to the ACS in the session process of the CWMP session, thereby improving timeliness of event reporting. By adopting the event reporting method and the CPE provided in the embodiment of the present invention, a CPE may send an occurring event to an ACS in a session process of a current CWMP session, so that the CPE can immediately report an event to the ACS after the event occurs, thereby improving the timeliness of event reporting.</p><p id="p0090" num="0090">Persons of ordinary skill in the art may understand that, all or part of the steps of the foregoing method embodiments may be implemented by a program instructing relevant hardware. The program may be stored in a computer readable storage medium. When the program is run, the steps included in the foregoing method embodiments are performed. The storage medium may be any medium capable of storing program codes, such as a ROM, a RAM, a magnetic disk, or an optical disk.</p><p id="p0091" num="0091">Finally, it should be noted that the foregoing embodiments are only intended for describing the technical solutions of the present invention rather than limiting the present invention. Although the present invention is described in detail with reference to the foregoing embodiments, persons of ordinary skill in the art should understand that they may still make modifications to the technical solutions described in the foregoing embodiments or make equivalent replacements to some technical features of the technical solutions, as long as these modifications or replacements do not make the essence of corresponding technical solutions depart from the spirit and scope of the technical solutions in the embodiments of the present invention.</p></description><claims mxw-id="PCLM56976215" lang="EN" load-source="patent-office"><!-- EPO <DP n="16"> --><claim id="c-en-0001" num="0001"><claim-text>An event reporting method, comprising:
<claim-text>interacting, by a customer premises equipment CPE, with an auto-configuration server ACS to establish a CPE wide area network management protocol CWMP session between the CPE and the ACS;</claim-text>
<claim-text>encapsulating, by the CPE, parameter information of an event in a simple object access protocol SOAP message in a process of the CWMP session when the CPE learns that the event occurs; and</claim-text>
<claim-text>sending, by the CPE, the SOAP message to the ACS in the process of the CWMP session.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, wherein the encapsulating, by the CPE, parameter information of an event in a simple object access protocol SOAP message in a process of the CWMP session when the CPE learns that the event occurs comprises:
<claim-text>encapsulating, by the CPE, the parameter information of the event in the SOAP message in the process of the CWMP session when the CPE learns that the event occurs and if an attribute of the event is an emergency notification.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 1 or claim 2, wherein the encapsulating, by the CPE, parameter information of an event in a SOAP message comprises:
<claim-text>encapsulating, by the CPE, the parameter information of the event in a header or a message body of the SOAP message.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to any one of claim 1 to claim 3, wherein the encapsulating, by the CPE, parameter information of an event in a SOAP message in a process of the CWMP session when the CPE learns that the event occurs comprises:
<claim-text>learning, in the process of the CWMP session, before the CPE sends a remote procedure call RPC request or an empty message to the ACS, that the event occurs; and</claim-text>
<claim-text>immediately encapsulating, by the CPE, the parameter information of the event in the SOAP message.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method according to any one of claim 1 to claim 3, wherein the encapsulating, by the CPE, parameter information of an event in a SOAP message in a process of the CWMP session when the CPE learns that the event occurs comprises:<!-- EPO <DP n="17"> -->
<claim-text>learning, in the process of the CWMP session, after the CPE sends an RPC request to the ACS and before the CPE receives a corresponding RPC response sent by the ACS, that the event occurs; and</claim-text>
<claim-text>immediately encapsulating, by the CPE, the parameter information of the event in the SOAP message after receiving the corresponding RPC response sent by the ACS.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method according to any one of claim 1 to claim 3, wherein the encapsulating, by the CPE, parameter information of an event in a SOAP message in a process of the CWMP session when the CPE learns that the event occurs comprises:
<claim-text>learning, in the process of the CWMP session, after the CPE sends an empty message to the ACS and before the CPE receives an empty message or an RPC request sent by the ACS, that the event occurs; and</claim-text>
<claim-text>immediately encapsulating, by the CPE, the parameter information of the event in the SOAP message after receiving the empty message or the RPC request sent by the ACS.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method according to any one of claim 1 to claim 3, wherein the encapsulating, by the CPE, parameter information of an event in a SOAP message in a process of the CWMP session when the CPE learns that the event occurs comprises:
<claim-text>learning, in the process of the CWMP session, after the CPE receives an RPC request sent by the ACS and before the CPE sends a corresponding RPC response to the ACS, that the event occurs; and</claim-text>
<claim-text>stopping, by the CPE, performing the RPC request, or stopping sending the corresponding RPC response to the ACS, and immediately encapsulating the parameter information of the event in the SOAP message.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method according to any one of claim 1 to claim 3, wherein the encapsulating, by the CPE, parameter information of an event in a SOAP message in a process of the CWMP session when the CPE learns that the event occurs comprises:
<claim-text>learning, in the process of the CWMP session, after the CPE completely performs an RPC request sent by the ACS and before the CPE sends a corresponding RPC response to the ACS, that the event occurs; and</claim-text>
<claim-text>immediately encapsulating, by the CPE, the parameter information of the event in the SOAP message; or</claim-text>
<claim-text>immediately encapsulating, by the CPE, the parameter information of the event and the corresponding RPC response in the SOAP message.</claim-text><!-- EPO <DP n="18"> --></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>A customer premises equipment CPE, comprising:
<claim-text>an establishing module, configured to interact with an auto-configuration server ACS to establish a CPE wide area network management protocol CWMP session between the CPE and the ACS;</claim-text>
<claim-text>an encapsulating module, configured to encapsulate parameter information of an event in a SOAP message in a process of the CWMP session when it is learned that the event occurs; and</claim-text>
<claim-text>a reporting module, configured to send the SOAP message to the ACS in the process of the CWMP session.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The CPE according to claim 9, wherein the encapsulating module is specifically configured to:
<claim-text>encapsulate the parameter information of the event in the simple object access protocol SOAP message in the process of the CWMP session when it is learned that the event occurs and if an attribute of the event is an emergency notification.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The CPE according to claim 9 or claim 10, wherein the encapsulating module is specifically configured to:
<claim-text>encapsulate the parameter information of the event in a header or a message body of the SOAP message in the process of the CWMP session when it is learned that the event occurs.</claim-text></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The CPE according to any one of claim 9 to claim 11, wherein the encapsulating module is specifically configured to:
<claim-text>immediately encapsulate the parameter information of the event in the SOAP message in the process of the CWMP session when it is learned, before the CPE sends a remote procedure call RPC request or an empty message to the ACS, that the event occurs.</claim-text></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The CPE according to any one of claim 9 to claim 11, wherein the encapsulating module is specifically configured to:
<claim-text>immediately encapsulate the parameter information of the event in the SOAP message in the process of the CWMP session after the CPE receives a corresponding RPC response sent by the ACS, when it is learned, after the CPE sends an RPC request to the ACS and before the CPE receives the corresponding RPC response sent by the ACS, that the event occurs.</claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The CPE according to any one of claim 9 to claim 11, wherein the encapsulating module is specifically configured to:<!-- EPO <DP n="19"> -->
<claim-text>immediately encapsulate the parameter information of the event in the SOAP message in the process of the CWMP session after the CPE receives an empty message or an RPC request sent by the ACS, when it is learned, after the CPE sends an empty message to the ACS and before the CPE receives the empty message or the RPC request sent by the ACS, that the event occurs.</claim-text></claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The CPE according to any one of claim 9 to claim 11, wherein the encapsulating module is specifically configured to:
<claim-text>stop the CPE from performing an RPC request or stop the CPE from sending a corresponding RPC response to the ACS, and immediately encapsulate the parameter information of the event in the SOAP message in the process of the CWMP session, when it is learned, after the CPE receives the RPC request sent by the ACS and before the CPE sends the corresponding RPC response to the ACS, that the event occurs.</claim-text></claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>The CPE according to any one of claim 9 to claim 11, wherein the encapsulating module is specifically configured to:
<claim-text>the CPE immediately encapsulates the parameter information of the event in the SOAP message in the process of the CWMP session, when it is learned, after the CPE performs an RPC request sent by the ACS and before the CPE sends a corresponding RPC response to the ACS, that the event occurs; or</claim-text>
<claim-text>the CPE immediately encapsulates the parameter information of the event and the corresponding RPC response in the SOAP message in the process of the CWMP session when it is learned that the event occurs.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16666997" load-source="patent-office"><!-- EPO <DP n="20"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="157" he="215" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="21"> --><figure id="f0002" num="3"><img id="if0002" file="imgf0002.tif" wi="146" he="133" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="22"> --><figure id="f0003" num="4"><img id="if0003" file="imgf0003.tif" wi="153" he="156" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="23"> --><figure id="f0004" num="5"><img id="if0004" file="imgf0004.tif" wi="151" he="186" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="24"> --><figure id="f0005" num="6,7"><img id="if0005" file="imgf0005.tif" wi="157" he="228" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="164" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="233" type="tif"/><doc-page id="srep0003" file="srep0003.tif" wi="165" he="231" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
