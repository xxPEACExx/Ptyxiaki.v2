<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680583-A1" country="EP" doc-number="2680583" kind="A1" date="20140101" family-id="46652730" file-reference-id="316321" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549105" ucid="EP-2680583-A1"><document-id><country>EP</country><doc-number>2680583</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12749678-A" is-representative="NO"><document-id mxw-id="PAPP154823028" load-source="docdb" format="epo"><country>EP</country><doc-number>12749678</doc-number><kind>A</kind><date>20120221</date><lang>JA</lang></document-id><document-id mxw-id="PAPP175460549" load-source="docdb" format="original"><country>EP</country><doc-number>12749678.4</doc-number><date>20120221</date><lang>JA</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140447448" ucid="JP-2012001167-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012001167</doc-number><kind>W</kind><date>20120221</date></document-id></priority-claim><priority-claim mxw-id="PPC140445698" ucid="US-201161445115-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161445115</doc-number><kind>P</kind><date>20110222</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1987647890" load-source="docdb">H04N  19/593       20140101ALI20151217BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1987649241" load-source="docdb">H04N  19/176       20140101ALI20151217BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1987652577" load-source="docdb">H04N  19/82        20140101ALI20151217BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1987653675" load-source="docdb">H04N  19/117       20140101AFI20151217BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1987655070" load-source="docdb">H04N  19/86        20140101ALI20151217BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1987655219" load-source="docdb">H04N  19/157       20140101ALI20151217BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1632738879" load-source="docdb" scheme="CPC">H04N  19/82        20141101 LI20180608BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1632738880" load-source="docdb" scheme="CPC">H04N  19/176       20130101 FI20180608BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2049526609" load-source="docdb" scheme="CPC">H04N  19/157       20141101 LI20150603BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2049527645" load-source="docdb" scheme="CPC">H04N  19/86        20141101 LI20150603BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2049529051" load-source="docdb" scheme="CPC">H04N  19/117       20141101 LI20150603BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2049529493" load-source="docdb" scheme="CPC">H04N  19/593       20141101 LI20150603BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132179799" lang="DE" load-source="patent-office">FILTERVERFAHREN, VORRICHTUNG FÜR DYNAMISCHE BILDKODIERUNG, VORRICHTUNG FÜR DYNAMISCHE BILDDEKODIERUNG UND VORRICHTUNG FÜR DYNAMISCHE BILDKODIERUNG UND -DEKODIERUNG</invention-title><invention-title mxw-id="PT132179800" lang="EN" load-source="patent-office">FILTER METHOD, DYNAMIC IMAGE ENCODING DEVICE, DYNAMIC IMAGE DECODING DEVICE, AND DYNAMIC IMAGE ENCODING/DECODING DEVICE</invention-title><invention-title mxw-id="PT132179801" lang="FR" load-source="patent-office">PROCÉDÉ DE FILTRE, DISPOSITIF DE CODAGE D'IMAGE DYNAMIQUE, DISPOSITIF DE DÉCODAGE D'IMAGE DYNAMIQUE ET DISPOSITIF DE CODAGE/DÉCODAGE D'IMAGE DYNAMIQUE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918163824" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>PANASONIC CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918140955" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>PANASONIC CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR918981100" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Panasonic Corporation</last-name><iid>101295897</iid><address><street>1006, Oaza Kadoma Kadoma-shi</street><city>Osaka 571-8501</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918161944" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LIM CHONG SOON</last-name><address><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918173805" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LIM, CHONG SOON</last-name></addressbook></inventor><inventor mxw-id="PPAR918992119" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LIM, CHONG SOON</last-name><address><street>c/o Panasonic Singapore Laboratories Pte. Ltd. BLK 1022 Tai Seng Avenue no.06-3530</street><city>Ta Seng Industrial Estate Singapore 534415</city><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918168802" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>WAHADANIAH VIKTOR</last-name><address><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918172637" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>WAHADANIAH, VIKTOR</last-name></addressbook></inventor><inventor mxw-id="PPAR918981444" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>WAHADANIAH, VIKTOR</last-name><address><street>c/o Panasonic Singapore Laboratories Pte. Ltd. BLK 1022 Tai Seng Avenue no.06-3530</street><city>Tai Seng Industrial Estate Singapore 534415</city><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918169451" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>NAING SUE MON THET</last-name><address><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918136273" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>NAING, SUE MON THET</last-name></addressbook></inventor><inventor mxw-id="PPAR918982629" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>NAING, SUE MON THET</last-name><address><street>c/o Panasonic Singapore Laboratories Pte. Ltd. BLK 1022 Tai Seng Avenue no.06-3530</street><city>Tai Seng Industrial Estate Singapore 534415</city><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918173568" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>NISHI TAKAHIRO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918164000" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>NISHI, TAKAHIRO</last-name></addressbook></inventor><inventor mxw-id="PPAR918991075" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>NISHI, Takahiro c/o Panasonic Corporation</last-name><address><street>Intellectual Property Center IP Development Group 7F Twin 21 OBP Panasonic Tower 2-1-61, Shiromi</street><city>Chuo-ku Osaka 540-6207</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918146759" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>SHIBAHARA YOUJI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918155221" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>SHIBAHARA, YOUJI</last-name></addressbook></inventor><inventor mxw-id="PPAR918994527" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>SHIBAHARA, Youji c/o Panasonic Corporation</last-name><address><street>Intellectual Property Center IP Development Group 7F Twin 21 OBP Panasonic Tower 2-1-61, Shiromi</street><city>Chuo-ku Osaka 540-6207</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918144243" load-source="docdb" sequence="6" format="epo"><addressbook><last-name>SASAI HISAO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918161386" load-source="docdb" sequence="6" format="intermediate"><addressbook><last-name>SASAI, HISAO</last-name></addressbook></inventor><inventor mxw-id="PPAR918992294" load-source="patent-office" sequence="6" format="original"><addressbook><last-name>SASAI, Hisao c/o Panasonic Corporation</last-name><address><street>Intellectual Property Center IP Development Group 7F Twin 21 OBP Panasonic Tower 2-1-61, Shiromi</street><city>Chuo-ku Osaka 540-6207</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918152164" load-source="docdb" sequence="7" format="epo"><addressbook><last-name>SUGIO TOSHIYASU</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918172213" load-source="docdb" sequence="7" format="intermediate"><addressbook><last-name>SUGIO, TOSHIYASU</last-name></addressbook></inventor><inventor mxw-id="PPAR918993386" load-source="patent-office" sequence="7" format="original"><addressbook><last-name>SUGIO, Toshiyasu c/o Panasonic Corporation</last-name><address><street>Intellectual Property Center IP Development Group 7F Twin 21 OBP Panasonic Tower 2-1-61, Shiromi</street><city>Chuo-ku Osaka 540-6207</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918988930" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Grünecker, Kinkeldey, Stockmair &amp; Schwanhäusser Anwaltssozietät</last-name><iid>100060488</iid><address><street>Leopoldstrasse 4</street><city>80802 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2012001167-W"><document-id><country>JP</country><doc-number>2012001167</doc-number><kind>W</kind><date>20120221</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012114724-A1"><document-id><country>WO</country><doc-number>2012114724</doc-number><kind>A1</kind><date>20120830</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548801306" load-source="docdb">AL</country><country mxw-id="DS548834949" load-source="docdb">AT</country><country mxw-id="DS548846084" load-source="docdb">BE</country><country mxw-id="DS548842617" load-source="docdb">BG</country><country mxw-id="DS548842200" load-source="docdb">CH</country><country mxw-id="DS548846085" load-source="docdb">CY</country><country mxw-id="DS548834950" load-source="docdb">CZ</country><country mxw-id="DS548801307" load-source="docdb">DE</country><country mxw-id="DS548846086" load-source="docdb">DK</country><country mxw-id="DS548846087" load-source="docdb">EE</country><country mxw-id="DS548802180" load-source="docdb">ES</country><country mxw-id="DS548842618" load-source="docdb">FI</country><country mxw-id="DS548842201" load-source="docdb">FR</country><country mxw-id="DS548801308" load-source="docdb">GB</country><country mxw-id="DS548846088" load-source="docdb">GR</country><country mxw-id="DS548801309" load-source="docdb">HR</country><country mxw-id="DS548834951" load-source="docdb">HU</country><country mxw-id="DS548842206" load-source="docdb">IE</country><country mxw-id="DS548846089" load-source="docdb">IS</country><country mxw-id="DS548842619" load-source="docdb">IT</country><country mxw-id="DS548846090" load-source="docdb">LI</country><country mxw-id="DS548842620" load-source="docdb">LT</country><country mxw-id="DS548843045" load-source="docdb">LU</country><country mxw-id="DS548842621" load-source="docdb">LV</country><country mxw-id="DS548842622" load-source="docdb">MC</country><country mxw-id="DS548843046" load-source="docdb">MK</country><country mxw-id="DS548843047" load-source="docdb">MT</country><country mxw-id="DS548802181" load-source="docdb">NL</country><country mxw-id="DS548842455" load-source="docdb">NO</country><country mxw-id="DS548802182" load-source="docdb">PL</country><country mxw-id="DS548842623" load-source="docdb">PT</country><country mxw-id="DS548834952" load-source="docdb">RO</country><country mxw-id="DS548842624" load-source="docdb">RS</country><country mxw-id="DS548802183" load-source="docdb">SE</country><country mxw-id="DS548842207" load-source="docdb">SI</country><country mxw-id="DS548842456" load-source="docdb">SK</country><country mxw-id="DS548842457" load-source="docdb">SM</country><country mxw-id="DS548843048" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669776" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A filtering method according to the present invention is for filtering a plurality of blocks included in an image, and comprises: determining whether each of the blocks is an IPCM block or not (S201 and S202); filtering a non-IPCM block that is not an IPCM block among the blocks to generate filtered data (S204); outputting the filtered data as pixel values of the non-IPCM block, and outputting pixel values of the unfiltered IPCM block as pixel values of the IPCM block (S204 and S205).<img id="iaf01" file="imgaf001.tif" wi="80" he="58" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499149" lang="EN" source="EPO" load-source="docdb"><p>A filtering method according to the present invention is for filtering a plurality of blocks included in an image, and comprises: determining whether each of the blocks is an IPCM block or not (S201 and S202); filtering a non-IPCM block that is not an IPCM block among the blocks to generate filtered data (S204); outputting the filtered data as pixel values of the non-IPCM block, and outputting pixel values of the unfiltered IPCM block as pixel values of the IPCM block (S204 and S205).</p></abstract><description mxw-id="PDES63955206" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>[Technical Field]</b></heading><p id="p0001" num="0001">The present invention relates to a filtering method, a moving picture coding apparatus, a moving picture decoding apparatus, and a moving picture coding and decoding apparatus.</p><heading id="h0002"><b>[Background Art]</b></heading><p id="p0002" num="0002">Intra Pulse Code Modulation (IPCM) blocks are blocks of uncompressed video or image samples where luma and chroma samples are coded in the coded stream. These blocks are used in the case when the entropy coding unit produces more bits rather than reduces bits when coding the blocks of image samples.<br/>
In other words, the pixel values of the IPCM blocks are not compressed, ant thus the raw pixel values of the original image are used. The IPCM block is introduced in the H.264/AVC Video Compression Standard.</p><p id="p0003" num="0003">When IPCM blocks are coded in a coded stream in the H.264 Video Compression Standard, these IPCM blocks are coded as uncompressed data. No decoding is performed for these blocks. However, post-decoding processing (including filtering such as deblocking filtering) is still performed on the block boundaries which tend to be a cause of deterioration in image quality (for example, see Non-patent Literature (NPL) 1).</p><heading id="h0003"><b>[Citation List]</b></heading><heading id="h0004"><b>[Non Patent Literature]</b></heading><!-- EPO <DP n="2"> --><p id="p0004" num="0004"><b>[NPL 1]</b><br/><nplcit id="ncit0001" npl-type="s"><text>ISO/IEC 14496-10 "MPEG-4 Part 10 Advanced Video Coding</text></nplcit>"</p><heading id="h0005"><b>[Summary of Invention]</b></heading><heading id="h0006"><b>[Technical Problem]</b></heading><p id="p0005" num="0005">However, in the aforementioned conventional art, filtering is performed also on the boundary of both kinds of blocks that are an IPCM block and a non-IPCM block. Here, an IPCM block is a block as to which the original pixel values are used. Thus, the conventional art has a problem that the image quality of IPCM blocks deteriorates when filtering is performed.</p><p id="p0006" num="0006">The present invention aims to provide a filtering method which enables suppression of deterioration in the image quality of IPCM blocks.</p><heading id="h0007"><b>[Solution to Problem]</b></heading><p id="p0007" num="0007">In order to achieve the aforementioned object, a filtering method according to an aspect of the present invention is for filtering a plurality of blocks included in an image, the filtering method comprising: determining whether or not each of the blocks is an Intra Pulse Code Modulation (IPCM) block; filtering a non-IPCM block which is not the IPCM block out of the blocks to generate filtered data; and outputting the filtered data as a value of a pixel in the non-IPCM block, and outputting, as a value of a pixel in the IPCM block, an unfiltered value of the pixel in the IPCM block.</p><p id="p0008" num="0008">With this structure, the filtering method according to an embodiment of the present invention does not involve filtering on an IPCM block, and thus is capable of suppressing degradation in image quality of the IPCM block.</p><p id="p0009" num="0009"><!-- EPO <DP n="3"> --> In addition, in the filtering, the filtered data of the non-IPCM block may be generated by performing filtering using both the value of the pixel in the IPCM block and the value of the pixel in the non-IPCM block.</p><p id="p0010" num="0010">In addition, the filtering may be deblocking filtering, in the filtering, first filtered data may be generated by filtering a first non-IPCM block out of a first IPCM block and the first non-IPCM block which are adjacent to each other, and in the outputting, the first filtered data may be output as a value of a pixel in the first non-IPCM block, and an unfiltered value of a pixel in the first IPCM block may be output as a value of the pixel in the first IPCM block.</p><p id="p0011" num="0011">In addition, in the filtering, only the non-IPCM block out of the blocks may be filtered, and the IPCM block does not need to be filtered.</p><p id="p0012" num="0012">In addition, in the filtering, the filtered data may be generated by filtering all of the blocks, and in the outputting, a filtered value of the pixel in the IPCM block in the filtered data may be replaced by the unfiltered value of the pixel in the IPCM block.</p><p id="p0013" num="0013">Furthermore, a filtering method according to an aspect of the present invention is for filtering a boundary between an IPCM block and a non-Intra Pulse Code Modulation (IPCM) block which are adjacent to each other in an image, the filtering method comprising: setting a first filter strength for the non-IPCM block, and setting a second filter strength for the IPCM block, the second filter strength being lower than the first filter strength; and filtering the non-IPCM block using the first filter strength, and filtering the IPCM block using the second filter strength.</p><p id="p0014" num="0014">With this structure, the filtering method according to an embodiment of the present invention is capable of reducing the strength of filtering on the IPCM block, and thereby suppressing<!-- EPO <DP n="4"> --> degradation in image quality of the IPCM block.</p><p id="p0015" num="0015">In addition, further in the filtering method, the second filter strength may specify that filtering is skipped.</p><p id="p0016" num="0016">With this structure, the filtering method according to an embodiment of the present invention does not involve filtering on an IPCM block, and thus is capable of suppressing degradation in image quality of the IPCM block.</p><p id="p0017" num="0017">In addition, the first filter strength may be lower than a filter strength that is determined when the non-IPCM block is a block to be intra coded.</p><p id="p0018" num="0018">It is to be noted that the present invention can be realized as not only such a filtering method but also as a filtering apparatus including units corresponding to the unique steps included in the filtering method, and as a program for causing a computer to execute these unique steps. Naturally, such a program can be distributed through non-transitory computer-readable recording media such as CD-ROM etc. and communication media such as the Internet.</p><p id="p0019" num="0019">Furthermore, the present invention can be realized as a moving picture coding method and a moving picture decoding method each including such a filtering method. Furthermore, the present invention can be implemented as a moving picture coding apparatus and a moving picture decoding apparatus each including a filtering device, and as a moving picture coding and decoding apparatus including the moving picture coding apparatus and the moving picture decoding apparatus. Furthermore, the present invention can be implemented as a semiconductor integrated circuit (LSI) which exerts part or all of the functions of the filtering device, the moving picture coding apparatus, or the moving picture decoding apparatus.</p><heading id="h0008"><b>[Advantageous Effects of Invention]</b></heading><!-- EPO <DP n="5"> --><p id="p0020" num="0020">The present invention provides a filtering method which enables suppression of deterioration in the image quality of IPCM blocks.</p><heading id="h0009"><b>[Brief Description of the Drawings]</b></heading><p id="p0021" num="0021"><ul><li>[<figref idrefs="f0001">FIG. 1</figref>]<br/>
<figref idrefs="f0001">FIG. 1</figref> is an illustration of a method of determining a filter strength at a block boundary between an IPCM block and a non-IPCM block, in the H.264 Standard.</li><li>[<figref idrefs="f0002">FIG. 2</figref>]<br/>
<figref idrefs="f0002">FIG. 2</figref> is a flowchart of processes of filtering at a block boundary, in the H.264 Standard.</li><li>[<figref idrefs="f0003">FIG. 3</figref>]<br/>
<figref idrefs="f0003">FIG. 3</figref> is a flowchart of processes of determining a filter strength, in the H.264 Standard.</li><li>[<figref idrefs="f0004">FIG. 4</figref>]<br/>
<figref idrefs="f0004">FIG. 4</figref> is an illustration of a filter strength in a filtering method according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0005">FIG. 5</figref>]<br/>
<figref idrefs="f0005">FIG. 5</figref> is a flowchart of a filtering method according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0006">FIG. 6</figref>]<br/>
<figref idrefs="f0006">FIG. 6</figref> is a block diagram of a moving picture coding apparatus according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0007">FIG. 7A</figref>]<br/>
<figref idrefs="f0007">FIG. 7A</figref> is an illustration of an example of a block boundary according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0007">FIG. 7B</figref>]<br/>
<figref idrefs="f0007">FIG. 7B</figref> is an illustration of an example of a block boundary according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0008">FIG. 8A</figref>]<br/>
<figref idrefs="f0008">FIG. 8A</figref> is an illustration of operations performed by a filtering unit according to Embodiment 1 of the present invention.<!-- EPO <DP n="6"> --></li><li>[<figref idrefs="f0008">FIG. 8B</figref>]<br/>
<figref idrefs="f0008">FIG. 8B</figref> is an illustration of operations performed by a filtering unit according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0009">FIG. 9</figref>]<br/>
<figref idrefs="f0009">FIG. 9</figref> is a block diagram of an image decoding apparatus according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0010">FIG. 10A</figref>]<br/>
<figref idrefs="f0010">FIG. 10A</figref> is an illustration of an exemplary structure of filtering units according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0010">FIG. 10B</figref>]<br/>
<figref idrefs="f0010">FIG. 10B</figref> is an illustration of an exemplary structure of a filtering unit according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0010">FIG. 10C</figref>]<br/>
<figref idrefs="f0010">FIG. 10C</figref> is an illustration of an exemplary structure of filtering units according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0010">FIG. 10D</figref>]<br/>
<figref idrefs="f0010">FIG. 10D</figref> is an illustration of an exemplary structure of a filtering unit according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0011">FIG. 10E</figref>]<br/>
<figref idrefs="f0011">FIG. 10E</figref> is an illustration of an exemplary structure of filtering units according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0011">FIG. 10F</figref>]<br/>
<figref idrefs="f0011">FIG. 10F</figref> is an illustration of an exemplary structure of filtering units according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0011">FIG. 10G</figref>]<br/>
<figref idrefs="f0011">FIG. 10G</figref> is an illustration of an exemplary structure of filtering units according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0011">FIG. 10H</figref>]<br/>
<figref idrefs="f0011">FIG. 10H</figref> is an illustration of an exemplary structure of a filtering unit according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0012">FIG. 11</figref>]<br/>
<figref idrefs="f0012">FIG. 11</figref> is a flowchart of a filtering method according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0013">FIG. 12</figref>]<br/>
<figref idrefs="f0013">FIG. 12</figref> is a flowchart of a filtering method according to<!-- EPO <DP n="7"> --> Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0014">FIG. 13</figref>]<br/>
<figref idrefs="f0014">FIG. 13</figref> is an illustration of filter strengths and block units according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0015">FIG. 14A</figref>]<br/>
<figref idrefs="f0015">FIG. 14A</figref> is an illustration of an application range of a flag indicating that a filter is ON according to a comparison example in the present invention.</li><li>[<figref idrefs="f0015">FIG. 14B</figref>]<br/>
<figref idrefs="f0015">FIG. 14B</figref> is an illustration of an application range of a flag indicating that a filter is ON according to Embodiment 1 of the present invention.</li><li>[<figref idrefs="f0016">FIG. 15</figref>]<br/>
<figref idrefs="f0016">FIG. 15</figref> shows an overall configuration of a content providing system for implementing content distribution services.</li><li>[<figref idrefs="f0017">FIG. 16</figref>]<br/>
<figref idrefs="f0017">FIG. 16</figref> shows an overall configuration of a digital broadcasting system.</li><li>[<figref idrefs="f0018">FIG. 17</figref>]<br/>
<figref idrefs="f0018">FIG. 17</figref> shows a block diagram illustrating an example of a configuration of a television.</li><li>[<figref idrefs="f0019">FIG. 18</figref>]<br/>
<figref idrefs="f0019">FIG. 18</figref> shows a block diagram illustrating an example of a configuration of an information reproducing/recording unit that reads and writes information from and on a recording medium that is an optical disk.</li><li>[<figref idrefs="f0020">FIG. 19</figref>]<br/>
<figref idrefs="f0020">FIG. 19</figref> shows an example of a configuration of a recording medium that is an optical disk.</li><li>[<figref idrefs="f0021">FIG. 20A</figref>]<br/>
<figref idrefs="f0021">FIG. 20A</figref> shows an example of a cellular phone.</li><li>[<figref idrefs="f0021">FIG. 20B</figref>]<br/>
<figref idrefs="f0021">FIG. 20B</figref> is a block diagram showing an example of a configuration of a cellular phone.</li><li>[<figref idrefs="f0022">FIG. 21</figref>]<br/>
<!-- EPO <DP n="8"> --><figref idrefs="f0022">FIG. 21</figref> illustrates a structure of multiplexed data.</li><li>[<figref idrefs="f0023">FIG. 22</figref>]<br/>
<figref idrefs="f0023">FIG. 22</figref> schematically shows how each stream is multiplexed in multiplexed data.</li><li>[<figref idrefs="f0024">FIG. 23</figref>]<br/>
<figref idrefs="f0024">FIG. 23</figref> shows how a video stream is stored in a stream of PES packets in more detail.</li><li>[<figref idrefs="f0025">FIG. 24</figref>]<br/>
<figref idrefs="f0025">FIG. 24</figref> shows a structure of TS packets and source packets in the multiplexed data.</li><li>[<figref idrefs="f0025">FIG. 25</figref>]<br/>
<figref idrefs="f0025">FIG. 25</figref> shows a data structure of a PMT.</li><li>[<figref idrefs="f0026">FIG. 26</figref>]<br/>
<figref idrefs="f0026">FIG. 26</figref> shows an internal structure of multiplexed data information.</li><li>[<figref idrefs="f0027">FIG. 27</figref>]<br/>
<figref idrefs="f0027">FIG. 27</figref> shows an internal structure of stream attribute information.</li><li>[<figref idrefs="f0028">FIG. 28</figref>]<br/>
<figref idrefs="f0028">FIG. 28</figref> shows steps for identifying video data.</li><li>[<figref idrefs="f0029">FIG. 29</figref>]<br/>
<figref idrefs="f0029">FIG. 29</figref> shows an example of a configuration of an integrated circuit for implementing the moving picture coding method and the moving picture decoding method according to each of embodiments.</li><li>[<figref idrefs="f0030">FIG. 30</figref>]<br/>
<figref idrefs="f0030">FIG. 30</figref> shows a configuration for switching between driving frequencies.</li><li>[<figref idrefs="f0031">FIG. 31</figref>]<br/>
<figref idrefs="f0031">FIG. 31</figref> shows steps for identifying video data and switching between driving frequencies.</li><li>[<figref idrefs="f0031">FIG. 32</figref>]<br/>
<figref idrefs="f0031">FIG. 32</figref> shows an example of a look-up table in which video data standards are associated with driving frequencies.</li><li>[<figref idrefs="f0032">FIG. 33A</figref>]<br/>
<figref idrefs="f0032">FIG. 33A</figref> is a diagram showing an example of a configuration for<!-- EPO <DP n="9"> --> sharing a module of a signal processing unit.</li><li>[<figref idrefs="f0032">FIG. 33B</figref>]<br/>
<figref idrefs="f0032">FIG. 33B</figref> is a diagram showing another example of a configuration for sharing a module of the signal processing unit.</li></ul></p><heading id="h0010"><b>[Description of Embodiments]</b></heading><p id="p0022" num="0022">Hereinafter, embodiments of the present invention are described in detail with reference to the Drawings. Each of the embodiments described below shows a preferred specific example of the present invention. The numerical values, shapes, materials, structural elements, the arrangement and connection of the structural elements, steps, the processing order of the steps etc. shown in the following embodiments are mere examples, and therefore do not limit the present invention. The present invention is defined by the Claims. Therefore, among the structural elements in the following embodiments, the structural elements not recited in any one of the independent Claims defining the most generic concept of the present invention are not necessarily required to achieve the aim of the present invention. Such optional structural elements are described as structural elements of corresponding ones of preferred embodiments.</p><p id="p0023" num="0023">Before giving descriptions of the embodiments of the present invention, a description is given of inter-pixel filtering (deblocking filtering) in a boundary between an IPCM block and a non-IPCM block in coding and decoding in H.264.</p><p id="p0024" num="0024"><figref idrefs="f0001">FIG. 1</figref> is a flowchart indicating a concept of a method of determining a filter strength of an inter-pixel filter at a boundary between an IPCM block (macroblock) and a non-IPCM block (macroblock) in coding and decoding schemes according to the H.264 Standard.</p><p id="p0025" num="0025"><figref idrefs="f0001">FIG. 1</figref> schematically shows the boundary between the two<!-- EPO <DP n="10"> --> macroblocks one of which is the non-IPCM macroblock (the left side in the illustration) and the other is the IPCM macroblock (the right side in the illustration). Three circles positioned at the left side in <figref idrefs="f0001">FIG. 1</figref> show three pixels (typically, denoted as p0, p1, and p2 sequentially from the boundary). These left-side three pixels belong to a first block (p block) in a first unit (a coded unit block, hereinafter referred to as a CU block). These three pixels also belong to a first macroblock of a non-IPCM type in a macroblock unit block (hereinafter referred to as an MB) that is a unit larger than the first unit.</p><p id="p0026" num="0026">Likewise, three circles positioned at the right side in <figref idrefs="f0001">FIG. 1</figref> show three pixels (typically, denoted as q0, q1, and q2 sequentially from the boundary). These three pixels belong to a second block (a q block) in the first unit. These three pixels also belong to a second macroblock of an IPCM type in an MB.</p><p id="p0027" num="0027">Hereinafter, a CU block that belongs to a macroblock of an IPCM type is referred to as an IPCM block, and a CU block that belongs to a macroblock of a non-IPCM block is referred to as a non-IPCM block. In other words, a non-IPCM block means a bock that is not an IPCM block.</p><p id="p0028" num="0028">Hereinafter, a description is given of a method of determining a filter strength that is applied to pixels q0, q1, p0, and p1 across the block boundary (or a boundary between block units larger than the unit of coding).</p><p id="p0029" num="0029">A filtering method in H.264 (the filtering method described in Clause 8.7 of the Standard) defines that a filter strength for a boundary between two blocks is normally determined based on the average value of a value qPp derived from a quantization parameter QPp of a first macroblock and a quantization parameter QPq of a second macroblock. More specifically, the following (Expression 1) shown as Expression 8-461 in the Standard is used.</p><p id="p0030" num="0030"><!-- EPO <DP n="11"> --><maths id="math0001" num="(Expression 1)"><math display="block"><mi>QPav</mi><mo>=</mo><mfenced separators=""><mi>QPp</mi><mo>+</mo><mi>QPq</mi><mo>+</mo><mn>1</mn></mfenced><mo>&gt;</mo><mo>&gt;</mo><mn>1</mn><mo>=</mo><mo>&gt;</mo><mfenced separators=""><mi>QPp</mi><mo>+</mo><mn>1</mn></mfenced><mo>&gt;</mo><mo>&gt;</mo><mn>1</mn></math><img id="ib0001" file="imgb0001.tif" wi="156" he="15" img-content="math" img-format="tif"/></maths></p><p id="p0031" num="0031">This (Expression 1) shows the following calculation. Filter strengths are designed such that a stronger (in smoothness) filter is applied as the value of a quantization parameter is larger, with an aim to, for example, absorb a quantization error.</p><p id="p0032" num="0032">In the illustration, a left-side quantization parameter QPp is a quantization parameter that is coded for the first macroblock (p-side block). For convenience, QP used here is equivalent in meaning to a value qP that is used for the purpose of filtering. In addition, a right-side quantization parameter QPq is a quantization parameter that should be applied to the second macroblock (q-side block).</p><p id="p0033" num="0033">Here, as described in Clause 8.7.2 of the H.264 Standard, the value of the quantization parameter qPq (QPq in the illustration) of the IPCM block is set to 0. In other words, "Both sides filtered with weak strength" is realized. This means that, as for a boundary between two blocks, a filter having a filter strength is applied to both the blocks. This also means that it is impossible to differentiate filter strengths for the respective two blocks. In other words, filtering using the same filter strength is executed on both the blocks across the boundary between an IPCM block and a non-IPCM block.</p><p id="p0034" num="0034"><figref idrefs="f0002">FIG. 2</figref> is a flowchart illustrating a concept of filtering at a block boundary described in Clause 8.7 "Deblocking filter process" of the H.264 Standard.</p><p id="p0035" num="0035">This flowchart roughly explains the following three points regarding an H.264 filter.</p><p id="p0036" num="0036">(1) Order of determining filter strength (bS) in Clause 8.7.2.1 Step S101 corresponds to the process of "Deviation process for the luma content dependent boundary filter strength" described in<!-- EPO <DP n="12"> --> Clause 8.7.2.1. This process determines a filter strength in filtering on a block boundary according to a block type and the like. Here, the filter strength is classified into a level among levels ranging from strong filtering (bS = 4) to no filtering (bS = 0). This point is described with reference to <figref idrefs="f0003">FIG. 3</figref>.</p><p id="p0037" num="0037">(2) Process of setting quantization parameter qPz = 0 for IPCM block<br/>
Steps S102 to S107 are processes for setting a value of a quantization parameter qP for determining a filter strength as described with reference to <figref idrefs="f0001">FIG. 1</figref>. As for normal non-IPCM blocks (No in Step S102 or S105), the quantization parameter QP [i] (i denotes 0 or 1) of a macroblock to which the non-IPCM block belongs is set as a quantization parameter qP [i] for determining a filter strength (Step S103 and S106). On the other hand, when a current block is an IPCM block (Yes in S102 or S105), the quantization parameter qP of the IPCM block is set to 0 (Step S104 and S107).</p><p id="p0038" num="0038">Next, in Step S108, qPav is calculated according to (Expression 1).</p><p id="p0039" num="0039">(3) One bS (or filterSampleFlag) is shared by both blocks</p><p id="p0040" num="0040">Hereinafter, a description is given of applying a determined filter strength (a value) (or a determination flag specifying whether to perform filtering or not) in common to two blocks across a boundary.</p><p id="p0041" num="0041">First, after Step S108, calculation using Expressions from 8-462 to 8-467 in the Standard is performed. More specifically, (1) derivation of an index for slight adjustment of a filter strength that is set in Step S101 and (2) derivation of a threshold value for edge determination are performed.</p><p id="p0042" num="0042">Then, the filter strength determined through these processes is set to both the blocks (S109). More specifically, even when the filter<!-- EPO <DP n="13"> --> strength bS is any one of 1 to 4, the value derived using the common bS deriving method is applied to the two blocks. For example, when the filter strength bS = 4 is satisfied, the value of the pixel p of the first block is derived using Expressions (8-486 and 8-487) in the Standard. In addition, the value of the pixel q included in the second block is derived using the same filter strength as the filter strength used in the derivation of the value of the pixel p. Furthermore, a determination on whether to perform filtering (derivation of the value of filterSamplesFlag (also referred to as a filtering execution flag)) is performed in preparation for, for example, a case where a block boundary is finally found to be an actual edge. More specifically, this determination is made by comparison between two threshold values (two_threths (α, β)) derived in Step S109 and actual pixel values of p and q (see Expression (8-468) in the Standard). However, as described above, it is impossible to set different values (or execution or non-execution) as the filter strengths bS or the filtering execution flags for the respective two blocks.</p><p id="p0043" num="0043">In other words, in H.264, it is impossible to perform processing suitable for IPCM when seen within a filtering process.</p><p id="p0044" num="0044"><figref idrefs="f0003">FIG. 3</figref> is a flowchart indicating the order of deciding (order of determining) a filter strength (bS) that is applied to pixels located across a boundary between two macroblocks, as described in Clause 8.7.2.1 of the Standard. This flowchart illustrates the determination order in Step S101 shown in <figref idrefs="f0002">FIG. 2</figref>, and conforms to the determination flow in Clause 8.7.2.1 of the Standard.</p><p id="p0045" num="0045">First, a determination is made as to whether the boundary defined by the pixel p0 in the first block and the pixel q0 in the second block also corresponds to a boundary between macroblocks or not (S121). In other words, a determination is made as to whether p0 and q0 are located across the macroblock boundary.</p><p id="p0046" num="0046">When the block boundary between the processing targets is not<!-- EPO <DP n="14"> --> a macroblock boundary (No in S121), the filter strength (bS) is determined to be any one of 3, 2, 1, and 0 that is smaller than N (= 4) (S124).</p><p id="p0047" num="0047">On the other hand, when the block boundary between the processing targets is a macroblock boundary (Yes in S121), a determination is made as to whether one (or both) of p0 and q0 belongs to a macroblock coded using the intra prediction mode (S122).</p><p id="p0048" num="0048">When both the blocks do not belong to a macroblock coded using the intra prediction mode (No in S122), a determination based on another determination factor is executed (S125).</p><p id="p0049" num="0049">On the other hand, when at least one of the blocks belongs to a macroblock coded using the intra prediction mode (Yes in S122), the filter strength is (always) set to bS = 4 that means the highest strength without considering any other determination factor (S123).</p><p id="p0050" num="0050">In this way, the conventional filtering method does not make it possible to execute internal filtering processes for such two blocks that are located across the boundary in different manners (in terms of filter strengths and application or non-application of a filter). In addition, the Standard considers processes up to the determination of a filter strength focusing on IPCM, but does not make it possible to perform control for outputting raw pixel values of an IPCM block when one of the blocks is an IPCM block and the other is a non-IPCM block.</p><p id="p0051" num="0051">An IPCM block is a block including pixel values faithfully showing "the original image" without a coding loss.<br/>
Accordingly, in the filtering process, it is desirable to control filtering at the boundary with an IPCM block or to control application of a filter to the IPCM block.<!-- EPO <DP n="15"> --></p><heading id="h0011">(Embodiment 1)</heading><p id="p0052" num="0052">Hereinafter, a description is given of a filtering method according to Embodiment 1 of the present invention.</p><p id="p0053" num="0053"><figref idrefs="f0004">FIG. 4</figref> illustrates a concept of a method of determining a factor for application of the filtering method according to this embodiment and determining a filter strength of an inter-pixel filter. Three circles in the illustration show pixels included in the first block as in <figref idrefs="f0001">FIG. 1</figref>. The same elements as in <figref idrefs="f0001">FIG. 1</figref> among the remaining elements are not described again.</p><p id="p0054" num="0054">A filtering method according to this embodiment is for filtering a plurality of blocks included in an image. Typically, the filtering method is applied to deblocking filtering that is performed on a boundary between adjacent blocks. Hereinafter, a description is given of an example of applying deblocking filtering to the present invention. However, the present invention is also applicable to in-loop filtering (Adaptive Loop Filter) other than deblocking filtering.</p><p id="p0055" num="0055">The filtering method according to this embodiment is different from the filtering method described with reference to <figref idrefs="f0001">FIG. 1</figref> in the points indicated below.</p><p id="p0056" num="0056">First, unfiltered pixel values are output as the pixel values of three pixels of the block that is IPCM at the right side in the illustration.</p><p id="p0057" num="0057">In addition, control is performed to differentiate filtering for the first block and filtering for the second block. For example, a filter is applied to one (at the left side) of the blocks across the boundary in the illustration, and no filter is applied to the other (at the right side). In this way, such control for performing the different filtering processes between the blocks is performed.</p><p id="p0058" num="0058">Next, the filter strength for the left-side block to which the filter<!-- EPO <DP n="16"> --> is applied is derived based only on the quantization parameter QPp of the left-side block. In other words, the filter strength of the non-IPCM block at the left side is derived without using the quantization parameter QPq of the right-side macroblock or any other substitute fixed value (0 in the conventional example).</p><p id="p0059" num="0059">A determination regarding IPCM in H.264 shown in <figref idrefs="f0002">FIG. 2</figref> is made as to whether or not a current block is an IPCM macroblock. Here, such a determination as to whether or not a current block is an IPCM macroblock is made based on a prediction unit (PU) that has a variable size. In other words, an IPCM block below is a block that belongs to a PU block of an IPCM type, and a non-IPCM block is a block that belongs to a PU block of a non-IPCM type.</p><p id="p0060" num="0060">Hereinafter, these operations are described with reference to the drawings.</p><p id="p0061" num="0061"><figref idrefs="f0005">FIG. 5</figref> is a flowchart of a processing order in a filtering method according to this embodiment.</p><p id="p0062" num="0062">The filtering method according to this embodiment is executed as a part of coding processes or decoding processes. Accordingly, this filtering method is executed by one of a filtering unit in a coding loop within a moving picture coding apparatus shown in <figref idrefs="f0006">FIG. 6</figref> described later and a filtering unit in a decoding loop within a moving picture decoding apparatus shown in <figref idrefs="f0009">FIG. 9</figref> described later, and a control unit for controlling the filter.</p><p id="p0063" num="0063">The control unit determines whether the PU block type of one of the two blocks sharing the boundary is IPCM or not (S201). In the exemplary case of <figref idrefs="f0004">FIG. 4</figref>, the right-side PU block is an IPCM block, and thus the one is determined to be of an IPCM type. More specifically, the control unit executes this determination using a macroblock type, or an attribute parameter of image data such as a motion compensation block size.<!-- EPO <DP n="17"> --></p><p id="p0064" num="0064">When at least one of the two blocks is an IPCM block (Yes in S201), the control unit determines whether the other of the two blocks is an IPCM block or not (S202). For example, as in the case of the illustration in <figref idrefs="f0004">FIG. 4</figref>, the right-side block is an IPCM block. Accordingly, the control unit determines whether the other block that is the left-side block is an IPCM block or not.</p><p id="p0065" num="0065">In other words, in steps S201 and S202, the control unit determines whether each of the blocks is an IPCM block or a non-IPCM block. More specifically, the control unit determines (1) whether both of the two blocks are non-IPCM blocks (No in S201), and (2) whether both of the two blocks are IPCM blocks (Yes in S202) or (3) whether one of the blocks is an IPCM block and the other is a non-IPCM block (No in S202).</p><p id="p0066" num="0066">When the other block is an IPCM block (Yes in S202), that is, when both the blocks are IPCM blocks, filtering is skipped for the pixels p and q of both the blocks (both of the first block and the second block (S203).</p><p id="p0067" num="0067">On the other hand, when the other block is not an IPCM block (No in S202), that is, only one of the blocks is an IPCM block, and the other is a non-IPCM block, the control unit performs control for causing the filtering unit to execute filtering in Steps S204 and S205.</p><p id="p0068" num="0068">First, the filtering unit executes filtering using a predetermined strength on pixels included in the non-IPCM block (for example, the three pixels at the left side in <figref idrefs="f0004">FIG. 4</figref>), and outputs the filtered pixel values as the pixel values of the non-IPCM block (S204). In addition, this filtering also uses pixel values of an IPCM block, in addition to the pixel values of the non-IPCM block. More specifically, the filtering unit smoothes the pixel values of the non-IPCM block and the pixel values of the IPCM block to calculate the pixel values of the filtered non-IPCM block.<!-- EPO <DP n="18"> --></p><p id="p0069" num="0069">In addition, the filtering unit outputs the unfiltered pixel values for the pixels included in the IPCM block (pixels q0, q1,... at the q side) (S205). Here, the unfiltered pixel values are output in the following two conceivable cases.</p><p id="p0070" num="0070">A first method is a method of filtering a non-IPCM block, and outputting the original pixel values of an IPCM block without filtering.</p><p id="p0071" num="0071">A second method is a method of filtering both of a non-IPCM block and an IPCM block, replacing the pixel values of the IPCM block among the filtered pixel values by the original pixel values before the filtering, and outputting the replacement pixel values. In any one of the cases, the IPCM block's pixel values that are output are the original pixel values before the execution of the filtering.</p><p id="p0072" num="0072">The filtering method can be regarded as involving control for taking different filtering approaches (filter strengths, application or non-application of a filter, and the number(s) of pixels in the application) between the blocks.</p><p id="p0073" num="0073">The filtering (especially, operations by the control unit and the filtering unit) in Steps S204 and S205 are described later with reference to <figref idrefs="f0006 f0007 f0008">FIGS. 6 to 8</figref>.</p><p id="p0074" num="0074">In addition, when both the blocks are non-IPCM blocks in Step S201 (No in S201), the control unit performs default filtering operation (S206). In other words, the control unit executes filtering using a predetermined filter strength on both the blocks.</p><p id="p0075" num="0075">Hereinafter, a description is given of a moving picture coding apparatus which performs the filtering method.</p><p id="p0076" num="0076"><figref idrefs="f0006">FIG. 6</figref> is a functional block diagram of a moving picture coding apparatus 100 according to this embodiment of the present invention.<!-- EPO <DP n="19"> --> The moving picture coding apparatus 100 shown in <figref idrefs="f0006">FIG. 6</figref> codes an input image signal 120 to generate a coded bit stream 132. The moving picture coding apparatus 100 comprises a subtractor 101, an orthogonal transform unit 102, a quantization unit 103, an inverse quantization unit 104, an inverse orthogonal transform unit 105, an adder 106, a filtering unit 115, a memory 109, a prediction unit 110, a variable length coding unit 111, a selecting unit 112, and a control unit 113.</p><p id="p0077" num="0077">The subtractor 101 calculates a difference between the input image signal 120 and a prediction image signal 130 to generate a residual signal 121. The orthogonal transform unit 102 performs orthogonal transform on the residual signal 121 to generate a transform coefficient 122. The quantization unit 103 quantizes the transform coefficient 122 to generate the quantized coefficient 123.</p><p id="p0078" num="0078">The inverse quantization unit 104 performs inverse quantization on the quantized coefficient 123 to generate the transform coefficient 124. The inverse orthogonal transform unit 105 performs inverse orthogonal transform on the transform coefficient 124 to generate a decoded residual signal 125. The adder 106 adds the decoded residual signal 125 and the prediction image signal 130 to generate a decoded image signal 126.</p><p id="p0079" num="0079">The filtering unit 115 filters the decoded image signal 126 to generate an image signal 128, and stores the generated image signal 128 in the memory 109.</p><p id="p0080" num="0080">The prediction unit 110 selectively performs intra prediction and inter prediction using the image signal 128 stored in the memory 109 to generate a prediction image signal 130.</p><p id="p0081" num="0081">The variable length coding unit 111 performs variable length coding (entropy coding) on the quantized coefficient 123 to generate a coded signal 131.<!-- EPO <DP n="20"> --></p><p id="p0082" num="0082">The selecting unit 112 selects the input image signal 120 when a current block is an IPCM block, and selects a coded signal 131 when a current block is a non-IPCM block. Then, the selecting unit 112 outputs the selected signal as a coded bit stream 132.</p><p id="p0083" num="0083">The control unit 113 controls the filtering unit 115 and the selecting unit 112.</p><p id="p0084" num="0084">Here, the orthogonal transform unit 102 and the quantization unit 103 are examples of transform and quantization units which generate a quantization coefficient by performing transform and quantization on the residual signal. In addition, the variable length coding unit 111 is an example of a coding unit which codes the quantized coefficient to generate a coded signal. In other words, the inverse quantization unit 104 and the inverse orthogonal transform unit 105 are examples of an inverse quantization unit and an inverse transform unit which generate a decoded residual signal by performing inverse quantization and inverse transform on the quantized coefficient.</p><p id="p0085" num="0085">Here, especially major elements of the moving picture coding apparatus 100 according to this embodiment are the control unit 113 and the filtering unit 115.</p><p id="p0086" num="0086">As described above, the filtering method according to this embodiment is executed as parts of the coding processes and the decoding processes. Accordingly, the filtering unit 115 is located before the memory 109 for holding reference pictures etc. The filtering unit 115 stores, in the memory 109 in the loops, the result of executing the filtering (or the result of skipping the filtering). In this respect, the filtering unit 115 is the same as a filter called a Loop filter in H.264.</p><p id="p0087" num="0087">In addition, the filtering unit 115 has two input lines. A first<!-- EPO <DP n="21"> --> one of the input signals is a decoded image signal 126 representing the pixel values of the non-IPCM block, and a second one of the input signals is an input image signal 120 representing the pixel values of the IPCM block. Here, the decoded image signal 126 is a reconstructed coded image signal after being subjected to transform, quantization, inverse quantization, and inverse transform. In addition, the input image signal 120 is the original image signal which is not subjected to the coding and decoding.</p><p id="p0088" num="0088">Under control of the control unit 113, the filtering unit 115 outputs the unfiltered original pixel values of the IPCM block, and filters the pixel values of the non-IPCM block and outputs the filtered values.</p><p id="p0089" num="0089">This filtering unit 115 includes a filter unit 107 and a selecting unit 108. The filter unit 107 filters the decoded image signal 126 to generate an image signal 127. The selecting unit 108 selects the image signal 127 when a current block is an IPCM block, and selects an input image signal 120 when a current block is a non-IPCM block and then outputs the selected signal as an image signal 128.</p><p id="p0090" num="0090">Each of <figref idrefs="f0007">FIG. 7A and 7B</figref> is an illustration of an example of pixels across a boundary between two blocks. In the example shown in <figref idrefs="f0007">FIG. 7A</figref>, the two blocks are adjacent to each other in the horizontal direction. Here, the block including the pixels p0 to pn at the left side is referred to as a first block. This first block is a non-IPCM block. In addition, the other block is referred to as a second block. This second block is an IPCM block. Here, as shown in <figref idrefs="f0007">FIG. 7B</figref>, the filtering in this embodiment is naturally applicable in the case where an IPCM block and a non-IPCM block are adjacent to each other in the vertical direction.</p><p id="p0091" num="0091">Hereinafter, a description is given of a specific example of operations by the filtering unit 115.</p><p id="p0092" num="0092"><!-- EPO <DP n="22"> --> Each of <figref idrefs="f0008">FIG. 8A and FIG. 8B</figref> is an illustration of operations performed by the filtering unit 115 in the case of filtering pixels p [i] and q [j] included in the two blocks illustrated in <figref idrefs="f0007">FIG. 7A</figref>. In other words, the first block belongs to the non-IPCM block, and the second block is the IPCM block.</p><p id="p0093" num="0093">The filtering unit 115 performs operations shown in <figref idrefs="f0008">FIG. 8A and FIG. 8B</figref> according to a control signal from the control unit 113.</p><p id="p0094" num="0094"><figref idrefs="f0008">FIG. 8A</figref> is an illustration of an operation by the filtering unit 115 on the non-IPCM block. This operation corresponds to Step S204 shown in <figref idrefs="f0005">FIG. 5</figref>. In other words, the filtering unit 115 calculates output results pf0, pf1,... of the pixels corresponding to the first block, using both the pixel values (p0, p1,...) of the first block and the pixel values (q0, q1,...) of the second block.</p><p id="p0095" num="0095"><figref idrefs="f0008">FIG. 8B</figref> is an illustration of operations by the filtering unit 115 on the IPCM block. This operation corresponds to Step S205 shown in <figref idrefs="f0005">FIG. 5</figref>. In other words, the filtering unit 115 outputs the same values (unfiltered pixel values) as the input values q0, q1, and q2, for the pixels of the second block.</p><p id="p0096" num="0096">Hereinafter, a description is given of a moving picture decoding apparatus which performs the filtering method.</p><p id="p0097" num="0097"><figref idrefs="f0009">FIG. 9</figref> is a functional block diagram of a moving picture decoding apparatus according to this embodiment.</p><p id="p0098" num="0098">The moving picture decoding apparatus 200 shown in <figref idrefs="f0009">FIG. 9</figref> decodes the coded bit stream 232 to generate an output image signal 220. Here, the coded bit stream 232 is, for example, a coded bit stream 132 generated by the moving picture coding apparatus 100.</p><p id="p0099" num="0099">This moving picture decoding apparatus 200 comprises an inverse quantization unit 204, an inverse orthogonal transform unit<!-- EPO <DP n="23"> --> 205, an adder 206, a filtering unit 215, a memory 209, a prediction unit 210, a variable length decoding unit 211, a distributing unit 212, and a control unit 231.</p><p id="p0100" num="0100">The distributing unit 212 supplies the coded bit stream 232 to the filtering unit 215 when a current block is an IPCM block, and supplies the coded bit stream 232 to the variable length decoding unit 211 when a current block is a non-IPCM block.</p><p id="p0101" num="0101">The variable length decoding unit 211 performs variable length decoding (entropy decoding) on the coded bit stream 232 to generate a quantized coefficient 223.</p><p id="p0102" num="0102">The inverse quantization unit 204 performs inverse quantization on the transform coefficient 223 to generate the transform coefficient 224. The inverse orthogonal transform unit 205 performs inverse orthogonal transform on the transform coefficient 224 to generate a decoded residual signal 225. The adder 206 adds the decoded residual signal 225 and the prediction image signal 230 to generate a decoded image signal 226.</p><p id="p0103" num="0103">The filtering unit 215 filters the decoded image signal 226 to generate an image signal 228, and stores the generated image signal 228 in the memory 209.</p><p id="p0104" num="0104">This filtering unit 215 includes a filter unit 207 and a selecting unit 208. The filter unit 207 filters the decoded image signal 226 to generate an image signal 227. The selecting unit 208 selects the image signal 227 when a current block is an IPCM block, and selects an input image signal 232 when a current block is a non-IPCM block and then outputs the selected signal as an image signal 228.</p><p id="p0105" num="0105">In addition, the image signal 228 stored in the memory 209 is output as an output image signal 220.</p><p id="p0106" num="0106"><!-- EPO <DP n="24"> --> The prediction unit 210 selectively performs intra prediction and inter prediction using the image signal 228 stored in the memory 209 to generate a prediction image signal 230.</p><p id="p0107" num="0107">The control unit 213 controls the filtering unit 215 and the distributing unit 212.</p><p id="p0108" num="0108">Here, the variable length decoding unit 211 is an example of a decoding unit which decodes the coded bit stream to generate a quantized coefficient. In other words, the inverse quantization unit 204 and the inverse orthogonal transform unit 205 are examples of an inverse quantization unit and an inverse transform unit which generate a decoded residual signal by performing inverse quantization and inverse transform on the quantized coefficient.</p><p id="p0109" num="0109">Here, operations by the filtering unit 215 are the same as operations by the filtering unit 115 of the moving picture coding apparatus 100. The control unit 213 is different from the control unit 113 included in the moving picture coding apparatus 100 in the point of determining whether the PU unit type of the first block or the second block is IPCM or not from the coded bit stream 232 that is an input coded string, but is the same in the other functions.</p><p id="p0110" num="0110">Hereinafter, descriptions are given of structures of variations of the filtering units 115 and 215.</p><p id="p0111" num="0111">Each of <figref idrefs="f0010 f0011">FIG. 10A to FIG. 10H</figref> is an illustration of a conceivable implementation regarding a filter input-output relationship of filtering units 115 and 215.</p><p id="p0112" num="0112">As shown in <figref idrefs="f0010">FIG. 10A</figref>, each of the filter units 107 and 207 may include filter units 301 and 302 connected in series. For example, the first filter unit 301 and the second filter unit 302 may perform different processes. In this case, for example, the whole filtering processes are bypassed for the IPCM block.<!-- EPO <DP n="25"> --></p><p id="p0113" num="0113">As shown in <figref idrefs="f0010">FIG. 10B</figref>, the filter unit 311 may perform filtering using both the input signals. In this case, the selecting unit 312 outputs unfiltered values for the IPCM block, and the filter unit 311 outputs filtered values for the non-IPCM block.</p><p id="p0114" num="0114">As shown in <figref idrefs="f0010">FIG. 10C</figref>, it is also good to perform filtering processes different between the IPCM block and the non-IPCM block. For example, different filtering processes may be filtering processes using different filter strengths. In addition, for example, the filter strength for the IPCM block may be lower than the filter strength for the non-IPCM block.</p><p id="p0115" num="0115">More specifically, the distributing unit 321 outputs the input signal to the filter unit 322 when a current block is a non-IPCM block, and outputs the input signal to the filter unit 323 when a current block is a non-IPCM block. Here, the input signals include both the decoded image signal 126 and the input image signal 120. The filter unit 322 performs filtering of a first filter strength using the input signal to generate pixel values of the current block. The filter unit 322 performs filtering using a second filter strength lower than the first filter strength to generate pixel values of the current block. The selecting unit 324 outputs the pixel values of the current block filtered by the filter unit 322 when the current block is the non-IPCM block, and outputs the pixel values of the current block filtered by the filter unit 323 when the current block is the IPCM block.</p><p id="p0116" num="0116">As shown in <figref idrefs="f0010">FIG. 10D</figref>, processing on the IPCM block does not always need to be performed. More specifically, the distributing unit 331 outputs the input signal to the filter unit 332 when a current block is a non-IPCM block, and outputs the input signal to the selecting unit 333 when a current block is a non-IPCM block. The selecting unit 333 outputs the pixel values of the current block filtered by the filter unit 332 when the current block is the non-IPCM block, and outputs the pixel values of the current block in the signal from the filter unit 331<!-- EPO <DP n="26"> --> when the current block is the IPCM block.</p><p id="p0117" num="0117">As shown in <figref idrefs="f0011">FIG. 10E</figref>, it is possible to switch input sides of filter units instead of switching output sides of the filter units. Furthermore, the numbers of the stages of filter units are different between an IPCM block and a non-IPCM block. More specifically, the distributing unit 341 outputs the input signal to the filter unit 342 when a current block is a non-IPCM block, and outputs the input signal to the filter unit 344 when a current block is a non-IPCM block. The filter unit 342 performs filtering using the input signal. The filter unit 343 performs filtering using the signal filtered by the filter unit 342, and outputs the pixel values of the current filtered block. The filter unit 344 performs filtering using the input signal, and outputs the pixel values of the current filtered block. Here, the filtering performed by the filter unit 344 may be the same as or different from the filtering performed by the filter unit 342 and the filtering performed by the filter unit 343.</p><p id="p0118" num="0118">As shown in <figref idrefs="f0011">FIG. 10F</figref>, it is possible to switch output sides of filter units. More specifically, the filter unit 351 performs filtering using the first input signal. The filter unit 352 performs filtering using the signal filtered by the filter unit 351, and outputs the pixel values of the current filtered block. The filter unit 353 performs filtering using the second input signal, and outputs the pixel values of the current filtered block. The selecting unit 354 outputs the pixel values of the current block filtered by the filter unit 352 when the current block is the non-IPCM block, and outputs the pixel values of the current block filtered by the filter unit 353 when the current block is the IPCM block.</p><p id="p0119" num="0119">Here, outputting an unfiltered value involves replacing a pixel value resulting from filtering by the original input value p and outputting the replacement value.</p><p id="p0120" num="0120">As shown in <figref idrefs="f0011">FIG. 10G</figref>, it is possible to use a signal filtered in<!-- EPO <DP n="27"> --> one of two lines in filtering that is performed in the other line. More specifically, the filter unit 361 performs filtering using the second input signal. The filter unit 362 performs filtering using the first input signal and a signal filtered by the filter unit 361. The selecting unit 363 outputs the pixel values of the current block filtered by the filter unit 362 when the current block is the non-IPCM block, and outputs the pixel values of the current block filtered by the filter unit 361 when the current block is the IPCM block. The selecting unit 363 may output the pixel values of the current block filtered by the filter unit 362 when the current block is the IPCM block, and output the pixel values of the current block filtered by the filter unit 361 when the current block is the non-IPCM block.</p><p id="p0121" num="0121">As shown in <figref idrefs="f0011">FIG. 10H</figref>, a value stored once in the memory 373 may be used as an input. More specifically, the selecting unit 371 selects one of the input signal and the signal stored in the memory 373. The filter unit 372 performs filtering using the signal selected by the selecting unit 371.</p><p id="p0122" num="0122">These are examples, and thus it is only necessary for the filtering unit 115 according to this embodiment to exert a function of finally "outputting unfiltered values for the pixels in an IPCM block".</p><p id="p0123" num="0123">Hereinafter, a description is given of a modified version of a filtering method according to the present invention. <figref idrefs="f0012">FIG. 11</figref> is a flowchart of operations in the modified version of the filtering method according to this embodiment.</p><p id="p0124" num="0124">It has been described that filtering is applied to the non-IPCM block in Step S204 of <figref idrefs="f0005">FIG. 5</figref> and unfiltered pixel values of the IPCM block are output in Step S205 of <figref idrefs="f0005">FIG. 5</figref>. However, these processes may be realized in the steps indicated below. For example, it is possible to perform processes shown in <figref idrefs="f0012">FIG. 11</figref> instead of Steps S204 and S205 shown in <figref idrefs="f0005">FIG. 5</figref>.</p><p id="p0125" num="0125"><!-- EPO <DP n="28"> --> First, pixel values of a first block (block [0]) and a second block (block y [1]) adjacent to each other are obtained (S221). Here, for example, the first block is a non-IPCM block, and the second block is an IPCM block.</p><p id="p0126" num="0126">Next, a filter strength bS [0] that is applied to the first block and a filter strength bS [1] that is applied to the second block are derived (S222 and S223). Here, the filter strength bS [0] and the filter strength bS [1] show different strengths. In the conventional art, only one filter strength is set for a block boundary. For example, in this embodiment, the filter strength for the IPCM block is set lower than the filter strength for the non-IPCM block.</p><p id="p0127" num="0127">Next, both the blocks are filtered using the filter strength bS [0], and the pixel values of the first block after the filtering are output (S224). Next, both the blocks are filtered using the filter strength bS [1], and the pixel values of the second block after the filtering are output (S225).</p><p id="p0128" num="0128">Here, it is possible to control application or non-application of filtering by setting the value of the filter strength to 0. In other words, it is also good to derive for each of the blocks a flag (filterSamplesFlag) for controlling application or non-application of filtering.</p><p id="p0129" num="0129">As described above, the filtering method according to this embodiment makes it possible to execute filtering on one of the blocks using the first filter strength and execute filtering on the other block using the second filter strength. In addition, the filtering method makes it possible to perform such processing in filtering processes.</p><p id="p0130" num="0130"><figref idrefs="f0013">FIG. 12</figref> is a flowchart of operations in a variation of the filtering method according to this embodiment. The processes shown in <figref idrefs="f0013">FIG. 12</figref> further include Step S401, in addition to the processes shown in <figref idrefs="f0003">FIG. 3</figref>.<!-- EPO <DP n="29"> --></p><p id="p0131" num="0131">This Step S401 is added to provide an appropriate filter strength to an IPCM block which is inevitably determined to be a block that is intra predicted. In Step S401, a determination is made as to whether at least one of the first block and the second block is an IPCM block or not. When at least one of the first block and the second block is the IPCM block (Yes in S401), a filter strength (bS) is determined to be any one of 3, 2, 1, and 0 that is smaller than N (= 4) (S124). In addition, when both the first block and the second block are non-IPCM blocks (No in S401), the filter strength is set to bS = N which means the highest strength (S123).</p><p id="p0132" num="0132">In the case of the filtering method shown in <figref idrefs="f0003">FIG. 3</figref>, when one or both of the blocks is a macroblock coded using the intra prediction mode (Yes in S122), the filter strength itself is always set to be bS = 4 which means the highest strength without considering any other determination factor.</p><p id="p0133" num="0133">On the other hand, in the case of this embodiment's variation shown in <figref idrefs="f0013">FIG. 12</figref>, when one or both of the blocks is a macroblock coded using the intra prediction mode (Yes in S122) and when one of the blocks is an IPCM block (Yes in S401), a filter strength (bS = 0 to 3) lower than the filter strength (bS = 4) set in Step S123 is set.</p><p id="p0134" num="0134"><figref idrefs="f0014">FIG. 13</figref> is an illustration of filter strengths determined using the filtering method according to this embodiment and block units which define a boundary.</p><p id="p0135" num="0135">As shown in <figref idrefs="f0014">FIG. 13</figref>, when a macroblock MB [0] is a macroblock coded using the inter prediction mode and a macroblock MB [1] is a macroblock coded using the intra prediction mode (Yes in S122) and when both the first and second blocks are non-IPCM blocks (No in S401), bS = 4 is set to both the blocks (S123).</p><p id="p0136" num="0136">On the other hand, when a PU block [0] is coded using a<!-- EPO <DP n="30"> --> non-IPCM mode and a PU block [1] is coded using an IPCM mode, that is, when a CU block [0] is a non-IPCM block and a CU block [1] is an IPCM block (Yes in S401), bS = any one of 0 to 3 is set to each of the CU block [0] and CU block [1]. In this example, bS = 0 is set to the CU block [1] that is an IPCM block, and bS = any one of 1 to 3 is set to the CU block [0] that is a non-IPCM block.</p><p id="p0137" num="0137">Each of <figref idrefs="f0015">FIG. 14A and FIG. 14B</figref> is an illustration of a state in which an application range of a flag indicating that a filter is ON is extended by handling an IPCM block according to this embodiment. <figref idrefs="f0015">FIG. 14A</figref> shows, as a comparison example, a case of not applying an approach in this embodiment. <figref idrefs="f0015">FIG. 14B</figref> shows a case of applying the approach in this embodiment.</p><p id="p0138" num="0138">As shown in <figref idrefs="f0015">FIG. 14B</figref>, it is possible to extend the application range of the flag indicating that a filter is ON by using the filtering method according to this embodiment.</p><p id="p0139" num="0139">As described above, the filtering method according to this embodiment employs, for the determination, an implicit code interpretation rule that the filtering unit or the control unit "does not filter an IPCM block" in the in-loop filtering. In this way, as shown in <figref idrefs="f0015">FIG. 14A and FIG. 14B</figref>, it is possible to specify whether a filter is enabled or disabled for a coded string in a larger range. In this way, the filtering method according to this embodiment reduces the amount of bits.</p><p id="p0140" num="0140">The filtering methods, moving picture coding apparatuses, and moving picture decoding apparatuses according to the embodiments of the present invention have been described above, but the present invention is not limited to these embodiments.</p><p id="p0141" num="0141">For example, it is also possible to combine at least parts of functions of the filtering methods, moving picture coding apparatuses, moving picture decoding apparatuses according to the embodiments<!-- EPO <DP n="31"> --> and the variations thereof.</p><p id="p0142" num="0142">In addition, the division of functional blocks in each of the block diagrams is exemplary. It is also possible to implement some of the functional blocks as a functional block, divide a functional block into plural blocks, and/or move part of the function(s) to any of the functional blocks. In addition, the functions of the plural functional blocks having functions similar to each other may be exerted in parallel or in time division by hardware or software.</p><p id="p0143" num="0143">In addition, the execution order of the plural steps of each of the filtering methods is provided as an example for specifically explaining the present invention, and thus other orders are also possible. In addition, part of the steps may be executed simultaneously with (in parallel to) any of the other steps.</p><p id="p0144" num="0144">For example, the order of Steps S201 and S202 shown in <figref idrefs="f0005">FIG. 5</figref> is not limited to the described order. In other words, it is only necessary that Steps S204 and S205 are executed as a result when "one of two blocks across a boundary is included in an IPCM block, and the other is not included in an IPCM block". In addition, the order of Steps S204 and S205 may also be arbitrary.</p><p id="p0145" num="0145">Likewise, the order of Steps S222 to S225 shown in <figref idrefs="f0012">FIG. 11</figref> is not limited to the described order. More specifically, the order of Steps S222 to S225 may be arbitrary as long as Step S224 is after Step S222 and Step S225 is after S223.</p><heading id="h0012">(Embodiment 2)</heading><p id="p0146" num="0146">The processing described in each of embodiments can be simply implemented in an independent computer system, by recording, in a recording medium, a program for implementing the configurations of the moving picture coding method (image coding method) and the moving picture decoding method (image decoding method) described<!-- EPO <DP n="32"> --> in each of embodiments. The recording media may be any recording media as long as the program can be recorded, such as a magnetic disk, an optical disk, a magnetic optical disk, an IC card, and a semiconductor memory.</p><p id="p0147" num="0147">Hereinafter, the applications to the moving picture coding method (image coding method) and the moving picture decoding method (image decoding method) described in each of embodiments and systems using thereof will be described. The system has a feature of having an image coding and decoding apparatus that includes an image coding apparatus using the image coding method and an image decoding apparatus using the image decoding method. Other configurations in the system can be changed as appropriate depending on the cases.</p><p id="p0148" num="0148"><figref idrefs="f0016">FIG. 15</figref> illustrates an overall configuration of a content providing system ex100 for implementing content distribution services. The area for providing communication services is divided into cells of desired size, and base stations ex106, ex107, ex108, ex109, and ex110 which are fixed wireless stations are placed in each of the cells.</p><p id="p0149" num="0149">The content providing system ex100 is connected to devices, such as a computer ex111, a personal digital assistant (PDA) ex112, a camera ex113, a cellular phone ex114 and a game machine ex115, via the Internet ex101, an Internet service provider ex102, a telephone network ex104, as well as the base stations ex106 to ex110, respectively.</p><p id="p0150" num="0150">However, the configuration of the content providing system ex100 is not limited to the configuration shown in <figref idrefs="f0016">FIG. 15</figref>, and a combination in which any of the elements are connected is acceptable. In addition, each device may be directly connected to the telephone network ex104, rather than via the base stations ex106 to ex110 which are the fixed wireless stations. Furthermore, the devices may<!-- EPO <DP n="33"> --> be interconnected to each other via a short distance wireless communication and others.</p><p id="p0151" num="0151">The camera ex113, such as a digital video camera, is capable of capturing video. A camera ex116, such as a digital video camera, is capable of capturing both still images and video. Furthermore, the cellular phone ex114 may be the one that meets any of the standards such as Global System for Mobile Communications (GSM) (registered trademark), Code Division Multiple Access (CDMA), Wideband-Code Division Multiple Access (W-CDMA), Long Term Evolution (LTE), and High Speed Packet Access (HSPA). Alternatively, the cellular phone ex114 may be a Personal Handyphone System (PHS).</p><p id="p0152" num="0152">In the content providing system ex100, a streaming server ex103 is connected to the camera ex113 and others via the telephone network ex104 and the base station ex109, which enables distribution of images of a live show and others. In such a distribution, a content (for example, video of a music live show) captured by the user using the camera ex113 is coded as described above in each of embodiments (i.e., the camera functions as the image coding apparatus in the present invention), and the coded content is transmitted to the streaming server ex103. On the other hand, the streaming server ex103 carries out stream distribution of the transmitted content data to the clients upon their requests. The clients include the computer ex111, the PDA ex112, the camera ex113, the cellular phone ex114, and the game machine ex115 that are capable of decoding the above-mentioned coded data. Each of the devices that have received the distributed data decodes and reproduces the coded data (i.e., functions as the image decoding apparatus in the present invention).</p><p id="p0153" num="0153">The captured data may be coded by the camera ex113 or the streaming server ex103 that transmits the data, or the coding processes may be shared between the camera ex113 and the streaming server ex103. Similarly, the distributed data may be<!-- EPO <DP n="34"> --> decoded by the clients or the streaming server ex103, or the decoding processes may be shared between the clients and the streaming server ex103. Furthermore, the data of the still images and video captured by not only the camera ex113 but also the camera ex116 may be transmitted to the streaming server ex103 through the computer ex111. The coding processes may be performed by the camera ex116, the computer ex111, or the streaming server ex103, or shared among them.</p><p id="p0154" num="0154">Furthermore, the coding and decoding processes may be performed by an LSI ex500 generally included in each of the computer ex111 and the devices. The LSI ex500 may be configured of a single chip or a plurality of chips. Software for coding and decoding video may be integrated into some type of a recording medium (such as a CD-ROM, a flexible disk, and a hard disk) that is readable by the computer ex111 and others, and the coding and decoding processes may be performed using the software. Furthermore, when the cellular phone ex114 is equipped with a camera, the image data obtained by the camera may be transmitted. The video data is data coded by the LSI ex500 included in the cellular phone ex114.</p><p id="p0155" num="0155">Furthermore, the streaming server ex103 may be composed of servers and computers, and may decentralize data and process the decentralized data, record, or distribute data.</p><p id="p0156" num="0156">As described above, the clients may receive and reproduce the coded data in the content providing system ex100. In other words, the clients can receive and decode information transmitted by the user, and reproduce the decoded data in real time in the content providing system ex100, so that the user who does not have any particular right and equipment can implement personal broadcasting.</p><p id="p0157" num="0157">Aside from the example of the content providing system ex100, at least one of the moving picture coding apparatus (image coding apparatus) and the moving picture decoding apparatus (image<!-- EPO <DP n="35"> --> decoding apparatus) described in each of embodiments may be implemented in a digital broadcasting system ex200 illustrated in <figref idrefs="f0017">FIG. 16</figref>. More specifically, a broadcast station ex201 communicates or transmits, via radio waves to a broadcast satellite ex202, multiplexed data obtained by multiplexing audio data and others onto video data. The video data is data coded by the moving picture coding method described in each of embodiments (i.e., data coded by the image coding apparatus in the present invention). Upon receipt of the multiplexed data, the broadcast satellite ex202 transmits radio waves for broadcasting. Then, a home-use antenna ex204 with a satellite broadcast reception function receives the radio waves. Next, a device such as a television (receiver) ex300 and a set top box (STB) ex217 decodes the received multiplexed data, and reproduces the decoded data (i.e., functions as the image coding apparatus in the present invention).</p><p id="p0158" num="0158">Furthermore, a reader/recorder ex218 (i) reads and decodes the multiplexed data recorded on a recording media ex215, such as a DVD and a BD, or (i) codes video signals in the recording medium ex215, and in some cases, writes data obtained by multiplexing an audio signal on the coded data. The reader/recorder ex218 can include the moving picture decoding apparatus or the moving picture coding apparatus as shown in each of embodiments. In this case, the reproduced video signals are displayed on the monitor ex219, and can be reproduced by another device or system using the recording medium ex215 on which the multiplexed data is recorded. It is also possible to implement the moving picture decoding apparatus in the set top box ex217 connected to the cable ex203 for a cable television or to the antenna ex204 for satellite and/or terrestrial broadcasting, so as to display the video signals on the monitor ex219 of the television ex300. The moving picture decoding apparatus may be implemented not in the set top box but in the television ex300.</p><p id="p0159" num="0159"><figref idrefs="f0018">FIG. 17</figref> illustrates the television (receiver) ex300 that uses the moving picture coding method and the moving picture decoding<!-- EPO <DP n="36"> --> method described in each of embodiments. The television ex300 includes: a tuner ex301 that obtains or provides multiplexed data obtained by multiplexing audio data onto video data, through the antenna ex204 or the cable ex203, etc. that receives a broadcast; a modulation/demodulation unit ex302 that demodulates the received multiplexed data or modulates data into multiplexed data to be supplied outside; and a multiplexing/demultiplexing unit ex303 that demultiplexes the modulated multiplexed data into video data and audio data, or multiplexes video data and audio data coded by a signal processing unit ex306 into data.</p><p id="p0160" num="0160">The television ex300 further includes: a signal processing unit ex306 including an audio signal processing unit ex304 and a video signal processing unit ex305 that decode audio data and video data and code audio data and video data, respectively (which function as the image coding apparatus and the image decoding apparatus); and an output unit ex309 including a speaker ex307 that provides the decoded audio signal, and a display unit ex308 that displays the decoded video signal, such as a display. Furthermore, the television ex300 includes an interface unit ex317 including an operation input unit ex312 that receives an input of a user operation. Furthermore, the television ex300 includes a control unit ex310 that controls overall each constituent element of the television ex300, and a power supply circuit unit ex311 that supplies power to each of the elements. Other than the operation input unit ex312, the interface unit ex317 may include: a bridge ex313 that is connected to an external device, such as the reader/recorder ex218; a slot unit ex314 for enabling attachment of the recording medium ex216, such as an SD card; a driver ex315 to be connected to an external recording medium, such as a hard disk; and a modem ex316 to be connected to a telephone network. Here, the recording medium ex216 can electrically record information using a non-volatile/volatile semiconductor memory element for storage. The constituent elements of the television ex300 are connected to each other through a synchronous bus.</p><p id="p0161" num="0161"><!-- EPO <DP n="37"> --> First, the configuration in which the television ex300 decodes multiplexed data obtained from outside through the antenna ex204 and others and reproduces the decoded data will be described. In the television ex300, upon a user operation through a remote controller ex220 and others, the multiplexing/demultiplexing unit ex303 demultiplexes the multiplexed data demodulated by the modulation/demodulation unit ex302, under control of the control unit ex310 including a CPU. Furthermore, the audio signal processing unit ex304 decodes the demultiplexed audio data, and the video signal processing unit ex305 decodes the demultiplexed video data, using the decoding method described in each of embodiments, in the television ex300. The output unit ex309 provides the decoded video signal and audio signal outside, respectively. When the output unit ex309 provides the video signal and the audio signal, the signals may be temporarily stored in buffers ex318 and ex319, and others so that the signals are reproduced in synchronization with each other. Furthermore, the television ex300 may read multiplexed data not through a broadcast and others but from the recording media ex215 and ex216, such as a magnetic disk, an optical disk, and a SD card. Next, a configuration in which the television ex300 codes an audio signal and a video signal, and transmits the data outside or writes the data on a recording medium will be described. In the television ex300, upon a user operation through the remote controller ex220 and others, the audio signal processing unit ex304 codes an audio signal, and the video signal processing unit ex305 codes a video signal, under control of the control unit ex310 using the coding method described in each of embodiments. The multiplexing/demultiplexing unit ex303 multiplexes the coded video signal and audio signal, and provides the resulting signal outside. When the multiplexing/demultiplexing unit ex303 multiplexes the video signal and the audio signal, the signals may be temporarily stored in the buffers ex320 and ex321, and others so that the signals are reproduced in synchronization with each other. Here, the buffers ex318, ex319, ex320, and ex321 may be plural as illustrated, or at least one buffer may be shared in the television ex300. Furthermore,<!-- EPO <DP n="38"> --> data may be stored in a buffer so that the system overflow and underflow may be avoided between the modulation/demodulation unit ex302 and the multiplexing/demultiplexing unit ex303, for example.</p><p id="p0162" num="0162">Furthermore, the television ex300 may include a configuration for receiving an AV input from a microphone or a camera other than the configuration for obtaining audio and video data from a broadcast or a recording medium, and may code the obtained data. Although the television ex300 can code, multiplex, and provide outside data in the description, it may be capable of only receiving, decoding, and providing outside data but not the coding, multiplexing, and providing outside data.</p><p id="p0163" num="0163">Furthermore, when the reader/recorder ex218 reads or writes multiplexed data from or on a recording medium, one of the television ex300 and the reader/recorder ex218 may decode or code the multiplexed data, and the television ex300 and the reader/recorder ex218 may share the decoding or coding.</p><p id="p0164" num="0164">As an example, <figref idrefs="f0019">FIG. 18</figref> illustrates a configuration of an information reproducing/recording unit ex400 when data is read or written from or on an optical disk. The information reproducing/recording unit ex400 includes constituent elements ex401, ex402, ex403, ex404, ex405, ex406, and ex407 to be described hereinafter. The optical head ex401 irradiates a laser spot in a recording surface of the recording medium ex215 that is an optical disk to write information, and detects reflected light from the recording surface of the recording medium ex215 to read the information. The modulation recording unit ex402 electrically drives a semiconductor laser included in the optical head ex401, and modulates the laser light according to recorded data. The reproduction demodulating unit ex403 amplifies a reproduction signal obtained by electrically detecting the reflected light from the recording surface using a photo detector included in the optical head ex401, and demodulates the reproduction signal by separating a<!-- EPO <DP n="39"> --> signal component recorded on the recording medium ex215 to reproduce the necessary information. The buffer ex404 temporarily holds the information to be recorded on the recording medium ex215 and the information reproduced from the recording medium ex215. The disk motor ex405 rotates the recording medium ex215. The servo control unit ex406 moves the optical head ex401 to a predetermined information track while controlling the rotation drive of the disk motor ex405 so as to follow the laser spot. The system control unit ex407 controls overall the information reproducing/recording unit ex400. The reading and writing processes can be implemented by the system control unit ex407 using various information stored in the buffer ex404 and generating and adding new information as necessary, and by the modulation recording unit ex402, the reproduction demodulating unit ex403, and the servo control unit ex406 that record and reproduce information through the optical head ex401 while being operated in a coordinated manner. The system control unit ex407 includes, for example, a microprocessor, and executes processing by causing a computer to execute a program for read and write.</p><p id="p0165" num="0165">Although the optical head ex401 irradiates a laser spot in the description, it may perform high-density recording using near field light.</p><p id="p0166" num="0166"><figref idrefs="f0020">FIG. 19</figref> illustrates the recording medium ex215 that is the optical disk. On the recording surface of the recording medium ex215, guide grooves are spirally formed, and an information track ex230 records, in advance, address information indicating an absolute position on the disk according to change in a shape of the guide grooves. The address information includes information for determining positions of recording blocks ex231 that are a unit for recording data. Reproducing the information track ex230 and reading the address information in an apparatus that records and reproduces data can lead to determination of the positions of the recording blocks. Furthermore, the recording medium ex215<!-- EPO <DP n="40"> --> includes a data recording area ex233, an inner circumference area ex232, and an outer circumference area ex234. The data recording area ex233 is an area for use in recording the user data. The inner circumference area ex232 and the outer circumference area ex234 that are inside and outside of the data recording area ex233, respectively are for specific use except for recording the user data. The information reproducing/recording unit 400 reads and writes coded audio, coded video data, or multiplexed data obtained by multiplexing the coded audio and video data, from and on the data recording area ex233 of the recording medium ex215.</p><p id="p0167" num="0167">Although an optical disk having a layer, such as a DVD and a BD is described as an example in the description, the optical disk is not limited to such, and may be an optical disk having a multilayer structure and capable of being recorded on a part other than the surface. Furthermore, the optical disk may have a structure for multidimensional recording/reproduction, such as recording of information using light of colors with different wavelengths in the same portion of the optical disk and for recording information having different layers from various angles.</p><p id="p0168" num="0168">Furthermore, a car ex210 having an antenna ex205 can receive data from the satellite ex202 and others, and reproduce video on a display device such as a car navigation system ex211 set in the car ex210, in the digital broadcasting system ex200. Here, a configuration of the car navigation system ex211 will be a configuration, for example, including a GPS receiving unit from the configuration illustrated in <figref idrefs="f0018">FIG. 17</figref>. The same will be true for the configuration of the computer ex111, the cellular phone ex114, and others.</p><p id="p0169" num="0169"><figref idrefs="f0021">FIG. 20A</figref> illustrates the cellular phone ex114 that uses the moving picture coding method and the moving picture decoding method described in embodiments. The cellular phone ex114 includes: an antenna ex350 for transmitting and receiving radio waves<!-- EPO <DP n="41"> --> through the base station ex110; a camera unit ex365 capable of capturing moving and still images; and a display unit ex358 such as a liquid crystal display for displaying the data such as decoded video captured by the camera unit ex365 or received by the antenna ex350. The cellular phone ex114 further includes: a main body unit including an operation key unit ex366; an audio output unit ex357 such as a speaker for output of audio; an audio input unit ex356 such as a microphone for input of audio; a memory unit ex367 for storing captured video or still pictures, recorded audio, coded or decoded data of the received video, the still pictures, e-mails, or others; and a slot unit ex364 that is an interface unit for a recording medium that stores data in the same manner as the memory unit ex367.</p><p id="p0170" num="0170">Next, an example of a configuration of the cellular phone ex114 will be described with reference to <figref idrefs="f0021">FIG. 20B</figref>. In the cellular phone ex114, a main control unit ex360 designed to control overall each unit of the main body including the display unit ex358 as well as the operation key unit ex366 is connected mutually, via a synchronous bus ex370, to a power supply circuit unit ex361, an operation input control unit ex362, a video signal processing unit ex355, a camera interface unit ex363, a liquid crystal display (LCD) control unit ex359, a modulation/demodulation unit ex352, a multiplexing/demultiplexing unit ex353, an audio signal processing unit ex354, the slot unit ex364, and the memory unit ex367.</p><p id="p0171" num="0171">When a call-end key or a power key is turned ON by a user's operation, the power supply circuit unit ex361 supplies the respective units with power from a battery pack so as to activate the cell phone ex114.</p><p id="p0172" num="0172">In the cellular phone ex114, the audio signal processing unit ex354 converts the audio signals collected by the audio input unit ex356 in voice conversation mode into digital audio signals under the control of the main control unit ex360 including a CPU, ROM, and RAM. Then, the modulation/demodulation unit ex352 performs spread<!-- EPO <DP n="42"> --> spectrum processing on the digital audio signals, and the transmitting and receiving unit ex351 performs digital-to-analog conversion and frequency conversion on the data, so as to transmit the resulting data via the antenna ex350. Also, in the cellular phone ex114, the transmitting and receiving unit ex351 amplifies the data received by the antenna ex350 in voice conversation mode and performs frequency conversion and the analog-to-digital conversion on the data. Then, the modulation/demodulation unit ex352 performs inverse spread spectrum processing on the data, and the audio signal processing unit ex354 converts it into analog audio signals, so as to output them via the audio output unit ex357.</p><p id="p0173" num="0173">Furthermore, when an e-mail in data communication mode is transmitted, text data of the e-mail inputted by operating the operation key unit ex366 and others of the main body is sent out to the main control unit ex360 via the operation input control unit ex362. The main control unit ex360 causes the modulation/demodulation unit ex352 to perform spread spectrum processing on the text data, and the transmitting and receiving unit ex351 performs the digital-to-analog conversion and the frequency conversion on the resulting data to transmit the data to the base station ex110 via the antenna ex350. When an e-mail is received, processing that is approximately inverse to the processing for transmitting an e-mail is performed on the received data, and the resulting data is provided to the display unit ex358.</p><p id="p0174" num="0174">When video, still images, or video and audio in data communication mode is or are transmitted, the video signal processing unit ex355 compresses and codes video signals supplied from the camera unit ex365 using the moving picture coding method shown in each of embodiments (i.e., functions as the image coding apparatus in the present invention), and transmits the coded video data to the multiplexing/demultiplexing unit ex353. In contrast, during when the camera unit ex365 captures video, still images, and others, the audio signal processing unit ex354 codes audio signals<!-- EPO <DP n="43"> --> collected by the audio input unit ex356, and transmits the coded audio data to the multiplexing/demultiplexing unit ex353.</p><p id="p0175" num="0175">The multiplexing/demultiplexing unit ex353 multiplexes the coded video data supplied from the video signal processing unit ex355 and the coded audio data supplied from the audio signal processing unit ex354, using a predetermined method. Then, the modulation/demodulation unit (modulation/demodulation circuit unit) ex352 performs spread spectrum processing on the multiplexed data, and the transmitting and receiving unit ex351 performs digital-to-analog conversion and frequency conversion on the data so as to transmit the resulting data via the antenna ex350.</p><p id="p0176" num="0176">When receiving data of a video file which is linked to a Web page and others in data communication mode or when receiving an e-mail with video and/or audio attached, in order to decode the multiplexed data received via the antenna ex350, the multiplexing/demultiplexing unit ex353 demultiplexes the multiplexed data into a video data bit stream and an audio data bit stream, and supplies the video signal processing unit ex355 with the coded video data and the audio signal processing unit ex354 with the coded audio data, through the synchronous bus ex370. The video signal processing unit ex355 decodes the video signal using a moving picture decoding method corresponding to the moving picture coding method shown in each of embodiments (i.e., functions as the image decoding apparatus in the present invention), and then the display unit ex358 displays, for instance, the video and still images included in the video file linked to the Web page via the LCD control unit ex359. Furthermore, the audio signal processing unit ex354 decodes the audio signal, and the audio output unit ex357 provides the audio.</p><p id="p0177" num="0177">Furthermore, similarly to the television ex300, a terminal such as the cellular phone ex114 probably have 3 types of implementation configurations including not only (i) a transmitting and receiving terminal including both a coding apparatus and a decoding apparatus,<!-- EPO <DP n="44"> --> but also (ii) a transmitting terminal including only a coding apparatus and (iii) a receiving terminal including only a decoding apparatus. Although the digital broadcasting system ex200 receives and transmits the multiplexed data obtained by multiplexing audio data onto video data in the description, the multiplexed data may be data obtained by multiplexing not audio data but character data related to video onto video data, and may be not multiplexed data but video data itself.</p><p id="p0178" num="0178">As such, the moving picture coding method and the moving picture decoding method in each of embodiments can be used in any of the devices and systems described. Thus, the advantages described in each of embodiments can be obtained.</p><p id="p0179" num="0179">Furthermore, the present invention is not limited to embodiments, and various modifications and revisions are possible without departing from the scope of the present invention.</p><heading id="h0013">(Embodiment 3)</heading><p id="p0180" num="0180">Video data can be generated by switching, as necessary, between (i) the moving picture coding method or the moving picture coding apparatus shown in each of embodiments and (ii) a moving picture coding method or a moving picture coding apparatus in conformity with a different standard, such as MPEG-2, MPEG-4 AVC, and VC-1.</p><p id="p0181" num="0181">Here, when a plurality of video data that conforms to the different standards is generated and is then decoded, the decoding methods need to be selected to conform to the different standards. However, since to which standard each of the plurality of the video data to be decoded conform cannot be detected, there is a problem that an appropriate decoding method cannot be selected.</p><p id="p0182" num="0182">In order to solve the problem, multiplexed data obtained by<!-- EPO <DP n="45"> --> multiplexing audio data and others onto video data has a structure including identification information indicating to which standard the video data conforms. The specific structure of the multiplexed data including the video data generated in the moving picture coding method and by the moving picture coding apparatus shown in each of embodiments will be hereinafter described. The multiplexed data is a digital stream in the MPEG-2 Transport Stream format.</p><p id="p0183" num="0183"><figref idrefs="f0022">FIG. 21</figref> illustrates a structure of the multiplexed data. As illustrated in <figref idrefs="f0022">FIG. 21</figref>, the multiplexed data can be obtained by multiplexing at least one of a video stream, an audio stream, a presentation graphics stream (PG), and an interactive graphics stream. The video stream represents primary video and secondary video of a movie, the audio stream (IG) represents a primary audio part and a secondary audio part to be mixed with the primary audio part, and the presentation graphics stream represents subtitles of the movie. Here, the primary video is normal video to be displayed on a screen, and the secondary video is video to be displayed on a smaller window in the primary video. Furthermore, the interactive graphics stream represents an interactive screen to be generated by arranging the GUI components on a screen. The video stream is coded in the moving picture coding method or by the moving picture coding apparatus shown in each of embodiments, or in a moving picture coding method or by a moving picture coding apparatus in conformity with a conventional standard, such as MPEG-2, MPEG-4 AVC, and VC-1. The audio stream is coded in accordance with a standard, such as Dolby-AC-3, Dolby Digital Plus, MLP, DTS, DTS-HD, and linear PCM.</p><p id="p0184" num="0184">Each stream included in the multiplexed data is identified by PID. For example, 0x1011 is allocated to the video stream to be used for video of a movie, 0x1100 to 0x111F are allocated to the audio streams, 0x1200 to 0x121F are allocated to the presentation graphics streams, 0x1400 to 0x141F are allocated to the interactive graphics streams, 0x1B00 to 0x1B1F are allocated to the video streams to be used for secondary video of the movie, and 0x1A00 to 0x1A1F are<!-- EPO <DP n="46"> --> allocated to the audio streams to be used for the secondary video to be mixed with the primary audio.</p><p id="p0185" num="0185"><figref idrefs="f0023">FIG. 22</figref> schematically illustrates how data is multiplexed. First, a video stream ex235 composed of video frames and an audio stream ex238 composed of audio frames are transformed into a stream of PES packets ex236 and a stream of PES packets ex239, and further into TS packets ex237 and TS packets ex240, respectively. Similarly, data of a presentation graphics stream ex241 and data of an interactive graphics stream ex244 are transformed into a stream of PES packets ex242 and a stream of PES packets ex245, and further into TS packets ex243 and TS packets ex246, respectively. These TS packets are multiplexed into a stream to obtain multiplexed data ex247.</p><p id="p0186" num="0186"><figref idrefs="f0024">FIG. 23</figref> illustrates how a video stream is stored in a stream of PES packets in more detail. The first bar in <figref idrefs="f0024">FIG. 23</figref> shows a video frame stream in a video stream. The second bar shows the stream of PES packets. As indicated by arrows denoted as yy1, yy2, yy3, and yy4 in <figref idrefs="f0024">FIG. 23</figref>, the video stream is divided into pictures as I pictures, B pictures, and P pictures each of which is a video presentation unit, and the pictures are stored in a payload of each of the PES packets. Each of the PES packets has a PES header, and the PES header stores a Presentation Time-Stamp (PTS) indicating a display time of the picture, and a Decoding Time-Stamp (DTS) indicating a decoding time of the picture.</p><p id="p0187" num="0187"><figref idrefs="f0025">FIG. 24</figref> illustrates a format of TS packets to be finally written on the multiplexed data. Each of the TS packets is a 188-byte fixed length packet including a 4-byte TS header having information, such as a PID for identifying a stream and a 184-byte TS payload for storing data. The PES packets are divided, and stored in the TS payloads, respectively. When a BD ROM is used, each of the TS packets is given a 4-byte TP_Extra_Header, thus resulting in 192-byte source packets. The source packets are written on the multiplexed data. The TP_Extra_Header stores information such as an Arrival_Time_Stamp<!-- EPO <DP n="47"> --> (ATS). The ATS shows a transfer start time at which each of the TS packets is to be transferred to a PID filter. The source packets are arranged in the multiplexed data as shown at the bottom of <figref idrefs="f0025">FIG. 24</figref>. The numbers incrementing from the head of the multiplexed data are called source packet numbers (SPNs).</p><p id="p0188" num="0188">Each of the TS packets included in the multiplexed data includes not only streams of audio, video, subtitles and others, but also a Program Association Table (PAT), a Program Map Table (PMT), and a Program Clock Reference (PCR). The PAT shows what a PID in a PMT used in the multiplexed data indicates, and a PID of the PAT itself is registered as zero. The PMT stores PIDs of the streams of video, audio, subtitles and others included in the multiplexed data, and attribute information of the streams corresponding to the PIDs. The PMT also has various descriptors relating to the multiplexed data. The descriptors have information such as copy control information showing whether copying of the multiplexed data is permitted or not. The PCR stores STC time information corresponding to an ATS showing when the PCR packet is transferred to a decoder, in order to achieve synchronization between an Arrival Time Clock (ATC) that is a time axis of ATSs, and an System Time Clock (STC) that is a time axis of PTSs and DTSs.</p><p id="p0189" num="0189"><figref idrefs="f0025">FIG. 25</figref> illustrates the data structure of the PMT in detail. A PMT header is disposed at the top of the PMT. The PMT header describes the length of data included in the PMT and others. A plurality of descriptors relating to the multiplexed data is disposed after the PMT header. Information such as the copy control information is described in the descriptors. After the descriptors, a plurality of pieces of stream information relating to the streams included in the multiplexed data is disposed. Each piece of stream information includes stream descriptors each describing information, such as a stream type for identifying a compression codec of a stream, a stream PID, and stream attribute information (such as a frame rate or an aspect ratio). The stream descriptors are equal in number to<!-- EPO <DP n="48"> --> the number of streams in the multiplexed data.</p><p id="p0190" num="0190">When the multiplexed data is recorded on a recording medium and others, it is recorded together with multiplexed data information files.</p><p id="p0191" num="0191">Each of the multiplexed data information files is management information of the multiplexed data as shown in <figref idrefs="f0026">FIG. 26</figref>. The multiplexed data information files are in one to one correspondence with the multiplexed data, and each of the files includes multiplexed data information, stream attribute information, and an entry map.</p><p id="p0192" num="0192">As illustrated in <figref idrefs="f0026">FIG. 26</figref>, the multiplexed data includes a system rate, a reproduction start time, and a reproduction end time. The system rate indicates the maximum transfer rate at which a system target decoder to be described later transfers the multiplexed data to a PID filter. The intervals of the ATSs included in the multiplexed data are set to not higher than a system rate. The reproduction start time indicates a PTS in a video frame at the head of the multiplexed data. An interval of one frame is added to a PTS in a video frame at the end of the multiplexed data, and the PTS is set to the reproduction end time.</p><p id="p0193" num="0193">As shown in <figref idrefs="f0027">FIG. 27</figref>, a piece of attribute information is registered in the stream attribute information, for each PID of each stream included in the multiplexed data. Each piece of attribute information has different information depending on whether the corresponding stream is a video stream, an audio stream, a presentation graphics stream, or an interactive graphics stream. Each piece of video stream attribute information carries information including what kind of compression codec is used for compressing the video stream, and the resolution, aspect ratio and frame rate of the pieces of picture data that is included in the video stream. Each piece of audio stream attribute information carries information including what kind of compression codec is used for compressing the audio<!-- EPO <DP n="49"> --> stream, how many channels are included in the audio stream, which language the audio stream supports, and how high the sampling frequency is. The video stream attribute information and the audio stream attribute information are used for initialization of a decoder before the player plays back the information.</p><p id="p0194" num="0194">In the present embodiment, the multiplexed data to be used is of a stream type included in the PMT. Furthermore, when the multiplexed data is recorded on a recording medium, the video stream attribute information included in the multiplexed data information is used. More specifically, the moving picture coding method or the moving picture coding apparatus described in each of embodiments includes a step or a unit for allocating unique information indicating video data generated by the moving picture coding method or the moving picture coding apparatus in each of embodiments, to the stream type included in the PMT or the video stream attribute information. With the configuration, the video data generated by the moving picture coding method or the moving picture coding apparatus described in each of embodiments can be distinguished from video data that conforms to another standard.</p><p id="p0195" num="0195">Furthermore, <figref idrefs="f0028">FIG. 28</figref> illustrates steps of the moving picture decoding method according to the present embodiment. In Step exS100, the stream type included in the PMT or the video stream attribute information is obtained from the multiplexed data. Next, in Step exS101, it is determined whether or not the stream type or the video stream attribute information indicates that the multiplexed data is generated by the moving picture coding method or the moving picture coding apparatus in each of embodiments. When it is determined that the stream type or the video stream attribute information indicates that the multiplexed data is generated by the moving picture coding method or the moving picture coding apparatus in each of embodiments, in Step exS102, decoding is performed by the moving picture decoding method in each of embodiments. Furthermore, when the stream type or the video stream attribute<!-- EPO <DP n="50"> --> information indicates conformance to the conventional standards, such as MPEG-2, MPEG-4 AVC, and VC-1, in Step exS103, decoding is performed by a moving picture decoding method in conformity with the conventional standards.</p><p id="p0196" num="0196">As such, allocating a new unique value to the stream type or the video stream attribute information enables determination whether or not the moving picture decoding method or the moving picture decoding apparatus that is described in each of embodiments can perform decoding. Even when multiplexed data that conforms to a different standard, an appropriate decoding method or apparatus can be selected. Thus, it becomes possible to decode information without any error. Furthermore, the moving picture coding method or apparatus, or the moving picture decoding method or apparatus in the present embodiment can be used in the devices and systems described above.</p><heading id="h0014">(Embodiment 4)</heading><p id="p0197" num="0197">Each of the moving picture coding method, the moving picture coding apparatus, the moving picture decoding method, and the moving picture decoding apparatus in each of embodiments is typically achieved in the form of an integrated circuit or a Large Scale Integrated (LSI) circuit. As an example of the LSI, <figref idrefs="f0029">FIG. 29</figref> illustrates a configuration of the LSI ex500 that is made into one chip. The LSI ex500 includes elements ex501, ex502, ex503, ex504, ex505, ex506, ex507, ex508, and ex509 to be described below, and the elements are connected to each other through a bus ex510. The power supply circuit unit ex505 is activated by supplying each of the elements with power when the power supply circuit unit ex505 is turned on.</p><p id="p0198" num="0198">For example, when coding is performed, the LSI ex500 receives an AV signal from a microphone ex117, a camera ex113, and others through an AV IO ex509 under control of a control unit ex501 including a CPU ex502, a memory controller ex503, a stream controller ex504,<!-- EPO <DP n="51"> --> and a driving frequency control unit ex512. The received AV signal is temporarily stored in an external memory ex511, such as an SDRAM. Under control of the control unit ex501, the stored data is segmented into data portions according to the processing amount and speed to be transmitted to a signal processing unit ex507. Then, the signal processing unit ex507 codes an audio signal and/or a video signal. Here, the coding of the video signal is the coding described in each of embodiments. Furthermore, the signal processing unit ex507 sometimes multiplexes the coded audio data and the coded video data, and a stream IO ex506 provides the multiplexed data outside. The provided multiplexed data is transmitted to the base station ex107, or written on the recording media ex215. When data sets are multiplexed, the data should be temporarily stored in the buffer ex508 so that the data sets are synchronized with each other.</p><p id="p0199" num="0199">Although the memory ex511 is an element outside the LSI ex500, it may be included in the LSI ex500. The buffer ex508 is not limited to one buffer, but may be composed of buffers. Furthermore, the LSI ex500 may be made into one chip or a plurality of chips.</p><p id="p0200" num="0200">Furthermore, although the control unit ex501 includes the CPU ex502, the memory controller ex503, the stream controller ex504, the driving frequency control unit ex512, the configuration of the control unit ex501 is not limited to such. For example, the signal processing unit ex507 may further include a CPU. Inclusion of another CPU in the signal processing unit ex507 can improve the processing speed. Furthermore, as another example, the CPU ex502 may serve as or be a part of the signal processing unit ex507, and, for example, may include an audio signal processing unit. In such a case, the control unit ex501 includes the signal processing unit ex507 or the CPU ex502 including a part of the signal processing unit ex507.</p><p id="p0201" num="0201">The name used here is LSI, but it may also be called IC, system LSI, super LSI, or ultra LSI depending on the degree of integration.</p><p id="p0202" num="0202"><!-- EPO <DP n="52"> --> Moreover, ways to achieve integration are not limited to the LSI, and a special circuit or a general purpose processor and so forth can also achieve the integration. Field Programmable Gate Array (FPGA) that can be programmed after manufacturing LSIs or a reconfigurable processor that allows re-configuration of the connection or configuration of an LSI can be used for the same purpose.</p><p id="p0203" num="0203">In the future, with advancement in semiconductor technology, a brand-new technology may replace LSI. The functional blocks can be integrated using such a technology. The possibility is that the present invention is applied to biotechnology.</p><heading id="h0015">(Embodiment 5)</heading><p id="p0204" num="0204">When video data generated in the moving picture coding method or by the moving picture coding apparatus described in each of embodiments is decoded, compared to when video data that conforms to a conventional standard, such as MPEG-2, MPEG-4 AVC, and AVC-1 is decoded, the processing amount probably increases. Thus, the LSI ex500 needs to be set to a driving frequency higher than that of the CPU ex502 to be used when video data in conformity with the conventional standard is decoded. However, when the driving frequency is set higher, there is a problem that the power consumption increases.</p><p id="p0205" num="0205">In order to solve the problem, the moving picture decoding apparatus, such as the television ex300 and the LSI ex500 is configured to determine to which standard the video data conforms, and switch between the driving frequencies according to the determined standard. <figref idrefs="f0030">FIG. 30</figref> illustrates a configuration ex800 in the present embodiment. A driving frequency switching unit ex803 sets a driving frequency to a higher driving frequency when video data is generated by the moving picture coding method or the moving picture coding apparatus described in each of embodiments. Then, the driving frequency switching unit ex803 instructs a decoding<!-- EPO <DP n="53"> --> processing unit ex801 that executes the moving picture decoding method described in each of embodiments to decode the video data. When the video data conforms to the conventional standard, the driving frequency switching unit ex803 sets a driving frequency to a lower driving frequency than that of the video data generated by the moving picture coding method or the moving picture coding apparatus described in each of embodiments. Then, the driving frequency switching unit ex803 instructs the decoding processing unit ex802 that conforms to the conventional standard to decode the video data.</p><p id="p0206" num="0206">More specifically, the driving frequency switching unit ex803 includes the CPU ex502 and the driving frequency control unit ex512 in <figref idrefs="f0029">FIG. 29</figref>. Here, each of the decoding processing unit ex801 that executes the moving picture decoding method described in each of embodiments and the decoding processing unit ex802 that conforms to the conventional standard corresponds to the signal processing unit ex507 in <figref idrefs="f0029">FIG. 29</figref>. The CPU ex502 determines to which standard the video data conforms. Then, the driving frequency control unit ex512 determines a driving frequency based on a signal from the CPU ex502. Furthermore, the signal processing unit ex507 decodes the video data based on the signal from the CPU ex502. For example, the identification information described in Embodiment 3 is probably used for identifying the video data. The identification information is not limited to the one described in Embodiment 3 but may be any information as long as the information indicates to which standard the video data conforms. For example, when which standard video data conforms to can be determined based on an external signal for determining that the video data is used for a television or a disk, etc., the determination may be made based on such an external signal. Furthermore, the CPU ex502 selects a driving frequency based on, for example, a look-up table in which the standards of the video data are associated with the driving frequencies as shown in <figref idrefs="f0031">FIG. 32</figref>. The driving frequency can be selected by storing the look-up table in the buffer ex508 and in an internal memory of an LSI, and with reference to the look-up table by the CPU ex502.<!-- EPO <DP n="54"> --></p><p id="p0207" num="0207"><figref idrefs="f0031">FIG. 31</figref> illustrates steps for executing a method in the present embodiment. First, in Step exS200, the signal processing unit ex507 obtains identification information from the multiplexed data. Next, in Step exS201, the CPU ex502 determines whether or not the video data is generated by the coding method and the coding apparatus described in each of embodiments, based on the identification information. When the video data is generated by the moving picture coding method and the moving picture coding apparatus described in each of embodiments, in Step exS202, the CPU ex502 transmits a signal for setting the driving frequency to a higher driving frequency to the driving frequency control unit ex512. Then, the driving frequency control unit ex512 sets the driving frequency to the higher driving frequency. On the other hand, when the identification information indicates that the video data conforms to the conventional standard, such as MPEG-2, MPEG-4 AVC, and VC-1, in Step exS203, the CPU ex502 transmits a signal for setting the driving frequency to a lower driving frequency to the driving frequency control unit ex512. Then, the driving frequency control unit ex512 sets the driving frequency to the lower driving frequency than that in the case where the video data is generated by the moving picture coding method and the moving picture coding apparatus described in each of Embodiment.</p><p id="p0208" num="0208">Furthermore, along with the switching of the driving frequencies, the power conservation effect can be improved by changing the voltage to be applied to the LSI ex500 or an apparatus including the LSI ex500. For example, when the driving frequency is set lower, the voltage to be applied to the LSI ex500 or the apparatus including the LSI ex500 is probably set to a voltage lower than that in the case where the driving frequency is set higher.</p><p id="p0209" num="0209">Furthermore, when the processing amount for decoding is larger, the driving frequency may be set higher, and when the processing amount for decoding is smaller, the driving frequency may<!-- EPO <DP n="55"> --> be set lower as the method for setting the driving frequency. Thus, the setting method is not limited to the ones described above. For example, when the processing amount for decoding video data in conformity with MPEG-4 AVC is larger than the processing amount for decoding video data generated by the moving picture coding method and the moving picture coding apparatus described in each of embodiments, the driving frequency is probably set in reverse order to the setting described above.</p><p id="p0210" num="0210">Furthermore, the method for setting the driving frequency is not limited to the method for setting the driving frequency lower. For example, when the identification information indicates that the video data is generated by the moving picture coding method and the moving picture coding apparatus described in each of embodiments, the voltage to be applied to the LSI ex500 or the apparatus including the LSI ex500 is probably set higher. When the identification information indicates that the video data conforms to the conventional standard, such as MPEG-2, MPEG-4 AVC, and VC-1, the voltage to be applied to the LSI ex500 or the apparatus including the LSI ex500 is probably set lower. As another example, when the identification information indicates that the video data is generated by the moving picture coding method and the moving picture coding apparatus described in each of embodiments, the driving of the CPU ex502 does not probably have to be suspended. When the identification information indicates that the video data conforms to the conventional standard, such as MPEG-2, MPEG-4 AVC, and VC-1, the driving of the CPU ex502 is probably suspended at a given time because the CPU ex502 has extra processing capacity. Even when the identification information indicates that the video data is generated by the moving picture coding method and the moving picture coding apparatus described in each of embodiments, in the case where the CPU ex502 has extra processing capacity, the driving of the CPU ex502 is probably suspended at a given time. In such a case, the suspending time is probably set shorter than that in the case where when the identification information indicates that the video data conforms to<!-- EPO <DP n="56"> --> the conventional standard, such as MPEG-2, MPEG-4 AVC, and VC-1.</p><p id="p0211" num="0211">Accordingly, the power conservation effect can be improved by switching between the driving frequencies in accordance with the standard to which the video data conforms. Furthermore, when the LSI ex500 or the apparatus including the LSI ex500 is driven using a battery, the battery life can be extended with the power conservation effect.</p><heading id="h0016">(Embodiment 6)</heading><p id="p0212" num="0212">There are cases where a plurality of video data that conforms to different standards, is provided to the devices and systems, such as a television and a mobile phone. In order to enable decoding the plurality of video data that conforms to the different standards, the signal processing unit ex507 of the LSI ex500 needs to conform to the different standards. However, the problems of increase in the scale of the circuit of the LSI ex500 and increase in the cost arise with the individual use of the signal processing units ex507 that conform to the respective standards.</p><p id="p0213" num="0213">In order to solve the problem, what is conceived is a configuration in which the decoding processing unit for implementing the moving picture decoding method described in each of embodiments and the decoding processing unit that conforms to the conventional standard, such as MPEG-2, MPEG-4 AVC, and VC-1 are partly shared. Ex900 in <figref idrefs="f0032">FIG. 33A</figref> shows an example of the configuration. For example, the moving picture decoding method described in each of embodiments and the moving picture decoding method that conforms to MPEG-4 AVC have, partly in common, the details of processing, such as entropy coding, inverse quantization, deblocking filtering, and motion compensated prediction. The details of processing to be shared probably include use of a decoding processing unit ex902 that conforms to MPEG-4 AVC. In contrast, a dedicated decoding processing unit ex901 is probably used for other<!-- EPO <DP n="57"> --> processing unique to the present invention. Since the present invention is characterized by intra prediction processing in particular, for example, the dedicated decoding processing unit ex901 is used for intra prediction processing. Otherwise, the decoding processing unit is probably shared for one of the entropy coding, inverse quantization, deblocking filtering, and motion compensation, or all of the processing. The decoding processing unit for implementing the moving picture decoding method described in each of embodiments may be shared for the processing to be shared, and a dedicated decoding processing unit may be used for processing unique to that of MPEG-4 AVC.</p><p id="p0214" num="0214">Furthermore, ex1000 in <figref idrefs="f0032">FIG. 33B</figref> shows another example in that processing is partly shared. This example uses a configuration including a dedicated decoding processing unit ex1001 that supports the processing unique to the present invention, a dedicated decoding processing unit ex1002 that supports the processing unique to another conventional standard, and a decoding processing unit ex1003 that supports processing to be shared between the moving picture decoding method in the present invention and the conventional moving picture decoding method. Here, the dedicated decoding processing units ex1001 and ex1002 are not necessarily specialized for the processing of the present invention and the processing of the conventional standard, respectively, and may be the ones capable of implementing general processing. Furthermore, the configuration of the present embodiment can be implemented by the LSI ex500.</p><p id="p0215" num="0215">As such, reducing the scale of the circuit of an LSI and reducing the cost are possible by sharing the decoding processing unit for the processing to be shared between the moving picture decoding method in the present invention and the moving picture decoding method in conformity with the conventional standard.</p><heading id="h0017"><b>Industrial Applicability</b></heading><p id="p0216" num="0216"><!-- EPO <DP n="58"> --> The present invention is applicable to filtering methods, moving picture coding apparatuses, and moving picture decoding apparatuses. For example, the present invention is applicable to high-definition image display apparatuses and image capturing apparatuses such as television receivers, digital video recorders, car navigation systems, digital cameras, and digital video cameras.</p><heading id="h0018"><b>[Reference Signs List]</b></heading><p id="p0217" num="0217"><dl id="dl0001"><dt>100</dt><dd>Moving picture coding apparatus</dd><dt>101</dt><dd>Subtractor</dd><dt>102</dt><dd>Orthogonal transform unit</dd><dt>103</dt><dd>Quantization unit</dd><dt>104, 204</dt><dd>Inverse quantization unit</dd><dt>105, 205</dt><dd>Inverse orthogonal transform unit</dd><dt>106, 206</dt><dd>Adder</dd><dt>107, 207, 301, 302, 311, 322, 323, 332, 342, 343,</dt><dd/><dt>344, 351, 352, 353, 361, 362, 372,</dt><dd>Filter unit</dd><dt>108, 112, 208, 312, 324, 333, 354, 363, 371</dt><dd>Selecting unit</dd><dt>109, 209, 373</dt><dd>Memory</dd><dt>110, 210</dt><dd>Prediction unit</dd><dt>111</dt><dd>Variable length coding unit</dd><dt>113, 213</dt><dd>Control unit</dd><dt>115, 215</dt><dd>Filtering unit</dd><dt>120</dt><dd>Input image signal</dd><dt>121</dt><dd>Residual signal</dd><dt>122, 124, 224</dt><dd>Transform coefficient</dd><dt>123, 223</dt><dd>Quantized coefficient</dd><dt>125, 225</dt><dd>Decoded residual signal</dd><dt>126, 226</dt><dd>Decoded image signal</dd><dt>127, 128, 227, 228</dt><dd>Image signal</dd><dt>130, 230</dt><dd>Prediction image signal</dd><dt>131</dt><dd>Coded signal</dd><dt>132, 232</dt><dd>Coded bit stream</dd><dt>200</dt><dd>Moving picture decoding apparatus<!-- EPO <DP n="59"> --></dd><dt>211</dt><dd>Variable length decoding unit</dd><dt>212, 321, 331, 341</dt><dd>Distributing unit</dd><dt>220</dt><dd>Output image signal</dd></dl></p></description><claims mxw-id="PCLM56976119" lang="EN" load-source="patent-office"><!-- EPO <DP n="60"> --><claim id="c-en-0001" num="0001"><claim-text>A filtering method of filtering a plurality of blocks included in an image, said filtering method comprising:
<claim-text>determining whether or not each of the blocks is an Intra Pulse Code Modulation (IPCM) block;</claim-text>
<claim-text>filtering a non-IPCM block which is not the IPCM block out of the blocks to generate filtered data; and</claim-text>
<claim-text>outputting the filtered data as a value of a pixel in the non-IPCM block, and outputting, as a value of a pixel in the IPCM block, an unfiltered value of the pixel in the IPCM block.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The filtering method according to Claim 1,<br/>
wherein, in said filtering, the filtered data of the non-IPCM block is generated by performing filtering using both the value of the pixel in the IPCM block and the value of the pixel in the non-IPCM block.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The filtering method according to one of Claim 1 and Claim 2,<br/>
wherein said filtering is deblocking filtering,<br/>
in said filtering, first filtered data is generated by filtering a first non-IPCM block out of a first IPCM block and the first non-IPCM block which are adjacent to each other, and<br/>
in said outputting, the first filtered data is output as a value of a pixel in the first non-IPCM block, and an unfiltered value of a pixel in the first IPCM block is output as a value of the pixel in the first IPCM block.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The filtering method according to any one of Claim 1 to Claim 3,<br/>
wherein, in said filtering, only the non-IPCM block out of the blocks is filtered, and the IPCM block is not filtered.<!-- EPO <DP n="61"> --></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The filtering method according to any one of Claim 1 to Claim 3,<br/>
wherein, in said filtering, the filtered data is generated by filtering all of the blocks, and<br/>
in said outputting, a filtered value of the pixel in the IPCM block in the filtered data is replaced by the unfiltered value of the pixel in the IPCM block.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>A filtering method of filtering a boundary between an IPCM block and a non-Intra Pulse Code Modulation (IPCM) block which are adjacent to each other in an image, said filtering method comprising:
<claim-text>setting a first filter strength for the non-IPCM block, and setting a second filter strength for the IPCM block, the second filter strength being lower than the first filter strength; and</claim-text>
<claim-text>filtering the non-IPCM block using the first filter strength, and filtering the IPCM block using the second filter strength.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The filtering method according to Claim 6,<br/>
wherein, further in said filtering method, the second filter strength specifies that filtering is skipped.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The filtering method according to one of Claim 6 and Claim 7,<br/>
wherein the first filter strength is lower than a filter strength that is determined when the non-IPCM block is a block to be intra coded.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>A moving picture coding apparatus which codes an input image signal to generate a coded bit stream, said moving picture coding apparatus comprising:
<claim-text>a subtractor which subtracts a prediction image signal from the input image signal to generate a residual signal;<!-- EPO <DP n="62"> --></claim-text>
<claim-text>a transform and quantization unit configured to transform and quantize the residual signal to generate a quantized coefficient;</claim-text>
<claim-text>a coding unit configured to code the quantized coefficient to generate a coded signal;</claim-text>
<claim-text>a selecting unit configured to:
<claim-text>(i) select the input image signal and output the selected signal as the coded bit stream when a current block is an IPCM block which belongs to an IPCM-type block; and</claim-text>
<claim-text>(ii) select the coded signal and output the selected signal as the coded bit stream when a current block is a non-IPCM block which is not the IPCM block;</claim-text></claim-text>
<claim-text>an inverse quantization and inverse transform unit configured to perform inverse quantization and inverse transform on the quantized coefficient to generate a decoded residual signal;</claim-text>
<claim-text>an adder which adds the prediction image signal to the decoded residual signal to generate a decoded image signal;</claim-text>
<claim-text>a filtering unit configured to generate a first image signal by performing filtering according to Claim 1 using (i) a value of a pixel in the decoded image signal as the value of the pixel in the non-IPCM block and (ii) a value of a pixel in the input image signal as the value of the pixel in the IPCM block;</claim-text>
<claim-text>a memory in which the first image signal is stored; and</claim-text>
<claim-text>a prediction unit configured to generate the prediction image signal by performing prediction using the first image signal stored in said memory.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A moving picture decoding apparatus which decodes a coded bit stream to generate an output image signal, said moving picture decoding apparatus comprising:
<claim-text>a decoding unit configured to decode the coded bit stream to generate a quantized coefficient;</claim-text>
<claim-text>an inverse quantization and inverse transform unit configured to perform inverse quantization and inverse transform on the quantized coefficient to generate a decoded residual signal;<!-- EPO <DP n="63"> --></claim-text>
<claim-text>an adder which adds the prediction image signal to the decoded residual signal to generate a decoded image signal;</claim-text>
<claim-text>a filtering unit configured to generate a first image signal by performing filtering according to Claim 1 using (i) a value of a pixel in the decoded image signal as the value of the pixel in the non-IPCM block and (ii) a value of a pixel in the coded bit stream as the value of the pixel in the IPCM block;</claim-text>
<claim-text>a memory in which the first image signal is stored; and</claim-text>
<claim-text>a prediction unit configured to generate the prediction image signal by performing prediction using the first image signal stored in said memory.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>A moving picture coding and decoding apparatus comprising:
<claim-text>the moving picture coding apparatus according to Claim 9; and</claim-text>
<claim-text>the moving picture decoding apparatus according to Claim 10.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16666904" load-source="patent-office"><!-- EPO <DP n="64"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="140" he="170" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="65"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="158" he="162" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="66"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="158" he="151" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="67"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="129" he="180" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="156" he="195" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="69"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="165" he="189" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="70"> --><figure id="f0007" num="7A,7B"><img id="if0007" file="imgf0007.tif" wi="144" he="178" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="71"> --><figure id="f0008" num="8A,8B"><img id="if0008" file="imgf0008.tif" wi="149" he="166" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="72"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="165" he="210" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="73"> --><figure id="f0010" num="10A,10B,10C,10D"><img id="if0010" file="imgf0010.tif" wi="124" he="229" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="74"> --><figure id="f0011" num="10E,10F,10G,10H"><img id="if0011" file="imgf0011.tif" wi="144" he="227" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="75"> --><figure id="f0012" num="11"><img id="if0012" file="imgf0012.tif" wi="138" he="134" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="76"> --><figure id="f0013" num="12"><img id="if0013" file="imgf0013.tif" wi="142" he="178" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="77"> --><figure id="f0014" num="13"><img id="if0014" file="imgf0014.tif" wi="152" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="78"> --><figure id="f0015" num="14A,14B"><img id="if0015" file="imgf0015.tif" wi="159" he="188" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="79"> --><figure id="f0016" num="15"><img id="if0016" file="imgf0016.tif" wi="164" he="211" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="80"> --><figure id="f0017" num="16"><img id="if0017" file="imgf0017.tif" wi="164" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="81"> --><figure id="f0018" num="17"><img id="if0018" file="imgf0018.tif" wi="165" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="82"> --><figure id="f0019" num="18"><img id="if0019" file="imgf0019.tif" wi="154" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="83"> --><figure id="f0020" num="19"><img id="if0020" file="imgf0020.tif" wi="165" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="84"> --><figure id="f0021" num="20A,20B"><img id="if0021" file="imgf0021.tif" wi="165" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="85"> --><figure id="f0022" num="21"><img id="if0022" file="imgf0022.tif" wi="162" he="150" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="86"> --><figure id="f0023" num="22"><img id="if0023" file="imgf0023.tif" wi="160" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="87"> --><figure id="f0024" num="23"><img id="if0024" file="imgf0024.tif" wi="139" he="204" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="88"> --><figure id="f0025" num="24,25"><img id="if0025" file="imgf0025.tif" wi="164" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="89"> --><figure id="f0026" num="26"><img id="if0026" file="imgf0026.tif" wi="165" he="129" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="90"> --><figure id="f0027" num="27"><img id="if0027" file="imgf0027.tif" wi="145" he="198" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="91"> --><figure id="f0028" num="28"><img id="if0028" file="imgf0028.tif" wi="157" he="168" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="92"> --><figure id="f0029" num="29"><img id="if0029" file="imgf0029.tif" wi="165" he="203" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="93"> --><figure id="f0030" num="30"><img id="if0030" file="imgf0030.tif" wi="156" he="125" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="94"> --><figure id="f0031" num="31,32"><img id="if0031" file="imgf0031.tif" wi="158" he="220" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="95"> --><figure id="f0032" num="33A,33B"><img id="if0032" file="imgf0032.tif" wi="159" he="185" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="163" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
