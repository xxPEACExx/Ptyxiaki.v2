<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680456-A1" country="EP" doc-number="2680456" kind="A1" date="20140101" family-id="46545704" file-reference-id="205009" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549232" ucid="EP-2680456-A1"><document-id><country>EP</country><doc-number>2680456</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12305761-A" is-representative="YES"><document-id mxw-id="PAPP154823155" load-source="docdb" format="epo"><country>EP</country><doc-number>12305761</doc-number><kind>A</kind><date>20120628</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140448057" ucid="EP-12305761-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>12305761</doc-number><kind>A</kind><date>20120628</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988124380" load-source="ipcr">H04B   5/00        20060101AFI20121105BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988919938" load-source="docdb" scheme="CPC">H04B   5/0081      20130101 LA20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988923026" load-source="docdb" scheme="CPC">H04B   5/0062      20130101 FI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988924548" load-source="docdb" scheme="CPC">H04B   5/0031      20130101 LA20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988927829" load-source="docdb" scheme="CPC">H04B   5/0068      20130101 LA20140103BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180180" lang="DE" load-source="patent-office">Schrittweise Ladungsmodulation für Nahfeldkommunikation</invention-title><invention-title mxw-id="PT132180181" lang="EN" load-source="patent-office">Gradual load modulation for near-field communication</invention-title><invention-title mxw-id="PT132180182" lang="FR" load-source="patent-office">Modulation de charge progressive pour la communication en champ proche</invention-title><citations><patent-citations><patcit mxw-id="PCIT242652085" load-source="docdb" ucid="US-20070246546-A1"><document-id format="epo"><country>US</country><doc-number>20070246546</doc-number><kind>A1</kind><date>20071025</date></document-id><sources><source name="SEA" category="X" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652086" load-source="docdb" ucid="WO-2009015115-A1"><document-id format="epo"><country>WO</country><doc-number>2009015115</doc-number><kind>A1</kind><date>20090129</date></document-id><sources><source name="SEA" category="X" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>None</text><sources><source mxw-id="PNPL45130891" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918144358" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ST ERICSSON SA</last-name><address><country>CH</country></address></addressbook></applicant><applicant mxw-id="PPAR918156907" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ST-ERICSSON SA</last-name></addressbook></applicant><applicant mxw-id="PPAR918989392" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ST-Ericsson SA</last-name><iid>101296718</iid><address><street>39 Chemin du Champ-des-Filles</street><city>1228 Plan-les-Ouates</city><country>CH</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918154383" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>DHAYNI ACHRAF</last-name><address><country>FR</country></address></addressbook></inventor><inventor mxw-id="PPAR918153599" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>DHAYNI, ACHRAF</last-name></addressbook></inventor><inventor mxw-id="PPAR918989350" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>DHAYNI, ACHRAF</last-name><address><street>91 avenue Henri Barbusse Résidence Les Cypres 3</street><city>06220 Vallauris</city><country>FR</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918986690" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Hirsch &amp; Associés</last-name><iid>100061101</iid><address><street>58, avenue Marceau</street><city>75008 Paris</city><country>FR</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548851966" load-source="docdb">AL</country><country mxw-id="DS548873441" load-source="docdb">AT</country><country mxw-id="DS548851968" load-source="docdb">BE</country><country mxw-id="DS548838570" load-source="docdb">BG</country><country mxw-id="DS548850389" load-source="docdb">CH</country><country mxw-id="DS548855797" load-source="docdb">CY</country><country mxw-id="DS548873442" load-source="docdb">CZ</country><country mxw-id="DS548851969" load-source="docdb">DE</country><country mxw-id="DS548855798" load-source="docdb">DK</country><country mxw-id="DS548855799" load-source="docdb">EE</country><country mxw-id="DS548802292" load-source="docdb">ES</country><country mxw-id="DS548838571" load-source="docdb">FI</country><country mxw-id="DS548838572" load-source="docdb">FR</country><country mxw-id="DS548851974" load-source="docdb">GB</country><country mxw-id="DS548855800" load-source="docdb">GR</country><country mxw-id="DS548851975" load-source="docdb">HR</country><country mxw-id="DS548873443" load-source="docdb">HU</country><country mxw-id="DS548850390" load-source="docdb">IE</country><country mxw-id="DS548851976" load-source="docdb">IS</country><country mxw-id="DS548838573" load-source="docdb">IT</country><country mxw-id="DS548855801" load-source="docdb">LI</country><country mxw-id="DS548803595" load-source="docdb">LT</country><country mxw-id="DS548873444" load-source="docdb">LU</country><country mxw-id="DS548803596" load-source="docdb">LV</country><country mxw-id="DS548803597" load-source="docdb">MC</country><country mxw-id="DS548855757" load-source="docdb">MK</country><country mxw-id="DS548855758" load-source="docdb">MT</country><country mxw-id="DS548873445" load-source="docdb">NL</country><country mxw-id="DS548851977" load-source="docdb">NO</country><country mxw-id="DS548855802" load-source="docdb">PL</country><country mxw-id="DS548803599" load-source="docdb">PT</country><country mxw-id="DS548873446" load-source="docdb">RO</country><country mxw-id="DS548803600" load-source="docdb">RS</country><country mxw-id="DS548855803" load-source="docdb">SE</country><country mxw-id="DS548803601" load-source="docdb">SI</country><country mxw-id="DS548852562" load-source="docdb">SK</country><country mxw-id="DS548855804" load-source="docdb">SM</country><country mxw-id="DS548855759" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669902" lang="EN" load-source="patent-office"><p id="pa01" num="0001">A tag emulator device (TED) comprising an antenna (AT) adapted to create an electromagnetic coupling with another antenna (AR) of a reader device (RD) and circuitry adapted to modulate a magnetic field received on this antenna (AT) by modifying the load associated to the antenna (AT) according to modulating data. The load is comprised between a high value corresponding to a first value of the modulation data and a low value corresponding to a second value of the modulation data, and the circuitry is further adapted to modify gradually the load between two different values.
<img id="iaf01" file="imgaf001.tif" wi="127" he="61" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499275" lang="EN" source="EPO" load-source="docdb"><p>A tag emulator device (TED) comprising an antenna (AT) adapted to create an electromagnetic coupling with another antenna (AR) of a reader device (RD) and circuitry adapted to modulate a magnetic field received on this antenna (AT) by modifying the load associated to the antenna (AT) according to modulating data. The load is comprised between a high value corresponding to a first value of the modulation data and a low value corresponding to a second value of the modulation data, and the circuitry is further adapted to modify gradually the load between two different values.</p></abstract><description mxw-id="PDES63955332" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><u>FIELD OF THE INVENTION</u></heading><p id="p0001" num="0001">The invention relates to the field of Near-Field Communication (NFC) and more especially to the coexistence of a NFC function with other radio-frequency communication functions within a same device.</p><heading id="h0002"><u>BACKGROUND OF THE INVENTION</u></heading><p id="p0002" num="0002">Near-field communication (NFC) is a short-ranger wireless communication technology for exchanging data between devices over distances of centimeters to tens of centimeters. One example application for NFC is radio-frequency identification (RFID) where a reader device can detect and retrieve data from a tag equipped with an antenna.</p><p id="p0003" num="0003">NFC devices communicate via magnetic field induction where the two loop antennas are located within each other's near field, effectively forming an air-core transformer.</p><p id="p0004" num="0004">There are generally two modes of NFC: a passive communication mode where the initiating device provides a carrier field and the target device answers by modulating the existing field; and an active communication mode where both the initiating and target devices communicate by alternately generating their own field.</p><p id="p0005" num="0005">The target device can be a smartcard or a tag, but also more advanced devices like a mobile phone that can "emulate" the behavior of such a tag. For this reason, the passive communication mode of the target device is usually called "tag emulation mode". This device can be called "tag emulator" or transponder.</p><p id="p0006" num="0006">The <figref idrefs="f0001">figure 1</figref> is a high-level schema showing a reader device RD and a tag-emulator (or transponder) device TED.</p><p id="p0007" num="0007">The reader and tag emulator devices RD, TED have both antennas, respectively A<sub>D</sub>, A<sub>T</sub>. The reader device RD generates through its antenna A<sub>D</sub> a magnetic field at a standardized frequency of 13.56 MHz. The tag emulator devices comprises a matching circuit MC which is tuned to this frequency, so that when both antennas are close enough they are coupled by the generated magnetic field. According to the most<!-- EPO <DP n="2"> --> used standards specifications (e.g. ISO/IEC 14443), the magnetic field is a sinusoidal wave at 13.56 MHz.</p><p id="p0008" num="0008">The tag-emulator device TED also comprises a modulator MOD, which can be represented as an on/off switch. According to the status of this switch (on or off), the impedance of the electric circuit of the tag emulator device varies.</p><p id="p0009" num="0009">Due to the coupling of the antennas A<sub>R</sub>, A<sub>T</sub>, this variation causes amplitude changes to the antenna voltage of the reader device RD. This technique is called load modulation. Simply by loading the field more or less, information is transferred from the tag-emulator device TED to the reader device RD.</p><p id="p0010" num="0010">Load modulation is similar to a shallow amplitude modulation, with an amplitude index (or depth) of 10%.</p><p id="p0011" num="0011">A problem occurs when a NFC function is incorporated within a device having other radio-frequency related functionalities. For instance, a NFC device can coexist in a same electronic platform with other on-chip connectivity devices like a FM radio, a GPS, a Bluetooth or Wifi or WLAN-compliant communication interface, etc.</p><p id="p0012" num="0012">All these electronic circuits are compactly integrated to cohabit on the same chip or on a same platform. They usually share the same substrate, signals, power lines, ground lines and clock trees. This fact implies parasitic electro-magnetic coupling. The intrinsic non linearity of active devices causes out-of-band disturbances (mainly higher order signal frequency harmonics) that induce severe distortion between radio-frequency signals. These distortions are called "aliases".</p><p id="p0013" num="0013">In the worse cases, aliases may drive a circuit out of its correct operation mode.</p><p id="p0014" num="0014">In addition, some legal regulations may limit the amount of aliases allowed to be produced by a device.</p><p id="p0015" num="0015">In order to limit the aliases produced by the Near-Field Communication (NFC), it has been proposed to use Electro-Magnetic Compatibility (EMC) filters. The EMC filter is an anti-aliasing analog filter inserted at the antenna network terminals of the active NFC devices to reduce the spectral density of the aliases. It cuts higher order harmonics of the carrier frequency (13.56 MHz), and it is usually deployed both at the reader device RD side and at the tag-emulator device TED side. This is a very good<!-- EPO <DP n="3"> --> solution for the EMC problems that can be caused by the transmitter of the active NFC device in both the reader and tag-emulation modes.</p><p id="p0016" num="0016">However, the EMC problems resulting from the sidebands (harmonics) of the load modulation are not solved by the EMC filter and have not been addressed so far.</p><p id="p0017" num="0017">According to the ISO/IEC standards, the frequency fm of the load modulation is fm = nx(13.56 /128) MHZ, with N∈[1, 2, 4,8]. The sidebands are then located at Nxfm, with N=1, 2, 3, etc.</p><p id="p0018" num="0018">The previously described EMC filter is designed to filter out the 13.56 MHz harmonics and is therefore not efficient in filtering out the harmonics of the much lower load-modulation frequency fm.</p><p id="p0019" num="0019">On the other hand, it is not possible to add a second filter adapted for the fm frequency because it will filter out the carrier signal itself, resulting to the loss of all communication means between the two devices.</p><p id="p0020" num="0020">There is a need for a solution permitting to improve the situation.</p><heading id="h0003"><u>SUMMARY OF THE INVENTION</u></heading><p id="p0021" num="0021">An object of embodiments of the present invention is to alleviate at least partly the above mentioned drawbacks.</p><p id="p0022" num="0022">This is achieved with a method for performing electromagnetic communication consisting in transmitting modulation data to a first communication device from a second communication device, this method comprising steps of:
<ul><li>Coupling a first antenna associated with the first communication device and a second antenna associated with the second communication device,</li><li>Generating a magnetic field by supplying a carrier signal at a first frequency through said first antenna;</li><li>Modulating the magnetic field by modifying the load associated to the second antenna according to modulating data, this load being comprised between a high value corresponding to a first value of the modulation data and a low value corresponding to a second value of the modulation data, wherein this modification of the load between two different values is done gradually.</li></ul><!-- EPO <DP n="4"> --></p><p id="p0023" num="0023">According to embodiments of the invention, the magnetic field can be modified by changing the impedance of the electric circuit connected to the second antenna. This impedance can itself be modified from a first value to a second value by steps, which are associated to equal portions of the difference between the first value and the second values.</p><p id="p0024" num="0024">Each step may be produced by a respective portion of impedance added at a respective portion of time.</p><p id="p0025" num="0025">Another object of the invention is a computer program product comprising a computer readable medium, having thereon a computer program comprising program instructions, the computer program being loadable into a data-processing unit and adapted to cause execution of the method previously defined when the computer program is run by the data-processing unit.</p><p id="p0026" num="0026">Another object of the invention is a tag emulator device comprising
<ul><li>an antenna adapted to create an electromagnetic coupling with another antenna of a reader device and,</li><li>circuitry adapted to modulate a magnetic field received on this antenna by modifying the load associated to the antenna according to modulating data.</li></ul></p><p id="p0027" num="0027">The load is comprised between a high value corresponding to a first value of the modulation data and a low value corresponding to a second value of the modulation data, and the circuitry is further adapted to modify gradually this load between two different values.</p><p id="p0028" num="0028">According to embodiments of the invention, the circuitry can be adapted to change its impedance so as to modify the magnetic field. This impedance may be modified from a first value to a second value by steps, these steps being associated to equal portions of the difference between the first value and the second value.</p><p id="p0029" num="0029">Each step can be produced by a respective portion of impedance added at a respective portion of time.</p><p id="p0030" num="0030">The Tag emulator device may further comprise a set of switches commanding these portions of impedance and commanded by clock signals delayed by a number of delay blocks corresponding to the respective portion of time.<!-- EPO <DP n="5"> --></p><p id="p0031" num="0031">Further features and advantages of embodiments of the invention will appear from the following description of some embodiments of the invention, given as nonlimiting examples, with reference to the accompanying drawings listed hereunder.</p><heading id="h0004"><u>BRIEF DESCRIPTION OF THE DRAWINGS</u></heading><p id="p0032" num="0032"><ul><li><figref idrefs="f0001">Fig. 1</figref>, already commented, shows a high level schema of a reader device and a tag emulator device.</li><li><figref idrefs="f0001">Fig. 2</figref> shows a simplified schema of a tag emulator device according to an embodiment of the invention.</li><li><figref idrefs="f0002">Fig. 3</figref> shows an example of the evolution in time of a modulated signal according to an embodiment of the invention.</li><li><figref idrefs="f0002">Fig. 4</figref> shows examples of the modulated signal in the frequency space, according to various embodiments of the tag emulator device.</li><li><figref idrefs="f0003">Fig. 5</figref> shows a simplified schema of a possible implementation of the load modulator according to an embodiment of the invention.</li></ul></p><heading id="h0005"><u>DETAILED DESCRIPTION OF EMBODIMENTS OF THE INVENTION</u></heading><p id="p0033" num="0033">The invention can apply to any type of communication apparatus comprising a NFC device.</p><p id="p0034" num="0034">Such apparatus can be for instance mobile communication terminals (or mobile phones), e.g. the more advanced terminals called "smart phones", but also communication-enabled tablets. It can also be USB keys embedding several communication functions, etc.</p><p id="p0035" num="0035">On the <figref idrefs="f0001">figure 2</figref>, only the NFC-related circuits have been represented in order to keep it clear. However, it should be understood that the depicted circuits are connected to other circuits within the terminal. In addition, some NFC-related circuits have also been omitted, like for instance those related to other mode of the NFC device (active mode, etc.)</p><p id="p0036" num="0036">The invention should not been understood as limited to the embodiment of a tag-emulating device TED shown in the <figref idrefs="f0001">figure 2</figref>.<!-- EPO <DP n="6"> --></p><p id="p0037" num="0037">The device depicted on <figref idrefs="f0001">figure 2</figref> is on a tag emulation mode.</p><p id="p0038" num="0038">When such a tag emulator device TED is put in the vicinity of a reader device, its antenna ANT is dynamically coupled to the antenna of the reader device. The electromagnetic coupling means that the current flowing through the antenna of the reader device makes it generate a magnetic field and an induced voltage between the extremities of the antenna ANT of the tag emulator device TED.</p><p id="p0039" num="0039">What is meant by vicinity is dependent on the intensity of the generated current and on the characteristics of the reader device's antenna. These data are however usually defined by standards to which the devices comply. Usually, thus, the coupling is established when the two antennas are within an area of 1 to tens centimeters.</p><p id="p0040" num="0040">The magnetic field is generated by supplying a carrier signal at a carrier frequency fc through the antenna of the reader device.</p><p id="p0041" num="0041">According to the ISO/IEC standards, this carrier frequency fc is defined as fc=13.56 MHz.</p><p id="p0042" num="0042">The tag emulation device TED is adapted to modulate this magnetic field by modifying the load associated to its antenna, according to modulating data. The load - as seen by the antenna ANT - is comprised between a high value which correspond to a first value of the modulation data, and a low value corresponding to a second value of the modulation data. These first and second values represent the 2 possible values of a bit.</p><p id="p0043" num="0043">A NFC integrated chip, NFC_IC, comprises a digital modulator DM generating and transmitting modulation data LM_data to a load modulator LM.</p><p id="p0044" num="0044">The modulation data LM_data are a succession of bits encoding a signal to be transmitted to a reader device. The encoding scheme is out of the scope of this invention and will not be precisely described here. It is sufficient to say that different encoding schemes may be possible, like for instance the Manchester coding.</p><p id="p0045" num="0045">According the modulation data LM_data, the impedance between the transmissions outputs TX1, TX2 varies. As a result the load associated to the antenna ANT is modified accordingly, which implies a modulation of the magnetic field which can be detected by the reader device. The reader device can demodulate the field to<!-- EPO <DP n="7"> --> reconstruct the modulation data. This way, electromagnetic communication is performed between the devices by transmitting modulation data.</p><p id="p0046" num="0046">The NFC integrated chip, NFC_IC and the antenna ANT are connected by two electric modules EMC_F, MC.</p><p id="p0047" num="0047">The MC module is a matching circuit. The values of the condensers C1, C2, C1', C2' are set so as to build a resonant circuit with the coil of the antenna, and, generally, so as the whole topology circuit matches 50 ohms between the clamps TX1, TX2.</p><p id="p0048" num="0048">These values can be preset but techniques also exist to automatically tune them.</p><p id="p0049" num="0049">The EMC_F module implements an Electromagnetic Compatibility Filter, set at the carrier frequency fc. In the depicted embodiment, it is constituted by condensers C0, C0' and inductances L0, L0'.</p><p id="p0050" num="0050">This EMC filter reduces the aliases, i.e. the higher order harmonics of the carrier frequency fc.</p><p id="p0051" num="0051">All the components are also linked by a common ground GND, connected to the TVSS clamp of the NFC integrated chip NFC_IC.<br/>
According to the invention, the modification of the load associated to the antenna ANT is done gradually between 2 values.</p><p id="p0052" num="0052">This can be done by gradually changing the impedance of the electric circuit connected to the antenna.</p><p id="p0053" num="0053">More concretely, the load modulator LM reacts on the modulation data LM_data by modifying gradually, if needed, the impedance between the clamps TX1 and TX2. The modification is needed when there is a change in the value of two subsequent bits of the modulation data LM_data, i.e. for each transition from a "0" to a "1" or from a "1" to a "0".</p><p id="p0054" num="0054">The load modulator may use a linear interpolation between the 2 values of the impedance between the clamps TX1 and TX2 (corresponding to the two values of the magnetic load).</p><p id="p0055" num="0055">The gradual modification from a value to another prevents fast jumps between the 2 values, in the modulated signal transmitted from the antenna. As known from the Fourier transform theory in signal processing, fast jumps are equivalent to the presence of higher order harmonics of the frequency of the load modulation fm.<!-- EPO <DP n="8"> --> Therefore, preventing large fast jumps enables to reduce dramatically or even cancel the EMC effect created by the modulated signal.</p><p id="p0056" num="0056">According to a particular embodiment of the invention, the impedance is modified by steps.</p><p id="p0057" num="0057">These steps can be associated to equal portions of the difference between the first value and the second values.</p><p id="p0058" num="0058">The <figref idrefs="f0002">figure 3</figref> shows the evolution in time of a modulated signal. The horizontal axis represents the time. The vertical axis represents the voltage between the clamps TX1 and TX2. As explained earlier, this voltage is representative of the modulated signal transmitted by load modulation to the reader device.</p><p id="p0059" num="0059">At a time t1, the voltage is at a first value v1, corresponding to a bit at "0" in the modulation data LM_data. It is assumed that the next value for the modulation data is the opposite value (i.e. "1"). Then the voltage is gradually modified to a second (lower) value v2 by 4 steps, S1, S2, S3, S4.</p><p id="p0060" num="0060">Each of these steps is associated to an equal portion δ of the difference Δ between the first and second values. As there are here 4 steps, this portion δ is defined by <maths id="math0001" num=""><math display="inline"><mi mathvariant="normal">δ</mi><mo>=</mo><mfrac><mn mathvariant="normal">1</mn><mn mathvariant="normal">4</mn></mfrac><mo>×</mo><mi mathvariant="normal">Δ</mi><mo>,</mo></math><img id="ib0001" file="imgb0001.tif" wi="19" he="15" img-content="math" img-format="tif" inline="yes"/></maths> with Δ=v2-v1.</p><p id="p0061" num="0061">More generally, the portion δ can be defined as <maths id="math0002" num=""><math display="inline"><mi>δ</mi><mo>=</mo><mfrac><mn>1</mn><mi>L</mi></mfrac><mo>×</mo><mfenced separators=""><mi>v</mi><mo>⁢</mo><mn>2</mn><mo>-</mo><mi>v</mi><mo>⁢</mo><mn>1</mn></mfenced><mo>,</mo></math><img id="ib0002" file="imgb0002.tif" wi="33" he="14" img-content="math" img-format="tif" inline="yes"/></maths> where L is the number of steps.</p><p id="p0062" num="0062">The <figref idrefs="f0002">figure 4</figref> shows the equivalent of the modulated signal in the frequency space, as obtained by a Fourier transform.</p><p id="p0063" num="0063">The horizontal axis represents the offset frequency from the carrier frequency fc, while the vertical axis represents the attenuation in dB. Only the first 4 sidebands are represented as this is sufficient to understand the advantage of the invention.</p><p id="p0064" num="0064">The first curve C1 shows the result of a load modulation according to the state of the art, i.e. without a gradual transition from first to second values.</p><p id="p0065" num="0065">The curve C3 shows the result of a purely linear transition from first to second values.<!-- EPO <DP n="9"> --></p><p id="p0066" num="0066">The curve C2 shows the result of the previously discussed implementation with L=4 steps for the transition from first to second values.</p><p id="p0067" num="0067">This curve C2 shows already good results as the attenuation is below -20dB for the side bands. This represents a reduction of the aliases by 100, thanks to this embodiment of the invention. Better results can be achieved by increasing the number of steps L, so as to approximate more closely the curve C3 of the linear interpolation.</p><p id="p0068" num="0068">However, this increase in the number of steps may be done in the expense of silicon overhead. The value L of the number of steps is then a compromise between the wished attenuation of the aliases and the silicon overhead, it should then be chosen according to the parameters and constraints of the device or platform in which the NFC chip is embedded.</p><p id="p0069" num="0069">For instance, depending on the other communication circuits (GPS, FM radio, Wifi, Wimax...) with which the NFC communication function should cohabit, the constraints in term of aliases attenuation are not the same and the value L of the number of steps should be chosen accordingly.</p><p id="p0070" num="0070">The <figref idrefs="f0003">figure 5</figref> shows a possible implementation of the invention for actually modifying the impedance by steps from the first to the second value. This figure represents a block diagram of the load modulator LM of the <figref idrefs="f0001">figure 2</figref>.</p><p id="p0071" num="0071">This implementation is based on L=4 steps.</p><p id="p0072" num="0072">The modulation data LM_data is sent to 4 flip-flop blocks FF1, FF2, FF3, FF4.</p><p id="p0073" num="0073">A clock signal CLK_LM_data is generated by a clock CLK. It can be the usual clocks used for timing the load-modulation signal LM_data.</p><p id="p0074" num="0074">The clock signal is sent to the 4 blocks with delays generated by delay blocks DB 1, DB2, DB3. Each delay block delays the clock signal by a phase of 2π/4. In other words, the block FF1 received the unmodified clock signal CLK_LM_data; the block FF2 receives the clock signal with a delay of π/2; the block FF3 receives the clock signal with a delay of π; and the block FF4 receives the clock signal with a delay of 3π/4.</p><p id="p0075" num="0075">Each of the flip-flops FF1, FF, FF3, FF4 commands a switch SW1, SW2, SW3, SW4 respectively. They trigger the switches according to the commanding modulation data LM_data and according to the clock signal they receive. In other words, the switches change their position, each at time with a delay of 2π/4.<!-- EPO <DP n="10"> --></p><p id="p0076" num="0076">The switches are associated with a resistance 4R, connected in parallel to the clamps TX1 and TX2.</p><p id="p0077" num="0077">This value 4R corresponds to a portion of impedance producing a step associated to a portion δ of the total difference between the first and second values v1, v2. When all the resistances are connected,</p><p id="p0078" num="0078">As the resistances 4R are put in parallel, their values add up and when the last block FF4 receives its clock signal, the total impedance equals R and it corresponds to the difference Δ between the two values of the voltage.</p><p id="p0079" num="0079">This way, each step is produced by a respective portion of impedance added at a respective portion of time determined by a clock delayed by a number of delay blocks DB1, DB2, DB3 corresponding to portion of time.</p><p id="p0080" num="0080">The invention has been described with reference to preferred embodiments. However, many variations are possible within the scope of the invention.</p></description><claims mxw-id="PCLM56976248" lang="EN" load-source="patent-office"><!-- EPO <DP n="11"> --><claim id="c-en-0001" num="0001"><claim-text>A method for performing electromagnetic communication consisting in transmitting modulation data to a first communication device (RD) from a second communication device (TED), said method comprising:
<claim-text>- Coupling a first antenna (AR), associated with said first communication device (RD) and a second antenna (AT), associated with said second communication device (TED),</claim-text>
<claim-text>- Generating a magnetic field by supplying a carrier signal at a first frequency (fc) through said first antenna (AR)</claim-text>
<claim-text>- Modulating said magnetic field by modifying the load associated to said second antenna_(AT) according to modulating data, said load being comprised between a high value corresponding to a first value of said modulation data and a low value corresponding to a second value of said modulation data,<br/>
Wherein a modification of said load between two different values is done gradually.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method of claim 1, wherein said magnetic field is modified by changing the impedance of the electric circuit connected to said second antenna.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method of claim 2, wherein said impedance is modified from a first value to a second value by steps, which are associated to equal portions of the difference between said first value and said second values.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method of claim 3, wherein each step is produced by a respective portion of impedance added at a respective portion of time.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>A computer program product comprising a computer readable medium, having thereon a computer program comprising program instructions, the computer program being loadable into a data-processing unit and adapted to cause execution of the method according to any of claims 1 to 4 when the computer program is run by the data-processing unit.<!-- EPO <DP n="12"> --></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>A tag emulator device (TED) comprising an antenna (AT) adapted to create an electromagnetic coupling with another antenna (AR) of a reader device (RD) and circuitry adapted to modulate a magnetic field received on said antenna (AT) by modifying the load associated to said antenna (AT) according to modulating data, said load being comprised between a high value corresponding to a first value of said modulation data and a low value corresponding to a second value of said modulation data, and said circuitry being further adapted to modify gradually said load between two different values.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The tag emulator device of claim 6, wherein said circuitry is adapted to change its impedance so as to modify said magnetic field.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The tag emulator device of claim 7, wherein said impedance is modified from a first value to a second value by steps, said steps being associated to equal portions of the difference between said first value and said second value.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The tag emulator device of claim 8, wherein each step is produced by a respective portion of impedance added at a respective portion of time.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The tag emulator device of claim 9, comprising a set of switches commanding said portions of impedance and commanded by clock signals delayed by a number of delay blocks corresponding to said respective portion of time.</claim-text></claim></claims><drawings mxw-id="PDW16667030" load-source="patent-office"><!-- EPO <DP n="13"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="165" he="215" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="14"> --><figure id="f0002" num="3,4"><img id="if0002" file="imgf0002.tif" wi="163" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="15"> --><figure id="f0003" num="5"><img id="if0003" file="imgf0003.tif" wi="165" he="130" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="156" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="160" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
