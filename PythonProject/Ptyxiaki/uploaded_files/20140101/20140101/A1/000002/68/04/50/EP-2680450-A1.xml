<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680450-A1" country="EP" doc-number="2680450" kind="A1" date="20140101" family-id="46720966" file-reference-id="252638" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549238" ucid="EP-2680450-A1"><document-id><country>EP</country><doc-number>2680450</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12749425-A" is-representative="YES"><document-id mxw-id="PAPP154823161" load-source="docdb" format="epo"><country>EP</country><doc-number>12749425</doc-number><kind>A</kind><date>20120223</date><lang>JA</lang></document-id><document-id mxw-id="PAPP220439672" load-source="docdb" format="original"><country>EP</country><doc-number>12749425.0</doc-number><date>20120223</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140454538" ucid="JP-2011038469-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2011038469</doc-number><kind>A</kind><date>20110224</date></document-id></priority-claim><priority-claim mxw-id="PPC140450741" ucid="JP-2012054430-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012054430</doc-number><kind>W</kind><date>20120223</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988108570" load-source="docdb">H04J  11/00        20060101ALI20120911BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988130758" load-source="docdb">H04B   1/16        20060101AFI20120911BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988105293" load-source="docdb" scheme="CPC">H04L   1/0036      20130101 FI20131127BHEP        </classification-cpc><classification-cpc mxw-id="PCL2076402414" load-source="docdb" scheme="CPC">H04B   1/1027      20130101 LI20140522BHEP        </classification-cpc><classification-cpc mxw-id="PCL2091573658" load-source="docdb" scheme="CPC">H03J   7/04        20130101 LI20140624BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180198" lang="DE" load-source="patent-office">EMPFANGSVORRICHTUNG, EMPFANGSVERFAHREN UND COMPUTERPROGRAMM DAFÜR</invention-title><invention-title mxw-id="PT132180199" lang="EN" load-source="patent-office">RECEIVING DEVICE, RECEIVING METHOD, AND COMPUTER PROGRAM</invention-title><invention-title mxw-id="PT132180200" lang="FR" load-source="patent-office">DISPOSITIF DE RÉCEPTION, PROCÉDÉ DE RÉCEPTION ET PROGRAMME INFORMATIQUE</invention-title><citations><non-patent-citations><nplcit><text>See references of WO 2012115192A1</text><sources><source mxw-id="PNPL67455021" load-source="docdb" name="SEA"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918169368" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>NEC CASIO MOBILE COMM LTD</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918137574" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>NEC CASIO MOBILE COMMUNICATIONS, LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR918991975" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>NEC CASIO Mobile Communications, Ltd.</last-name><iid>101192407</iid><address><street>1753 Shimonumabe Nakahara-ku</street><city>Kawasaki-shi Kanagawa 211-8666</city><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918158350" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>NTT DOCOMO INC</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918167934" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>NTT DOCOMO, INC.</last-name></addressbook></applicant><applicant mxw-id="PPAR918987412" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>NTT Docomo, Inc.</last-name><iid>101337071</iid><address><street>11-1 Nagatacho 2-chome Chiyoda-ku</street><city>Tokyo 100-6150</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918163523" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ISHIDA KAZUHIRO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918152492" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>ISHIDA, KAZUHIRO</last-name></addressbook></inventor><inventor mxw-id="PPAR918984103" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>ISHIDA, KAZUHIRO</last-name><address><street>c/o NEC CASIO Mobile Communications Ltd. 1753 Shimonumabe Nakahara-ku</street><city>KAWASAKI-SHI, KANAGAWA 211-8666</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918991868" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Vossius &amp; Partner</last-name><iid>100751388</iid><address><street>Siebertstrasse 4</street><city>81675 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2012054430-W"><document-id><country>JP</country><doc-number>2012054430</doc-number><kind>W</kind><date>20120223</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012115192-A1"><document-id><country>WO</country><doc-number>2012115192</doc-number><kind>A1</kind><date>20120830</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548803635" load-source="docdb">AL</country><country mxw-id="DS548850693" load-source="docdb">AT</country><country mxw-id="DS548803636" load-source="docdb">BE</country><country mxw-id="DS548856062" load-source="docdb">BG</country><country mxw-id="DS548802340" load-source="docdb">CH</country><country mxw-id="DS548803637" load-source="docdb">CY</country><country mxw-id="DS548853258" load-source="docdb">CZ</country><country mxw-id="DS548873806" load-source="docdb">DE</country><country mxw-id="DS548803638" load-source="docdb">DK</country><country mxw-id="DS548803639" load-source="docdb">EE</country><country mxw-id="DS548856383" load-source="docdb">ES</country><country mxw-id="DS548856063" load-source="docdb">FI</country><country mxw-id="DS548856064" load-source="docdb">FR</country><country mxw-id="DS548873807" load-source="docdb">GB</country><country mxw-id="DS548803640" load-source="docdb">GR</country><country mxw-id="DS548873808" load-source="docdb">HR</country><country mxw-id="DS548853259" load-source="docdb">HU</country><country mxw-id="DS548802341" load-source="docdb">IE</country><country mxw-id="DS548803641" load-source="docdb">IS</country><country mxw-id="DS548856065" load-source="docdb">IT</country><country mxw-id="DS548803642" load-source="docdb">LI</country><country mxw-id="DS548873809" load-source="docdb">LT</country><country mxw-id="DS548850694" load-source="docdb">LU</country><country mxw-id="DS548856066" load-source="docdb">LV</country><country mxw-id="DS548856067" load-source="docdb">MC</country><country mxw-id="DS548850695" load-source="docdb">MK</country><country mxw-id="DS548850696" load-source="docdb">MT</country><country mxw-id="DS548856384" load-source="docdb">NL</country><country mxw-id="DS548838600" load-source="docdb">NO</country><country mxw-id="DS548856385" load-source="docdb">PL</country><country mxw-id="DS548850697" load-source="docdb">PT</country><country mxw-id="DS548802346" load-source="docdb">RO</country><country mxw-id="DS548851606" load-source="docdb">RS</country><country mxw-id="DS548856386" load-source="docdb">SE</country><country mxw-id="DS548853260" load-source="docdb">SI</country><country mxw-id="DS548838601" load-source="docdb">SK</country><country mxw-id="DS548838602" load-source="docdb">SM</country><country mxw-id="DS548856068" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669908" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Provided is a receiving device which, even when a temporary degradation occurs in the propagation path environment during an AFC tracking operation, does not require an initial lead-in operation when the propagation path environment returns to normal and which has lower power consumption and shortened time during which communication is not possible; also provided are a receiving method and a computer program. This receiving device calculates the variance of the phase rotation angle relative to a reference signal, compensating for frequency error if the rotation angle variance is less than a pre-set threshold value (TH), and stopping frequency error compensation if the rotation angle variance is greater than or equal to the threshold value (TH).<img id="iaf01" file="imgaf001.tif" wi="165" he="92" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499281" lang="EN" source="EPO" load-source="docdb"><p>Provided is a receiving device which, even when a temporary degradation occurs in the propagation path environment during an AFC tracking operation, does not require an initial lead-in operation when the propagation path environment returns to normal and which has lower power consumption and shortened time during which communication is not possible; also provided are a receiving method and a computer program. This receiving device calculates the variance of the phase rotation angle relative to a reference signal, compensating for frequency error if the rotation angle variance is less than a pre-set threshold value (TH), and stopping frequency error compensation if the rotation angle variance is greater than or equal to the threshold value (TH).</p></abstract><description mxw-id="PDES63955338" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">{Technical Field}</heading><p id="p0001" num="0001">The present invention relates to a receiver, a receiving method, and a computer program.</p><heading id="h0002">{Background Art}</heading><p id="p0002" num="0002">In a wireless communication, Auto Frequency Control (hereinafter, called "AFC") is generally used as a technique for compensating a frequency error between a base station and a terminal, which is caused owing to a product variation and a temperature change with respect to a crystal oscillator (such as a Temperature-Compensated Crystal Oscillator (TCXO) and the like).</p><p id="p0003" num="0003">In a wireless communication system of Long Term Evolution (LTE) and the like, standardized by 3rd Generation Partnership Project (3GPP); considered is a method in which the amount of error is measured for correction by using the amount of phase rotation on a time axis of a synchronization signal and a reference signal.</p><p id="p0004" num="0004">In the method, a traceable range of the amount of phase rotation is limited to a range of +/-180 degrees. Long time intervals of signals, with which the amount of phase rotation is measured, lead to the large amount of phase rotation so that a range, in which a frequency error can be compensated, is narrowed. On the other hand, short time intervals mean measuring a small variation under a stable condition so that a measuring accuracy is reduced.</p><p id="p0005" num="0005">Therefore, conducted is a two-stage control; that is to say, since a frequency<!-- EPO <DP n="2"> --> error is large in general at a stage before starting a communication between a terminal and a base station, measuring time intervals are narrowed in order to enable a larger acquisition (initial acquisition stage); and meanwhile, the measuring time intervals are widened after starting the communication stably, in order to increase an accuracy (tracking stage).</p><p id="p0006" num="0006">Traditionally, sometimes a statistics processing unit executes a variance computation process for monitoring a variation in a phase difference of a phase difference signal coming from a phase difference measuring unit; and when a variance value exceeds a criterion variance value, it is judged that most probably a wrong AFC control is conducted, and then changing an error signal for AFC is interrupted so as to stop an AFC function for maintaining an error signal based on phase difference information just before the stop (for example, refer to Patent Literature PTL 1).</p><heading id="h0003">{Citation List}</heading><heading id="h0004">{Patent Literature}</heading><p id="p0007" num="0007">PTL1: <patcit id="pcit0001" dnum="JP2001223610A"><text>JP 2001-223610 A</text></patcit></p><heading id="h0005">{Summary of Invention}</heading><heading id="h0006">{Technical Problem}</heading><p id="p0008" num="0008">Unfortunately, there is a possibility that, in the case where a temporary degradation of a propagation path environment happens during a tracking operation after a start of communication, a frequency error cannot properly be measured any more so that a wrong compensation is carried out and an error exceeds a tracking range. In such a case, it is needed to execute an initial acquisition again. At the time, because an execution of the initial acquisition, there arise problems, such as the generation of a time period in which no communication can be done, an increase in power consumption, and the like.<!-- EPO <DP n="3"> --></p><p id="p0009" num="0009">Thus, it is an objective of the present invention to give a solution to the issue described above; namely to provide a receiver, a receiving method, and a computer program that eliminate the need of an initial acquisition after a propagation path environment restores its good condition even in the case where a temporary degradation of a propagation path environment happens during a tracking operation of AFC, in such a way as to make it possible to further reduce power consumption, and to further shorten a time period in which no communication can be done.</p><heading id="h0007">{Solution to Problem}</heading><p id="p0010" num="0010">In order to give a solution to the issue described above, a receiving device according to the present invention includes: a variance calculation means for calculating a variance of inter-reference-signal phase rotation angles; and a frequency compensation means that compensates a frequency error if the variance of rotation angles is less than a predetermined first threshold, and interrupts an operation of compensating a frequency error if the variance of rotation angles is equal to or greater than the first threshold.</p><p id="p0011" num="0011">Moreover, a receiving method according to the present invention includes: a variance calculation step for calculating a variance of inter-reference-signal phase rotation angles; and a frequency compensation step that compensates a frequency error if the variance of rotation angles is less than a predetermined first threshold, and interrupts an operation of compensating a frequency error if the variance of rotation angles is equal to or greater than the first threshold.</p><p id="p0012" num="0012">Furthermore, a computer program according to the present invention to operate a computer for an operation includes a variance calculation step for calculating a variance of inter-reference-signal phase rotation angles; and a<!-- EPO <DP n="4"> --> frequency compensation step that compensates a frequency error if the variance of rotation angles is less than a predetermined first threshold, and interrupts an operation of compensating a frequency error if the variance of rotation angles is equal to or greater than the first threshold.</p><heading id="h0008">{Advantageous Effects of Invention}</heading><p id="p0013" num="0013">According to the present invention, it becomes possible to provide a receiver, a receiving method and a computer program that make it possible to further shorten a time period in which no communication can be done, and to further reduce power consumption.</p><heading id="h0009">{Brief Description of Drawings}</heading><p id="p0014" num="0014"><ul><li><figref idrefs="f0001">Fig. 1</figref> is a block diagram showing a configuration example of a receiver.</li><li><figref idrefs="f0002">Fig. 2</figref> is a block diagram showing a configuration example of an AFC control unit 16.</li><li><figref idrefs="f0003">Fig. 3</figref> is a flowchart for explaining an example of a process of TCXO control.</li><li><figref idrefs="f0004">Fig. 4</figref> is a block diagram showing another configuration example of an AFC control unit 16.</li><li><figref idrefs="f0005">Fig. 5</figref> is a flowchart for explaining another example of a process of TCXO control.</li><li><figref idrefs="f0006">Fig. 6</figref> is a block diagram showing a configuration example of hardware of a computer.</li></ul></p><heading id="h0010">{Description of Embodiments}</heading><p id="p0015" num="0015">A receiver according to an exemplary embodiment of the present invention is explained below with reference to <figref idrefs="f0001 f0002 f0003 f0004 f0005 f0006">Fig. 1 through Fig. 6</figref>.</p><p id="p0016" num="0016"><!-- EPO <DP n="5"> --><figref idrefs="f0001">Fig. 1</figref> is a block diagram showing a configuration example of a receiver. A receiver 10 receives a signal by way of a communication method specified by LTE. The receiver 10 includes a Radio Frequency (RF) unit 11, a Fast Fourier Transform (FFT) unit 12, a channel estimation unit 13, a demodulation unit 14, a channel decoding unit 15, and an AFC control unit 16.</p><p id="p0017" num="0017">A signal received by a receiving antenna (not shown) is supplied to the RF unit 11 of the receiver 10 (the signal received is hereinafter called a "received signal"). The RF unit 11 A/D-converts (to convert from Analog to Digital) the received signal, and supplies a digital signal obtained as a result of the A/D conversion, to the FFT unit 12. The FFT unit 12 transforms the digital signal into a datum of frequency components by way of a Fourier transform. Then, the FFT unit 12 supplies the datum of frequency components to the channel estimation unit 13.</p><p id="p0018" num="0018">The channel estimation unit 13 estimates a channel estimation matrix that expresses the channel status, by using a reference signal out of the datum of frequency components, the reference signal being mapped in advance on a frequency resource. Then, the channel estimation unit 13 supplies the channel estimation matrix to the demodulation unit 14 and the AFC control unit 16.</p><p id="p0019" num="0019">The demodulation unit 14 demodulates an I-component and Q-component into likelihood information, on the basis of the received signal, the channel estimation matrix estimated by the channel estimation unit 13, and the like. Then, the demodulation unit 14 supplies the likelihood information to the channel decoding unit 15. The channel decoding unit 15 carries out error correction decoding and error detection, and then supplies an obtained result to a higher-level layer.</p><p id="p0020" num="0020"><!-- EPO <DP n="6"> --> Then, the AFC control unit 16 in the receiver 10 measures a frequency error on the basis of the channel estimation matrix estimated by the channel estimation unit 13, controls a crystal oscillator, and outputs a TCXO control value.</p><p id="p0021" num="0021"><figref idrefs="f0002">Fig. 2</figref> is a block diagram showing a configuration example of the AFC control unit 16. The AFC control unit 16 includes a correlation calculation unit 21, a rotation angle calculation unit 22, a measuring time correction unit 23, a time average processing unit 24, a TCXO control unit 25, and a variance measuring unit 26.</p><p id="p0022" num="0022">The correlation calculation unit 21 calculates a correlation of RS according to Formula (1), wherein 'a' is a receiving antenna, 'b' is a transmission antenna, 't' is a time-wise direction index of a reference signal (hereinafter, also called "RS"), 'i' is a frequency-wise direction index of RS, and 'h (a, b, t, i)' is a channel estimation value corresponding to the above parameters.<br/>
{Math. 1} <maths id="math0001" num="Formula (1)"><math display="block"><mi>V</mi><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><msub><mi>N</mi><mi mathvariant="italic">AFC</mi></msub></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><msub><mi>N</mi><mi mathvariant="italic">AFC</mi></msub><mo>-</mo><mn>1</mn></mrow></munderover></mstyle><mfenced open="{" close="}" separators=""><mi mathvariant="normal">Θ</mi><mo>×</mo><mi>h</mi><mfenced><mi>a</mi><mi>b</mi><mi>t</mi><mi>i</mi></mfenced><mo>×</mo><msup><mi>h</mi><mo>*</mo></msup><mo>⁢</mo><mfenced separators=""><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>t</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>i</mi></mfenced></mfenced></math><img id="ib0001" file="imgb0001.tif" wi="141" he="27" img-content="math" img-format="tif"/></maths></p><p id="p0023" num="0023">Incidentally, an averaging number in a frequency-wise direction of RS is expressed by Formula (2).<br/>
{Math. 2} <maths id="math0002" num="Formula (2)"><math display="block"><msub><mi>N</mi><mi mathvariant="italic">AFC</mi></msub></math><img id="ib0002" file="imgb0002.tif" wi="142" he="19" img-content="math" img-format="tif"/></maths></p><p id="p0024" num="0024">Meanwhile, a correction value on an amplitude &amp; phase according to<!-- EPO <DP n="7"> --> sampling of AGC &amp; FFT is expressed by Formula (3).<br/>
{Math. 3} <maths id="math0003" num="Formula (3)"><math display="block"><mi mathvariant="normal">Θ</mi></math><img id="ib0003" file="imgb0003.tif" wi="142" he="19" img-content="math" img-format="tif"/></maths></p><p id="p0025" num="0025">The correlation calculation unit 21 supplies the correlation of RS: V (a, b, t) to the rotation angle calculation unit 22.</p><p id="p0026" num="0026">The rotation angle calculation unit 22 calculates an inter-RS rotation angle: θ(a, b, t) according to Formula (4), by using the correlation value: V (a, b, t) calculated by the correlation calculation unit 21.<br/>
{Math. 4} <maths id="math0004" num="Formula (4)"><math display="block"><mi>θ</mi><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced><mo>=</mo><mi>arctan Im</mi><mfenced separators=""><mi>V</mi><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></mfenced><mo>/</mo><mi>Re</mi><mfenced separators=""><mi>V</mi><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></mfenced></math><img id="ib0004" file="imgb0004.tif" wi="141" he="23" img-content="math" img-format="tif"/></maths></p><p id="p0027" num="0027">Incidentally, Im(c) and Re(c) in Formula (4) represent an imaginary part and a real part of a complex number c, respectively.</p><p id="p0028" num="0028">The rotation angle calculation unit 22 supplies the inter-RS rotation angle: θ(a, b, t) to the measuring time correction unit 23.</p><p id="p0029" num="0029">By using RS of a time-wise direction index t, a time difference T(t) of RS of a time-wise direction index t+1, and a criterion time T, the measuring time correction unit 23 adjusts the rotation angle: θ(a, b, t) with the criterion time T according to Formula (5).<br/>
{Math. 5}<!-- EPO <DP n="8"> --> <maths id="math0005" num="Formula (5)"><math display="block"><msub><mi>θ</mi><mi>T</mi></msub><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced><mo>=</mo><mfrac><mi>T</mi><mrow><mi>T</mi><mfenced><mi>t</mi></mfenced></mrow></mfrac><mo>⁢</mo><mi>θ</mi><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0005" file="imgb0005.tif" wi="142" he="25" img-content="math" img-format="tif"/></maths></p><p id="p0030" num="0030">The measuring time correction unit 23 supplies the rotation angle adjusted with the criterion time T to the time average processing unit 24 and the variance measuring unit 26.</p><p id="p0031" num="0031">With respect to N sets of data of the rotation angle; <maths id="math0006" num="{Math. 6}"><math display="block"><msub><mi>θ</mi><mi>T</mi></msub><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0006" file="imgb0006.tif" wi="30" he="20" img-content="math" img-format="tif"/></maths><br/>
the time average processing unit 24 calculates an average of their data according to Formula (6).</p><p id="p0032" num="0032">{Math. 7} <maths id="math0007" num="Formula (6)"><math display="block"><mover><msub><mi>θ</mi><mi>T</mi></msub><mo>‾</mo></mover><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>θ</mi><mi>T</mi></msub><mo>⁢</mo><mfenced separators=""><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>t</mi><mo>+</mo><mi>k</mi></mfenced></math><img id="ib0007" file="imgb0007.tif" wi="142" he="29" img-content="math" img-format="tif"/></maths></p><p id="p0033" num="0033">The average of N sets of data of the rotation angle; <maths id="math0008" num="{Math. 8}"><math display="block"><msub><mi>θ</mi><mi>T</mi></msub><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0008" file="imgb0008.tif" wi="30" he="20" img-content="math" img-format="tif"/></maths><br/>
is supplied to the TCXO control unit 25 by the time average processing unit 24.</p><p id="p0034" num="0034">With respect to N sets of data of the rotation angle;<!-- EPO <DP n="9"> --> <maths id="math0009" num="{Math. 9}"><math display="block"><msub><mi>θ</mi><mi>T</mi></msub><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0009" file="imgb0009.tif" wi="30" he="20" img-content="math" img-format="tif"/></maths><br/>
the variance measuring unit 26 calculates a variance of their data according to Formula (7).</p><p id="p0035" num="0035">{Math. 10} <maths id="math0010" num="Formula (7)"><math display="block"><mi>σ</mi><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>N</mi></munderover></mstyle><msup><mfenced open="{" close="}" separators=""><msub><mi>θ</mi><mi>T</mi></msub><mo>⁢</mo><mfenced separators=""><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>t</mi><mo>+</mo><mi>k</mi></mfenced></mfenced><mn>2</mn></msup><mo>-</mo><msup><mfenced open="{" close="}" separators=""><mfrac><mn>1</mn><mi>N</mi></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>N</mi></munderover></mstyle><msub><mi>θ</mi><mi>T</mi></msub><mo>⁢</mo><mfenced separators=""><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>t</mi><mo>+</mo><mi>k</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0010" file="imgb0010.tif" wi="141" he="27" img-content="math" img-format="tif"/></maths></p><p id="p0036" num="0036">The variance of N sets of data of the rotation angle; <maths id="math0011" num="{Math. 11}"><math display="block"><msub><mi>θ</mi><mi>T</mi></msub><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0011" file="imgb0011.tif" wi="30" he="20" img-content="math" img-format="tif"/></maths><br/>
is supplied to the TCXO control unit 25 by the variance measuring unit 26.</p><p id="p0037" num="0037">If the variance presented below, which the variance measuring unit 26 has calculated, is less than a threshold TH; <maths id="math0012" num="{Math. 12}"><math display="block"><msup><mi>σ</mi><mn>2</mn></msup><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0012" file="imgb0012.tif" wi="31" he="19" img-content="math" img-format="tif"/></maths><br/>
the TCXO control unit 25 calculates a TCXO control value, and conducts TCXO control.</p><p id="p0038" num="0038">In other words, the TCXO control unit 25 calculates a TCXO control value in this case by using the average of the rotation angle represented below, which the time average processing unit 24 has calculated;<!-- EPO <DP n="10"> --> <maths id="math0013" num="{Math. 13}"><math display="block"><mover><msub><mi>θ</mi><mi>T</mi></msub><mo>‾</mo></mover><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0013" file="imgb0013.tif" wi="30" he="20" img-content="math" img-format="tif"/></maths><br/>
and conducts TCXO control.</p><p id="p0039" num="0039">On the other hand, if the variance presented below is equal to or greater than the threshold TH; <maths id="math0014" num="{Math. 14}"><math display="block"><msup><mi>σ</mi><mn>2</mn></msup><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0014" file="imgb0014.tif" wi="31" he="19" img-content="math" img-format="tif"/></maths><br/>
the TCXO control unit 25 abandons a measurement result, and controls in such a way as not to change a frequency of the TCXO.</p><p id="p0040" num="0040"><figref idrefs="f0003">Fig. 3</figref> is a flowchart for explaining an example of a process of TCXO control. At Step S11, the correlation calculation unit 21 calculates a correlation of RS according to Formula (1), by using a receiving antenna: a, a transmission antenna: b, a time-wise direction index of an RS: t, a frequency-wise direction index of RS: i, and a channel estimation value corresponding to the above parameters: h (a, b, t, i).</p><p id="p0041" num="0041">At Step S12, the rotation angle calculation unit 22 calculates an inter-RS rotation angle according to Formula (4), by using the correlation value calculated by the correlation calculation unit 21.</p><p id="p0042" num="0042">At Step S13, by using RS of a time-wise direction index t, a time difference T(t) of RS of a time-wise direction index t+1, and a criterion time T, the measuring time correction unit 23 adjusts the rotation angle with the criterion time T according to Formula (5).</p><p id="p0043" num="0043"><!-- EPO <DP n="11"> --> At Step S14, the time average processing unit 24 calculates an average of N sets of data of the rotation angle, according to Formula (6).</p><p id="p0044" num="0044">At Step S15, the variance measuring unit 26 calculates a variance of N sets of data of the rotation angle, according to Formula (7).</p><p id="p0045" num="0045">At Step S16, the TCXO control unit 25 makes a judgment on whether or not the variance of N sets of data of the rotation angle is less than a threshold TH. If it is judged at Step S16 that the variance of N sets of data of the rotation angle is less than the threshold TH, operation progresses to Step S17 so that the TCXO control unit 25 calculates a TCXO control value by using the average of N sets of data of the rotation angle. At Step S18, the TCXO control unit 25 conducts TCXO control, and then the TCXO control ends.</p><p id="p0046" num="0046">If it is judged at Step S16 that the variance of N sets of data of the rotation angle is equal to or greater than the threshold TH, operation progresses to Step S19 so that the TCXO control unit 25 abandons a measurement result. Then, at Step S20, the TCXO control unit 25 controls in such a way as not to change a frequency of the TCXO, and the TCXO control ends.</p><p id="p0047" num="0047">Incidentally, the TCXO control may be conducted with reference to power of a correlation vector of a reference signal.</p><p id="p0048" num="0048"><figref idrefs="f0004">Fig. 4</figref> is a block diagram showing another configuration example of an AFC control unit 16. The AFC control unit 16 shown in <figref idrefs="f0004">Fig. 4</figref> includes a correlation calculation unit 21, a rotation angle calculation unit 22, a measuring time correction unit 23, a time average processing unit 24, a TCXO control unit 25, a variance measuring unit 26, and a power measuring unit 41. Since the correlation calculation unit 21 through the variance measuring unit 26 are the<!-- EPO <DP n="12"> --> same as those in the case that <figref idrefs="f0002">Fig. 2</figref> shows, explanation on them is skipped.</p><p id="p0049" num="0049">The correlation calculation unit 21 supplies a correlation of RS, calculated according to Formula (1), to the rotation angle calculation unit 22 and the power measuring unit 41.</p><p id="p0050" num="0050">By using the correlation vector presented below, which has been calculated by the correlation calculation unit 21; <maths id="math0015" num="{Math. 15}"><math display="block"><mi>V</mi><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0015" file="imgb0015.tif" wi="30" he="20" img-content="math" img-format="tif"/></maths><br/>
the power measuring unit 41 calculates a power average according to Formula (8).</p><p id="p0051" num="0051">{Math. 16} <maths id="math0016" num="Formula (8)"><math display="block"><mi>P</mi><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><mstyle displaystyle="true"><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mi>N</mi></munderover></mstyle><msup><mfenced open="|" close="|" separators=""><mi>V</mi><mo>⁢</mo><mfenced separators=""><mi>a</mi><mo>,</mo><mi>b</mi><mo>,</mo><mi>t</mi><mo>+</mo><mi>k</mi></mfenced></mfenced><mn>2</mn></msup></math><img id="ib0016" file="imgb0016.tif" wi="141" he="27" img-content="math" img-format="tif"/></maths></p><p id="p0052" num="0052">The power measuring unit 41 supplies the power average: P (a, b, t) to the TCXO control unit 25.</p><p id="p0053" num="0053">With respect to the variance presented below, which has been calculated by the variance measuring unit 26; <maths id="math0017" num="{Math. 17}"><math display="block"><msup><mi>σ</mi><mn>2</mn></msup><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0017" file="imgb0017.tif" wi="31" he="19" img-content="math" img-format="tif"/></maths><br/>
only if the variance is less than a threshold TH and the power average: P (a, b, t) calculated by the power measuring unit 41 is greater than a power threshold THP,<!-- EPO <DP n="13"> --> the TCXO control unit 25 calculates a TCXO control value and conducts TCXO control.</p><p id="p0054" num="0054">In other words, the TCXO control unit 25 calculates a TCXO control value in this case by using the average of the rotation angle represented below, which the time average processing unit 24 has calculated; <maths id="math0018" num="{Math. 18}"><math display="block"><mover><msub><mi>θ</mi><mi>T</mi></msub><mo>‾</mo></mover><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0018" file="imgb0018.tif" wi="30" he="20" img-content="math" img-format="tif"/></maths><br/>
and conducts TCXO control.</p><p id="p0055" num="0055">If the variance presented below is equal to or greater than the threshold TH; <maths id="math0019" num="{Math. 19}"><math display="block"><msup><mi>σ</mi><mn>2</mn></msup><mfenced><mi>a</mi><mi>b</mi><mi>t</mi></mfenced></math><img id="ib0019" file="imgb0019.tif" wi="31" he="19" img-content="math" img-format="tif"/></maths><br/>
the TCXO control unit 25 abandons a measurement result, and controls in such a way as not to change a frequency of the TCXO.</p><p id="p0056" num="0056">Moreover, if the power average: P (a, b, t) calculated by the power measuring unit 41 is equal to or less than the power threshold THP, the TCXO control unit 25 abandons a measurement result, and controls in such a way as not to change a frequency of the TCXO.</p><p id="p0057" num="0057"><figref idrefs="f0005">Fig. 5</figref> is a flowchart for explaining another example of a process of TCXO control. Since procedures of Step S41 through Step S45 are the same as those of Step S11 through Step S15 in <figref idrefs="f0003">Fig. 3</figref>, respectively, explanation on them is skipped.</p><p id="p0058" num="0058">At Step S46, the power measuring unit 41 calculates a power average: P (a, b, t) according to Formula (8), by using a correlation vector calculated by the<!-- EPO <DP n="14"> --> correlation calculation unit 21.</p><p id="p0059" num="0059">At Step S47, the TCXO control unit 25 makes a judgment on whether or not the variance of N sets of data of the rotation angle is less than a threshold TH. If it is judged at Step S47 that the variance of N sets of data of the rotation angle is less than the threshold TH, operation progresses to Step S48 so that the TCXO control unit 25 makes a judgment on whether or not the power average: P (a, b, t) is greater than the power threshold THP.</p><p id="p0060" num="0060">If it is judged at Step S48 that the power average: P (a, b, t) is greater than the power threshold THP, operation progresses to Step S49, and the TCXO control unit 25 calculates a TCXO control value by using the average of N sets of data of the rotation angle. At Step S50, the TCXO control unit 25 conducts TCXO control, and then the TCXO control ends.</p><p id="p0061" num="0061">If it is judged at Step S47 that the variance of N sets of data of the rotation angle is equal to or greater than the threshold TH, or if it is judged at Step S48 that the power average: P (a, b, t) is equal to or less than the power threshold THP, operation progresses to Step S51 so that the TCXO control unit 25 abandons a measurement result. Then, at Step S52, the TCXO control unit 25 controls in such a way as not to change a frequency of the TCXO, and the TCXO control ends.</p><p id="p0062" num="0062">Incidentally, in order to reduce the amount of processing operation, the variation may be calculated only in the case of power being great.</p><p id="p0063" num="0063">Even in the case where a temporary degradation of a propagation path environment happens during a tracking operation of AFC, an initial acquisition, after a propagation path environment restores its good condition, becomes unnecessary so that it becomes possible to reduce power consumption, and to<!-- EPO <DP n="15"> --> shorten a time period in which no communication can be done.</p><p id="p0064" num="0064">Thus, reliability (variance) of the amount of phase rotation measured is calculated, and a compensating operation of frequency is interrupted if the calculated value is equal to or greater than a threshold.</p><p id="p0065" num="0065">As described above, it is detected that reliability of the frequency error measurement is lowered due to a temporary degradation of a propagation path environment, and a control operation of frequency compensation in such a case is interrupted. Thus, a frequency error is kept away from becoming large, and a tracking operation can be done without executing an initial acquisition again, after a propagation path environment is restored.</p><p id="p0066" num="0066">The series of processes described above may be executed by means of hardware, and may also be executed by way of software. For executing the series of processes by way of software, a computer program constituting the software is installed into a computer, which is built in exclusive-use hardware, from a recording medium; or the software is installed from a recording medium, for example, into a general-purpose personal computer that can execute various functions with various computer programs being installed.</p><p id="p0067" num="0067"><figref idrefs="f0006">Fig. 6</figref> is a block diagram showing a configuration example of hardware of a computer that executes the series of processes described above by way of a computer program.</p><p id="p0068" num="0068">In the computer; a central processing unit (CPU) 101, a read only memory (ROM) 102, and a random access memory (RAM) 103 are interconnected by using a bus 104.</p><p id="p0069" num="0069"><!-- EPO <DP n="16"> --> Moreover, an I/O interface 105 is connected to the bus 104. Connected to the I/O interface 105 are; an input unit 106 including a keyboard, a mouse, a microphone, and the like; an output unit 107 including a display, a speaker, and the like; a storage unit 108 including a hard disc, a non-volatile memory, and the like; a communication unit 109 including a network interface and the like; and a drive 110 for driving a removable medium 111 such as a magnetic disc, an optical disc, a magnetic optical disc, or a semiconductor memory.</p><p id="p0070" num="0070">In the computer configured as described above, the CPU 101 loads a computer program, for example, stored in the storage unit 108, to the RAM 103 by way of the I/O interface 105 and the bus 104, and executes the program in order to carry out the series of processes described above.</p><p id="p0071" num="0071">The computer program to be executed by the computer (the CPU 101) is recorded, for being provided, in the removable medium 111 as a package medium; such as, for example, a magnetic disc (including a flexible disc), an optical disc (Compact Disc - Read Only Memory (CD-ROM), Digital Versatile Disc (DVD), and the like), a magnetic optical disc, or a semiconductor memory; or the computer program is provided via a wired or wireless transmission medium such as a local area network, the Internet, or digital satellite broadcasting.</p><p id="p0072" num="0072">Then, the computer program can be installed in the computer by way of being stored in the storage unit 108 through the I/O interface 105, while the removable medium 111 being mounted on the drive 110. Alternatively, the computer program can be installed in the computer by way of being stored in the storage unit 108, while being received in the communication unit 109 by the intermediary of a wired or wireless transmission medium. In another way, the computer program can previously be installed in the computer by way of storing the program in advance in the ROM 102 or the storage unit 108.<!-- EPO <DP n="17"> --></p><p id="p0073" num="0073">Incidentally, the program to be executed by the computer may be a program with which processes are carried out in chronological order along the sequence explained in this specification document, or may be a computer program with which processes are carried out in parallel or at the time as required, such as, in response to a call.</p><p id="p0074" num="0074">Furthermore, an embodiment of the present invention is not limited only to the embodiment described above, and various other variations may be made without departing from the concept of the present invention.</p><heading id="h0011">{Reference Signs List}</heading><p id="p0075" num="0075"><tables id="tabl0001" num="0001"><table frame="none"><tgroup cols="4" colsep="0" rowsep="0"><colspec colnum="1" colname="col1" colwidth="22mm"/><colspec colnum="2" colname="col2" colwidth="20mm"/><colspec colnum="3" colname="col3" colwidth="19mm"/><colspec colnum="4" colname="col4" colwidth="50mm"/><tbody><row><entry>10. receiver</entry><entry namest="col2" nameend="col3" align="left">11. RF unit</entry><entry>12. FFT unit</entry></row><row><entry namest="col1" nameend="col3" align="left">13. channel estimation unit</entry><entry>14. demodulation unit</entry></row><row><entry namest="col1" nameend="col3" align="left">15. channel decoding unit</entry><entry>16. AFC control unit</entry></row><row><entry namest="col1" nameend="col3" align="left">21. correlation calculation unit</entry><entry>22.rotation angle calculation unit</entry></row><row><entry namest="col1" nameend="col3" align="left">23. measuring time correction unit</entry><entry>24. time average processing unit</entry></row><row><entry namest="col1" nameend="col3" align="left">25. TCXO control unit</entry><entry>26. variance measuring unit</entry></row><row><entry namest="col1" nameend="col3" align="left">41. power measuring unit</entry><entry/></row><row><entry>101. CPU</entry><entry>102. ROM</entry><entry>103. RAM</entry><entry>108. storage unit</entry></row><row><entry namest="col1" nameend="col3" align="left">109. communication unit</entry><entry>111. removable medium</entry></row></tbody></tgroup></table></tables></p></description><claims mxw-id="PCLM56976254" lang="EN" load-source="patent-office"><!-- EPO <DP n="18"> --><claim id="c-en-0001" num="0001"><claim-text>A receiver comprising:
<claim-text>a variance calculation means for calculating a variance of inter-reference-signal phase rotation angles; and</claim-text>
<claim-text>a frequency compensation means that compensates a frequency error if the variance of rotation angles is less than a predetermined first threshold, and interrupts an operation of compensating a frequency error if the variance of rotation angles is equal to or greater than the first threshold.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The receiver according to claim 1, further comprising:
<claim-text>a power calculation means for calculating power of a correlation vector of a reference signal;</claim-text>
<claim-text>wherein the frequency compensation means compensates a frequency error if the variance of rotation angles is less than the predetermined first threshold and the power of a correlation vector is greater than a predetermined second threshold, and the frequency compensation means interrupts the operation of compensating a frequency error if the variance of rotation angles is equal to or greater than the first threshold, or if the power of a correlation vector is equal to or less than the second threshold.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>A receiving method comprising:
<claim-text>a variance calculation step for calculating a variance of inter-reference-signal phase rotation angles; and</claim-text>
<claim-text>a frequency compensation step that compensates a frequency error if the variance of rotation angles is less than a predetermined first threshold, and interrupts an operation of compensating a frequency error if the variance of rotation angles is equal to or greater than the first threshold.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>A computer program to operate a computer for an operation<!-- EPO <DP n="19"> --> comprising:
<claim-text>a variance calculation step for calculating a variance of inter-reference-signal phase rotation angles; and</claim-text>
<claim-text>a frequency compensation step that compensates a frequency error if the variance of rotation angles is less than a predetermined first threshold, and interrupts an operation of compensating a frequency error if the variance of rotation angles is equal to or greater than the first threshold.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16667036" load-source="patent-office"><!-- EPO <DP n="20"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="112" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="21"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="131" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="22"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="155" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="23"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="128" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="24"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="153" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="25"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="152" he="162" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
