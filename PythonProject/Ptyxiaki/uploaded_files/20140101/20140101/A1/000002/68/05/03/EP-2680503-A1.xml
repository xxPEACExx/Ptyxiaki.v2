<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680503-A1" country="EP" doc-number="2680503" kind="A1" date="20140101" family-id="46384250" file-reference-id="315087" date-produced="20180824" status="corrected" lang="DE"><bibliographic-data><publication-reference fvid="146549185" ucid="EP-2680503-A1"><document-id><country>EP</country><doc-number>2680503</doc-number><kind>A1</kind><date>20140101</date><lang>DE</lang></document-id></publication-reference><application-reference ucid="EP-12174476-A" is-representative="YES"><document-id mxw-id="PAPP154823108" load-source="docdb" format="epo"><country>EP</country><doc-number>12174476</doc-number><kind>A</kind><date>20120629</date><lang>DE</lang></document-id><document-id mxw-id="PAPP241303844" load-source="docdb" format="original"><country>EP</country><doc-number>12174476.7</doc-number><date>20120629</date><lang>DE</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140447700" ucid="EP-12174476-A" load-source="docdb"><document-id format="epo"><country>EP</country><doc-number>12174476</doc-number><kind>A</kind><date>20120629</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988117622" load-source="docdb">H04L  12/437       20060101AFI20121210BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988136879" load-source="docdb">H04L  12/40        20060101ALI20121210BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988922990" load-source="docdb" scheme="CPC">H04L  12/40182     20130101 FI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988923623" load-source="docdb" scheme="CPC">H04L  12/437       20130101 LI20140103BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180039" lang="DE" load-source="patent-office">Kommunikationsgerät für ein redundant betreibbares industrielles Kommunikationsnetz und Verfahren zum Betrieb eines Kommunikationsgeräts</invention-title><invention-title mxw-id="PT132180040" lang="EN" load-source="patent-office">Communication device for a redundant industrial communication network and method for operating a communication device</invention-title><invention-title mxw-id="PT132180041" lang="FR" load-source="patent-office">Appareil de communication pour un réseau de communication industriel fonctionnant de manière redondante et procédé de fonctionnement d'un appareil de communication</invention-title><citations><patent-citations><patcit mxw-id="PCIT242652028" load-source="docdb" ucid="EP-1216991-A1"><document-id format="epo"><country>EP</country><doc-number>1216991</doc-number><kind>A1</kind><date>20020626</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652029" load-source="docdb" ucid="EP-2165474-A2"><document-id format="epo"><country>EP</country><doc-number>2165474</doc-number><kind>A2</kind><date>20100324</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652030" load-source="docdb" ucid="EP-2282452-A1"><document-id format="epo"><country>EP</country><doc-number>2282452</doc-number><kind>A1</kind><date>20110209</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652031" load-source="docdb" ucid="EP-2413538-A1"><document-id format="epo"><country>EP</country><doc-number>2413538</doc-number><kind>A1</kind><date>20120201</date></document-id><sources><source name="APP" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>HUBERT KIRRMANN ET AL: "IEC 62439 PRP: Bumpless recovery for highly available, hard real-time industrial networks", 12TH IEEE INTERNATIONAL CONFERENCE ON EMERGING TECHNOLOGIES AND FACTORY AUTOMATION - 25-28 SEPT.2007 - PATRAS, GREECE, IEEE, PISCATAWAY, NJ, USA, 25 September 2007 (2007-09-25), pages 1396 - 1399, XP002572673, ISBN: 978-1-4244-0825-2, [retrieved on 20070925]</text><sources><source mxw-id="PNPL74473949" load-source="docdb" name="SEA" category="X"/></sources></nplcit><nplcit><text>IEC ED - IEC: "Part 3: Parallel Redundancy Protocol (PRP) andHigh-availability Seamless Redundancy (HSR)", INTERNET CITATION, 31 December 2010 (2010-12-31), pages 1 - 62, XP002680227, Retrieved from the Internet &lt;URL:http://lamspeople.epfl.ch/kirrmann/Pubs/IEC_61439-3/WG15-12-04d_62439-3_AMD_HK_101109.pdf&gt; [retrieved on 20120718]</text><sources><source mxw-id="PNPL74473950" load-source="docdb" name="SEA" category="XI"/></sources></nplcit><nplcit><text>N. YADEV; E.KAPADIA: "IP and Ethernet Communication Technologies and Topologies for IED networks", INTERNET ARTICLE, 20 October 2010 (2010-10-20), Internet, pages 1 - 17, XP002688860, Retrieved from the Internet &lt;URL:IP and Ethernet Communication Technologies and Topologies for IED networks&gt; [retrieved on 20121206]</text><sources><source mxw-id="PNPL74473951" load-source="docdb" name="SEA" category="A"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918162380" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SIEMENS AG</last-name><address><country>DE</country></address></addressbook></applicant><applicant mxw-id="PPAR918148801" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SIEMENS AKTIENGESELLSCHAFT</last-name></addressbook></applicant><applicant mxw-id="PPAR918987189" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Siemens Aktiengesellschaft</last-name><iid>101362070</iid><address><street>Wittelsbacherplatz 2</street><city>80333 München</city><country>DE</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918142916" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>ANGST HERMANN</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918171224" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>Angst, Hermann</last-name></addressbook></inventor><inventor mxw-id="PPAR918992779" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Angst, Hermann</last-name><address><street>Hinterm Dorf 21</street><city>76199 Karlsruhe</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918136137" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>LOHMEYER JOACHIM</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918171981" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>LOHMEYER, JOACHIM</last-name></addressbook></inventor><inventor mxw-id="PPAR918991339" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>LOHMEYER, JOACHIM</last-name><address><street>Meckenhausen M 78</street><city>91161 Hilpoltstein</city><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918133790" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>KLOTZ DIETER</last-name><address><country>DE</country></address></addressbook></inventor><inventor mxw-id="PPAR918136930" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>KLOTZ, DIETER</last-name></addressbook></inventor><inventor mxw-id="PPAR918989985" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>KLOTZ, DIETER</last-name><address><street>Kannenbergstr. 15</street><city>90768 Fürth</city><country>DE</country></address></addressbook></inventor></inventors></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548803005" load-source="docdb">AL</country><country mxw-id="DS548854280" load-source="docdb">AT</country><country mxw-id="DS548803011" load-source="docdb">BE</country><country mxw-id="DS548847915" load-source="docdb">BG</country><country mxw-id="DS548837405" load-source="docdb">CH</country><country mxw-id="DS548868220" load-source="docdb">CY</country><country mxw-id="DS548854281" load-source="docdb">CZ</country><country mxw-id="DS548803012" load-source="docdb">DE</country><country mxw-id="DS548868221" load-source="docdb">DK</country><country mxw-id="DS548868222" load-source="docdb">EE</country><country mxw-id="DS548854207" load-source="docdb">ES</country><country mxw-id="DS548847916" load-source="docdb">FI</country><country mxw-id="DS548848513" load-source="docdb">FR</country><country mxw-id="DS548803013" load-source="docdb">GB</country><country mxw-id="DS548868223" load-source="docdb">GR</country><country mxw-id="DS548803018" load-source="docdb">HR</country><country mxw-id="DS548854282" load-source="docdb">HU</country><country mxw-id="DS548837406" load-source="docdb">IE</country><country mxw-id="DS548868224" load-source="docdb">IS</country><country mxw-id="DS548848514" load-source="docdb">IT</country><country mxw-id="DS548868225" load-source="docdb">LI</country><country mxw-id="DS548847917" load-source="docdb">LT</country><country mxw-id="DS548801768" load-source="docdb">LU</country><country mxw-id="DS548847918" load-source="docdb">LV</country><country mxw-id="DS548847919" load-source="docdb">MC</country><country mxw-id="DS548801769" load-source="docdb">MK</country><country mxw-id="DS548801770" load-source="docdb">MT</country><country mxw-id="DS548854208" load-source="docdb">NL</country><country mxw-id="DS548848515" load-source="docdb">NO</country><country mxw-id="DS548801771" load-source="docdb">PL</country><country mxw-id="DS548837407" load-source="docdb">PT</country><country mxw-id="DS548854209" load-source="docdb">RO</country><country mxw-id="DS548837408" load-source="docdb">RS</country><country mxw-id="DS548801772" load-source="docdb">SE</country><country mxw-id="DS548803020" load-source="docdb">SI</country><country mxw-id="DS548848516" load-source="docdb">SK</country><country mxw-id="DS548801773" load-source="docdb">SM</country><country mxw-id="DS548868226" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669855" lang="DE" load-source="patent-office"><p id="pa01" num="0001">Ein Kommunikationsgerät für ein redundant betreibbares industrielles Kommunikationsnetz umfaßt mehrere erste und zweite Sende- und Empfangseinheiten, die jeweils eine Schnittstelle für eine Netzverbindung des industriellen Kommunikationsnetzes aufweisen und jeweils einem von mehreren redundant betreibbaren Teilnetzen zugeordnet sind. Die ersten und zweiten Sende- und Empfangseinheiten sind über ein Koppelelement mit einer für alle redundant betreibbaren Teilnetze gemeinsamen Signalverarbeitungseinheit verbunden. Bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz fügt die Signalverarbeitungseinheit eine dem zweiten redundanten Teilnetz zugeordnete Kennung in die Nachricht ein und koppelt die Nachricht über das Koppelelement an eine dem zweiten redundanten Teilnetz zugeordnete Redundanzbehandlungseinheit rück.
<img id="iaf01" file="imgaf001.tif" wi="154" he="103" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499228" lang="DE" source="EPO" load-source="docdb"><p>Ein Kommunikationsgerät für ein redundant betreibbares industrielles Kommunikationsnetz umfaßt mehrere erste und zweite Sende- und Empfangseinheiten, die jeweils eine Schnittstelle für eine Netzverbindung des industriellen Kommunikationsnetzes aufweisen und jeweils einem von mehreren redundant betreibbaren Teilnetzen zugeordnet sind. Die ersten und zweiten Sende- und Empfangseinheiten sind über ein Koppelelement mit einer für alle redundant betreibbaren Teilnetze gemeinsamen Signalverarbeitungseinheit verbunden. Bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz fügt die Signalverarbeitungseinheit eine dem zweiten redundanten Teilnetz zugeordnete Kennung in die Nachricht ein und koppelt die Nachricht über das Koppelelement an eine dem zweiten redundanten Teilnetz zugeordnete Redundanzbehandlungseinheit rück.</p></abstract><abstract mxw-id="PA136428578" lang="EN" source="transcript" load-source="docdb"><p>The device (1) has first and second transmitting and receiving units (101-106) that are provided with an interface, and are associated with redundant sub-nets (21-23). The first and second transmitting and receiving units are connected to subnets signal processing unit (11) via a coupling element (12). The signal processing unit is used to couple the message via the coupling element to second redundant subnet associated redundancy treatment unit (1122), when forwarding a message from a first redundant subnet to a second redundant subnet. An independent claim is included for a method for operating communication device.</p></abstract><description mxw-id="PDES63955285" lang="DE" load-source="patent-office"><!-- EPO <DP n="1"> --><p id="p0001" num="0001">Ein industrielles Automatisierungssystem umfaßt üblicherweise eine Vielzahl von über ein industrielles Kommunikationsnetz miteinander vernetzten Automatisierungsgeräten und dient im Rahmen einer Fertigungs- oder Prozeßautomatisierung zur Steuerung oder Regelung von Anlagen, Maschinen bzw. Geräten. Aufgrund zeitkritischer Rahmenbedingungen in mittels industrieller Automatisierungssysteme automatisierten technischen Systemen werden in industriellen Kommunikationsnetzen zur Kommunikation zwischen Automatisierungsgeräten überwiegend Echzeit-Kommunikationsprotokolle, wie Profinet, Profibus oder Real-Time-Ethernet, verwendet.</p><p id="p0002" num="0002">Unterbrechungen von Kommunikationsverbindungen zwischen Rechnereinheiten eines industriellen Automatisierungssystems oder Automatisierungsgeräten können zu einer unerwünschten oder unnötigen Wiederholung einer Übermittlung einer Dienstanforderung führen. Dies verursacht eine zusätzliche Auslastung von Kommunikationsverbindungen des industriellen Automatisierungssystems, was zu weiteren Systemstörungen oder -fehlern führen kann. Eine besondere Problematik resultiert in industriellen Automatisierungssystemen regelmäßig aus einem Meldungsverkehr mit verhältnismäßig vielen, aber relativ kurzen Nachrichten, wodurch obige Probleme verstärkt werden.</p><p id="p0003" num="0003">Um Ausfälle von Kommunikationsverbindungen oder -geräten kompensieren zu können, sind Kommunikationsprotokolle, wie<!-- EPO <DP n="2"> --> Media Redundancy Protocol, High-availability Seamless Redundancy oder Parallel Redundancy Protocol, für hochverfügbare, redundant betreibbare in industriellen Kommunikationsnetze entwickelt worden. Media Redundancy Protocol (MRP) ist im Standard IEC 62439 definiert und ermöglicht eine Kompensation einzelner Verbindungsausfälle in Netzen mit einfacher Ringtopologie bei stoßbehafteter redundanter Übertragung von Nachrichten.</p><p id="p0004" num="0004">High-availability Seamless Redundancy (HSR) und Parallel Redundancy Protocol (PRP) sind im Standard IEC 62439-3 definiert und ermöglichen eine stoßfreie redundante Übertragung von Nachrichten. Entsprechend High-availability Seamless Redundancy und Parallel Redundancy Protocol wird jede Nachricht von einem sendenden Kommunikationsgerät dupliziert und auf zwei verschiedenen Wegen zu einem Empfänger geschickt. Durch ein empfängerseitiges Kommunikationsgerät werden Duplikate darstellende redundante Nachrichten aus einem empfangenen Datenstrom ausgefiltert.</p><p id="p0005" num="0005">In einem redundanten HSR- oder PRP-Kommunikationsnetz kann eine Netzkomponente, die einen Zugriff auf das redundante Kommunikationsnetz bereitstellt, unterschiedliche Rollen annehmen. Eine solche Netzkomponente, die Telegramme zwischen Teilnehmern oder Endgeräten in einem HSR- oder PRP-Kommunikationsnetz einerseits und Endgeräten bzw. Netzsegmenten ohne HSR/PRP-Funktionalität andererseits vermittelt, wird als HSR/PRP-Proxy oder RedBox bezeichnet. Grundsätzlich kann eine Netzkomponente für einen Zugriff auf ein redundantes HSR-oder PRP-Kommunikationsnetz mehrere HSR-Ringe verbinden oder Kommunikation zwischen HSR- und PRP-Netzsegmenten umsetzen. In diesem Fall wird die Netzkomponente als HSR-HSR-Koppler oder QuadBox bzw. HSR-PRP-Koppler bezeichnet.<!-- EPO <DP n="3"> --></p><p id="p0006" num="0006">Aus <patcit id="pcit0001" dnum="EP2165474A2"><text>EP 2 165 474 A2</text></patcit> ist ein Verfahren zum Betreiben eines Netzes bekannt, das einen Switch sowie daran angeschlossene Netzinfrastrukturgeräte aufweist. Der Switch wird von einer Steuereinheit gesteuert. Eine zwischen den Switch und die Steuereinheit geschaltete Redundanzeinheit analysiert einen Datenstrom zwischen Switch und Steuereinheit und fügt in Abhängigkeit von einem Analyseergebnis Daten in den Datenstrom ein bzw. entfernt Daten aus dem Datenstrom.</p><p id="p0007" num="0007">In <patcit id="pcit0002" dnum="EP2282452A1"><text>EP 2 282 452 A1</text></patcit> ist ein Verfahren zur Datenübermittlung innerhalb eines ringartigen Kommunikationsnetzes beschrieben, bei dem die Datenübermittlung entsprechend High-availability Seamless Redundancy erfolgt und das Kommunikationsnetz zumindest einen Master-Knoten, einen Quellknoten und einen Zielknoten umfaßt. Jeder Knoten weist eine erste und eine zweite Kommunikationsschnittstelle mit einem jeweiligen ersten und zweiten Nachbarknoten auf. Darüber hinaus empfängt jeder Knoten Datenrahmen über die erste Kommunikationsschnittstelle und leitet den empfangenen Datenrahmen entweder verändert oder unverändert über die zweite Kommunikationsschnittstelle ohne zusätzliche Verzögerung weiter. Der Master-Knoten sendet einen ersten und zweiten redundanten Datenrahmen oder einen leeren Datenrahmen an seinen ersten bzw. zweiten Nachbarknoten. Bei Empfang der beiden redundanten Datenrahmen befüllt der Quellknoten den jeweiligen Datenrahmen in einem vorbestimmten reservierten Bereich mit Prozeßdaten. Anschließend wird jeder befüllte Datenrahmen umgehend und individuell an den ersten bzw. zweiten Nachbarknoten des Quellknotens weitergeleitet. Der Zielknoten extrahiert schließlich die Prozeßdaten aus dem ersten empfangenen befüllten Datenrahmen eines Paars von redundanten Datenrahmen.<!-- EPO <DP n="4"> --></p><p id="p0008" num="0008">Aus <patcit id="pcit0003" dnum="EP2413538A1"><text>EP 2 413 538 A1</text></patcit> ist ein Verfahren zur redundanten Kommunikation in einem Kommunikationssystem bekannt, das mehrere Kommunikationsnetze umfaßt. Die Kommunikationsnetze sind über zumindest einen Kopplungsknoten miteinander verbunden. Eine Rückübertragung von Daten, die aus einem ersten Kommunikationsnetz stammen, aus einem zweiten Kommunikationsnetz zurück in das erste Kommunikationsnetz wird auf Grund einer vor Datenübertragung definierten Information verhindert.</p><p id="p0009" num="0009">In der älteren europäischen Patentanmeldung mit dem Anmeldeaktenzeichen <patcit id="pcit0004" dnum="EP12169919A"><text>12169919.3</text></patcit> ist ein Kommunikationsgerät für ein redundant betreibbares industrielles Kommunikationsnetz beschrieben, das mehrere erste und zweite Sende- und Empfangseinheiten umfaßt, die jeweils eine Schnittstelle für eine Netzverbindung des industriellen Kommunikationsnetzes aufweisen und jeweils einem von mehreren redundant betreibbaren Teilnetzen zugeordnet sind. Die ersten und zweiten Sende- und Empfangseinheiten sind über ein Koppelelement mit einer für alle redundant betreibbaren Teilnetze gemeinsamen Signalverarbeitungseinheit verbunden. Für jedes Paar von einer ersten Sende- und Empfangseinheit und einer dieser zugeordneten zweiten Sende- und Empfangseinheit zugeordneten Anschlüssen sowie einem der Signalverarbeitungseinheit zugeordneten Anschluß wird jeweils ein virtuelles lokales Netz eingerichtet. Die Signalverarbeitungseinheit leitet für sämtliche ersten und zweiten Sende- und Empfangseinheiten anhand einer Kennung des jeweiligen virtuellen lokalen Netzes zu sendende Nachrichten parallel an die jeweilige erste und zweite Sende- und Empfangseinheit weiter und detektiert empfangene redundante Nachrichten.<!-- EPO <DP n="5"> --></p><p id="p0010" num="0010">Der vorliegenden Erfindung liegt die Aufgabe zugrunde, ein leistungsfähiges und kostengünstiges Kommunikationsgerät zur zuverlässigen Ankopplung einer Vielzahl von HSR- bzw. PRP-Netzsegmenten an ein redundanzfreies Teilnetz oder an einen einfach angebundenen Netzknoten und ein Verfahren zum Betrieb eines solchen Kommunikationsgeräts anzugeben.</p><p id="p0011" num="0011">Diese Aufgabe wird erfindungsgemäß durch ein Kommunikationsgerät mit den in Anspruch 1 angegebenen Merkmalen und durch ein Verfahren mit den in Anspruch 13 angegebenen Merkmalen gelöst. Vorteilhafte Weiterbildungen der vorliegenden Erfindung sind in den abhängigen Ansprüchen angegeben.</p><p id="p0012" num="0012">Das erfindungsgemäße Kommunikationsgerät umfaßt eine Mehrzahl erster und zweiter Sende- und Empfangseinheiten, die jeweils eine Schnittstelle für eine Netzverbindung eines redundanten Teilnetzes aufweisen. Dabei weisen jeweils eine erste Sende-und Empfangseinheit und eine dieser zugeordnete zweite Sende-und Empfangseinheit eine identische Netzadresse und einen identischen Geräteidentifikator auf. Bei dem Geräteidentifikator kann es sich beispielsweise um eine MAC-Adresse handeln. Mit den ersten und zweiten Sende- und Empfangseinheiten ist eine Signalverarbeitungseinheit verbunden, die eine Multiplexereinheit zur parallelen Weiterleitung zu sendender Nachrichten an beide Sendeeinheiten und eine Redundanzbehandlungseinheit zur Verarbeitung von beiden Empfangseinheiten empfangener Nachrichten aufweist. Des weiteren umfaßt die Redundanzbehandlungseinheit eine Filtereinheit, die für eine Detektion empfangener redundanter Nachrichten eingerichtet ist. Je nach Protokollebene kann eine Nachricht beispielsweise durch ein Datensegment, ein Datenpaket oder einen Datenrahmen repräsentiert werden.<!-- EPO <DP n="6"> --></p><p id="p0013" num="0013">Mit der Signalverarbeitungseinheit ist erfindungsgemäß ein Koppelelement verbunden, über das ein einfach angebundener Netzknoten oder ein redundanzfreies Teilnetz mit der Signalverarbeitungseinheit verbunden ist. Das Koppelelement ist vorzugsweise ein Hochgeschwindigkeitsbus, über den beispielsweise weitere einfach angebundene Netzknoten oder redundanzfreie Teilnetze mit der Signalverarbeitungseinheit verbunden sein können. Alternativ hierzu kann das Koppelelement grundsätzlich auch mittels eines Matrix-Schaltnetzes realisiert sein. Eine Datenübertragung innerhalb des industriellen Kommunikationsnetzes kann beispielsweise entsprechend High-availability Seamless Redundancy bzw. entsprechend Parallel Redundancy Protocol erfolgen.</p><p id="p0014" num="0014">Darüber hinaus ist Signalverarbeitungseinheit erfindungsgemäße über das Koppelelement mit der Mehrzahl von ersten und zweiten Sende- und Empfangseinheiten verbunden. Dabei ist die Signalverarbeitungseinheit mit dem Koppelelement zumindest über ein erstes und ein zweites Anschlußpaar verbunden. Dem Koppelelement ist eine Steuerungseinheit zugeordnet, die für einen Betrieb von virtuellen lokalen Netzen eingerichtet ist. Unter virtuelle lokale Netze sind beispielsweise als VLAN bezeichnete logische Gruppierungen von Kommunikationsteilnehmern bzw. Anschlüssen zu subsumieren. Für jeden einer ersten Sende- und Empfangseinheit zugeordneten Anschluß sowie einen ersten Anschluß des ersten Anschlußpaars jeweils ist ein virtuelles lokales Netz eingerichtet. In entsprechender Weise ist für jeden einer zweiten Sende- und Empfangseinheit zugeordneten Anschluß sowie einen zweiten Anschluß des ersten Anschlußpaars jeweils ein virtuelles lokales Netz eingerichtet. Eine Einrichtung von virtuellen lokalen Netzen kann grundsätzlich portbasiert oder dynamisch erfolgen. Des<!-- EPO <DP n="7"> --> weiteren ist die Signalverarbeitungseinheit zur parallelen Weiterleitung zu sendender Nachrichten und zur Detektion empfangener redundanter Nachrichten für sämtliche ersten und zweiten Sende- und Empfangseinheiten anhand einer Kennung des jeweiligen virtuellen lokalen Netzes eingerichtet.</p><p id="p0015" num="0015">Erfindungsgemäß ist die Signalverarbeitungseinheit bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz für ein Einfügen einer dem zweiten redundanten Teilnetz zugeordneten Kennung in die Nachricht eingerichtet. Darüber hinaus ist die Signalverarbeitungseinheit bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz für ein Rückkoppeln der Nachricht über einen ersten Anschluß des zweiten Anschlußpaars, das Koppelelement und einen zweiten Anschluß des zweiten Anschlußpaars an eine dem zweiten redundanten Teilnetz zugeordnete Redundanzbehandlungseinheit eingerichtet. Hierzu umfaßt das Koppelelement ein Speicherelement, das für eine Zwischenspeicherung einer über das Koppelelement rückgekoppelten Nachricht eingerichtet ist. Vorzugsweise ist die Signalverarbeitungseinheit bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz für ein Entfernen einer dem zweiten redundanten Teilnetz zugeordneten Kennung aus einer rückgekoppelten Nachricht eingerichtet.</p><p id="p0016" num="0016">Das erfindungsgemäße Kommunikationsgerät ermöglicht eine Kopplung mehrerer HSR- oder PRP-Netzsegmente mit nur einer Signalverarbeitungseinheit. Dadurch daß Nachrichten aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz über das Koppelelement in die Signalverarbeitungseinheit rückgekoppelt werden, kann das Speicherelement der Koppeleinheit zur Zwischenspeicherung<!-- EPO <DP n="8"> --> verwendet werden. Somit können Speicherengpässe bei einer Zwischenspeicherung in der Signalverarbeitungseinheit vermieden und eine Vielzahl von Signalverarbeitungsinstanzen für die einzelnen redundanten Teilnetze durch die Signalverarbeitungseinheit bereitgestellt werden.</p><p id="p0017" num="0017">Die Signalverarbeitungseinheit ist vorzugsweise mittels eines Field Programmable Gate Arrays (FPGA) realisiert, und das Koppelelement ist beispielsweise ein Backplane Switch mit zugeordnetem Controller. Somit kann ein FPGA quasi als Coprozessor für einen Backplane Switch Controller Netzkopplungsaufgaben übernehmen. Außerdem kann der Backplane Switch über zumindest einen Interlink-Anschluß mit dem einfach angebundenen Netzknoten oder redundanzfreien Teilnetz mit der Signalverarbeitungseinheit verbunden sein. Da Backplane Switch Controller üblicherweise eine VLAN-Funktionalität aufweisen, kann eine Anbindung eines FPGA als Coprozessor für einen Backplane Switch vereinfacht werden. Das FPGA kann nämlich anhand jeweiliger VLAN-Kennungen in Datenrahmen Nachrichten nach jeweiligen HSR- oder PRP-Netzsegmenten differenziert behandeln. Auf diese Weise ist eine erhebliche Aufwandsreduktion für eine Kopplung mehrerer redundanter Netzsegmente möglich. Dies wirkt sich einerseits Herstellungskosten und Energieverbrauch des erfindungsgemäßen Kommunikationsgeräts, andererseits aber auch auf einen geringeren Platzbedarf durch kompaktere Abmessungen aus.</p><p id="p0018" num="0018">Zusätzlich kann ein FPGA zur Speicherung einer Tabelle (proxy node table) mit Angaben zu sämtlichen mit dem Koppelelement verbundenen einfach angebundenen Netzknoten genutzt werden. Dies ermöglicht eine einfache Verwaltung von mit dem erfindungsgemäßen Kommunikationsgerät verbundenen einfach angebundenen Netzknoten. Daher kann das erfindungsgemäße Kommunikationsgerät als Grundlage genutzt werden, um auf<!-- EPO <DP n="9"> --> einfache Weise Geräte wie HSR/PRP-Proxy oder HSR/PRP-RedBox zu realisieren. Grundsätzlich kann das erfindungsgemäße Kommunikationsgerät je nach Anwendungsgebiet als RedBox, QuadBox oder HSR-PRP-Koppler ausgeführt sein. Unterschiedliche Anwendungsgebiete stellen somit keine Einschränkung für eine Verwendbarkeit des erfindungsgemäßen Kommunikationsgeräts dar.</p><p id="p0019" num="0019">Entsprechend einer bevorzugten Weiterbildung des erfindungsgemäßen Kommunikationsgeräts ist das Koppelelement mit einer Mehrzahl einfach angebundener Netzknoten oder redundanzfreier Teilnetze verbunden. Dabei ist für den einfach angebundenen Netzknoten oder den redundanzfreien Teilnetzen zugeordnete Anschlüsse sowie für das zweite Anschlußpaar ein zusätzliches virtuelles lokales Netz eingerichtet. Damit können mehrere redundante HSR- oder PRP-Netzsegmente auf einfache Weise mit mehreren redundanzfreien Netzsegmenten verbunden werden.</p><p id="p0020" num="0020">Zueinander redundante Nachrichten sind entsprechend einer weiteren Ausgestaltung des erfindungsgemäßen Kommunikationsgeräts durch eine einheitliche Sequenznummer gekennzeichnet. Dabei ist der Signalverarbeitungseinheit eine Speichereinheit zugeordnet, die für eine Speicherung von Sequenznummern bereits fehlerfrei empfangener Nachrichten eingerichtet ist. Zudem ist die Redundanzbehandlungseinheit bei dieser weiteren Ausgestaltung für eine Überprüfung auf eine bereits gespeicherte Sequenznummer bei Empfang einer neuen Nachricht eingerichtet. Auf diese Weise ist eine Entlastung des Koppelelements von einer Ermittlung und Behandlung redundant gesendeter Nachrichten möglich, so daß eine entsprechende Funktionalität in einen auf der Signalverarbeitungseinheit basierenden Coprozessor für das Koppelelement integriert werden kann.<!-- EPO <DP n="10"> --></p><p id="p0021" num="0021">Entsprechend einer bevorzugten Ausgestaltung des erfindungsgemäßen Kommunikationsgeräts ist das Kommunikationsgerät derart eingerichtet, daß von den ersten Sende- und Empfangseinheiten empfangene Nachrichten über den ersten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden. Von den zweiten Sende- und Empfangseinheiten empfangene Nachrichten werden dagegen über den zweiten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt. An erste Sende- und Empfangseinheiten gerichtete Nachrichten werden über den ersten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt. An zweite Sende-und Empfangseinheiten gerichtete Nachrichten werden in entsprechender Weise über den zweiten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt. Dies ermöglicht einen erhöhten Nachrichtendurchsatz und eine zuverlässige Zuordnung von Nachrichten zu Signalverarbeitungsinstanzen der Signalverarbeitungseinheit.</p><p id="p0022" num="0022">Vorzugsweise ist das erfindungsgemäße Kommunikationsgerät derart ausgestaltet und eingerichtet, daß von einfach angebundenen Netzknoten oder redundanzfreien Teilnetzen empfangene Nachrichten über den ersten oder zweiten Anschluß des zweiten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden. Dabei werden an einfach angebundene Netzknoten oder redundanzfreie Teilnetze gerichtete Nachrichten über den ersten oder zweiten Anschluß des zweiten Anschlußpaars an die Signalverarbeitungseinheit übermittelt. Dies ermöglicht einen hohen Nachrichtendurchsatz und eine zuverlässige Zuordnung von Nachrichten zu jeweiligen einfach angebundenen Netzknoten oder redundanzfreien Teilnetzen.<!-- EPO <DP n="11"> --></p><p id="p0023" num="0023">Entsprechend einer weiteren vorteilhaften Ausgestaltung des erfindungsgemäßen Kommunikationsgeräts ist für jedes redundante Teilnetz eine zugeordnete Instanz in der Signalverarbeitungseinheit vorgesehen. Außerdem ist die Signalverarbeitungseinheit für ein Auslesen von Absenderadresse und Kennung eines virtuellen lokalen Netzes aus einer von einer ersten oder zweiten Sende- und Empfangseinheit empfangenen Nachricht eingerichtet. Des weiteren ist die Signalverarbeitungseinheit für ein Speichern einer aus einer Nachricht ausgelesenen Adresse und einer zugehörigen Kennung eines virtuellen lokalen Netzes in einer Adreß-Instanz-Tabelle eingerichtet. Darüber hinaus ist die Signalverarbeitungseinheit für eine Weiterleitung einer Nachricht an eine zu einer Zieladresse zugeordnete Instanz entsprechend einem Abfrageergebnis aus der Adreß-Instanz-Tabelle eingerichtet. Dies ermöglicht eine besonders zuverlässige und leistungsfähige Nachrichtenverarbeitung. Zusätzlich oder alternativ zu einem Auslesen aus einer Nachricht kann die Signalverarbeitungseinheit für ein Abrufen einer Zuordnung zwischen Netzadresse und Kennung eines virtuellen lokalen Netzes aus einer in einem Speicherelement des Koppelelements gespeicherten Adreßtabelle eingerichtet sein. In diesem Fall ist die Signalverarbeitungseinheit für ein Speichern einer abgerufenen Zuordnung zwischen Netzadresse und Kennung eines virtuellen lokalen Netzes in der Adreß-Instanz-Tabelle eingerichtet. Dies ermöglicht eine zuverlässige und schnelle Zuordnung von Nachrichten zu Signalverarbeitungsinstanzen der Signalverarbeitungseinheit. Vorzugsweise ist die Signalverarbeitungseinheit für ein Löschen eines Eintrags aus der Adreß-Instanz-Tabelle nach Ablauf einer vorgebbaren Gültigkeitsdauer eingerichtet. Damit können topologische Änderungen zuverlässig in der Adreß-Instanz-Tabelle berücksichtigt werden.<!-- EPO <DP n="12"> --></p><p id="p0024" num="0024">Entsprechend dem erfindungsgemäßen Verfahren zum Betrieb eines Kommunikationsgeräts in einem redundanten industriellen Kommunikationsnetz umfaßt eine Mehrzahl erster und zweiter Sende- und Empfangseinheiten, die jeweils eine Schnittstelle für eine Netzverbindung eines redundanten Teilnetzes aufweisen. Dabei weisen jeweils eine erste Sende- und Empfangseinheit und eine dieser zugeordnete zweite Sende- und Empfangseinheit eine identische Netzadresse und einen identischen Geräteidentifikator auf. Mit der ersten und zweiten Sende- und Empfangseinheit ist eine Signalverarbeitungseinheit verbunden, die zu sendende Nachrichten parallel an beide Sendeeinheiten weiterleitet und von den Empfangseinheiten empfangene redundante Nachrichten detektiert. Mit der Signalverarbeitungseinheit ist ein Koppelelement verbunden, über das ein einfach angebundener Netzknoten oder ein redundanzfreies Teilnetz mit der Signalverarbeitungseinheit verbunden ist. Innerhalb des industriellen Kommunikationsnetzes können Nachrichten beispielsweise entsprechend High-availability Seamless Redundancy bzw. entsprechend Parallel Redundancy Protocol übertragen werden.</p><p id="p0025" num="0025">Die Signalverarbeitungseinheit ist entsprechend dem erfindungsgemäßen Verfahren über das Koppelelement mit der Mehrzahl von ersten und zweiten Sende- und Empfangseinheiten verbunden. Dabei ist die Signalverarbeitungseinheit mit dem Koppelelement zumindest über ein erstes und ein zweites Anschlußpaar verbunden. Dem Koppelelement ist ferner eine Steuerungseinheit zugeordnet, die für einen Betrieb von virtuellen lokalen Netzen eingerichtet wird. Für jeden einer ersten Sende- und Empfangseinheit zugeordneten Anschluß sowie einen ersten Anschluß des ersten Anschlußpaars wird jeweils ein virtuelles lokales Netz eingerichtet. In entsprechender Weise wird für jeden einer zweiten Sende- und Empfangseinheit<!-- EPO <DP n="13"> --> zugeordneten Anschluß sowie einen zweiten Anschluß des ersten Anschlußpaars jeweils ein virtuelles lokales Netz eingerichtet. Die Signalverarbeitungseinheit leitet für sämtliche ersten und zweiten Sende- und Empfangseinheiten anhand einer Kennung des jeweiligen virtuellen lokalen Netzes zu sendende Nachrichten parallel an die jeweilige erste oder zweite Sende- und Empfangseinheit weiter und detektiert empfangene redundante Nachrichten. Die Kennung eines virtuellen lokalen Netzes kann beispielsweise mittels Frame-Tagging entsprechend IEEE 802.1Q, Inter-Switch Link (ISL) oder FDDI 802.10 (Fiber Distributed Data Interface) realisiert sein.</p><p id="p0026" num="0026">Bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz fügt die Signalverarbeitungseinheit erfindungsgemäß eine dem zweiten redundanten Teilnetz zugeordnete Kennung in die Nachricht ein. Darüber hinaus koppelt die Signalverarbeitungseinheit bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz die Nachricht über einen ersten Anschluß des zweiten Anschlußpaars, das Koppelelement sowie einen zweiten Anschluß des zweiten Anschlußpaars an eine dem zweiten redundanten Teilnetz zugeordnete Redundanzbehandlungseinheit rück. Dabei umfaßt das Koppelelement ein Speicherelement, in dem eine über das Koppelelement rückgekoppelte Nachricht zwischengespeichert wird. Bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz entfernt die Signalverarbeitungseinheit vorzugsweise eine dem zweiten redundanten Teilnetz zugeordnete Kennung aus einer rückgekoppelten Nachricht.<!-- EPO <DP n="14"> --></p><p id="p0027" num="0027">Insgesamt ermöglicht das erfindungsgemäße Verfahren eine Vermeidung von Speicherengpässen durch eine Zwischenspeicherung in der Signalverarbeitungseinheit aufgrund der Verwendung des Speicherelements der Koppeleinheit zur Zwischenspeicherung. Daher kann eine Vielzahl von Signalverarbeitungsinstanzen für die einzelnen redundanten Teilnetze durch die Signalverarbeitungseinheit bereitgestellt werden.</p><p id="p0028" num="0028">Entsprechend einer vorteilhaften Ausgestaltung des erfindungsgemäßen Verfahrens ist das Koppelelement mit einer Mehrzahl einfach angebundener Netzknoten oder redundanzfreier Teilnetze verbunden. Dabei wird für den einfach angebundenen Netzknoten oder den redundanzfreien Teilnetzen zugeordnete Anschlüsse sowie für das zweite Anschlußpaar ein zusätzliches virtuelles lokales Netz eingerichtet. Auf diese Weise können mehrere redundante HSR- oder PRP-Netzsegmente effizient mit mehreren redundanzfreien Netzsegmenten gekoppelt werden.</p><p id="p0029" num="0029">Zueinander redundante Nachrichten werden entsprechend einer bevorzugten Ausgestaltung des erfindungsgemäßen Verfahrens durch eine einheitliche Sequenznummer gekennzeichnet. Darüber hinaus werden vorzugsweise in einer der Signalverarbeitungseinheit zugeordneten Speichereinheit Sequenznummern von bereits fehlerfrei empfangenen Nachrichten gespeichert. Bei Empfang einer neuen Nachricht kann die Signalverarbeitungseinheit deren Sequenznummer damit auf Übereinstimmung mit einer bereits gespeicherten Sequenznummer auf einfache Weise überprüfen.</p><p id="p0030" num="0030">Entsprechend einer weiteren vorteilhaften Ausgestaltung des erfindungsgemäßen Verfahrens werden von den ersten Sende- und Empfangseinheiten empfangene Nachrichten über den ersten Anschluß des ersten Anschlußpaars an die<!-- EPO <DP n="15"> --> Signalverarbeitungseinheit übermittelt. Analog dazu werden von den zweiten Sende- und Empfangseinheiten empfangene Nachrichten über den zweiten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt. An erste Sende- und Empfangseinheiten gerichtete Nachrichten werden über den ersten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt. Dagegen werden an zweite Sende- und Empfangseinheiten gerichtete Nachrichten vorteilhafterweise über den zweiten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt. Damit können Nachrichten zu Signalverarbeitungsinstanzen der Signalverarbeitungseinheit auch bei einem erhöhten Nachrichtendurchsatz zuverlässig zugeordnet werden.</p><p id="p0031" num="0031">Vorzugsweise werden von einfach angebundenen Netzknoten oder redundanzfreien Teilnetzen empfangene Nachrichten über den ersten oder zweiten Anschluß des zweiten Anschlußpaars an die Signalverarbeitungseinheit übermittelt. Umgekehrt werden an einfach angebundene Netzknoten oder redundanzfreie Teilnetze gerichtete Nachrichten vorteilhafterweise über den ersten oder zweiten Anschluß des zweiten Anschlußpaars an die Signalverarbeitungseinheit übermittelt. Damit können Nachrichten zu jeweiligen einfach angebundenen Netzknoten oder redundanzfreien Teilnetzen zuverlässig zugeordnet werden.</p><p id="p0032" num="0032">Entsprechend einer besonders bevorzugten Ausgestaltung des erfindungsgemäßen Verfahrens ist für jedes redundante Teilnetz eine zugeordnete Instanz in der Signalverarbeitungseinheit vorgesehen. Außerdem liest die Signalverarbeitungseinheit eine Absenderadresse und Kennung eines virtuellen lokalen Netzes aus einer von einer ersten oder zweiten Sende- und Empfangseinheit empfangenen Nachricht aus. Des weiteren speichert die Signalverarbeitungseinheit<!-- EPO <DP n="16"> --> eine aus einer Nachricht ausgelesene Adresse und eine zugehörige Kennung eines virtuellen lokalen Netzes in einer Adreß-Instanz-Tabelle. Entsprechend einem Abfrageergebnis aus der Adreß-Instanz-Tabelle leitet die Signalverarbeitungseinheit eine Nachricht an eine zu einer Zieladresse zugeordnete Instanz weiter. Auf diese Weise können Nachrichten zuverlässig durch zugeordnete Signalverarbeitungsinstanzen der Signalverarbeitungseinheit verarbeitet werden.</p><p id="p0033" num="0033">Zusätzlich oder alternativ zu einem Auslesen einer Absenderadresse und einer Kennung eines virtuellen lokalen Netzes aus einer Nachricht kann die Signalverarbeitungseinheit eine Zuordnung zwischen Netzadresse und Kennung eines virtuellen lokalen Netzes aus einer in einem Speicherelement des Koppelelements gespeicherten Adreßtabelle abrufen. In diesem Fall speichert die Signalverarbeitungseinheit eine abgerufene Zuordnung zwischen Netzadresse und Kennung eines virtuellen lokalen Netzes in der Adreß-Instanz-Tabelle. Damit können Nachrichten zu Signalverarbeitungsinstanzen der Signalverarbeitungseinheit zuverlässig und schnell zugeordnet werden. Vorzugsweise löscht die Signalverarbeitungseinheit einen Eintrag aus der Adreß-Instanz-Tabelle nach Ablauf einer vorgebbaren Gültigkeitsdauer. Dies ermöglicht eine zuverlässige Berücksichtigung von topologischen Änderungen in der Adreß-Instanz-Tabelle.</p><p id="p0034" num="0034">Die vorliegende Erfindung wird nachfolgend an einem Ausführungsbeispiel anhand der Zeichnung näher erläutert. Es zeigt
<dl id="dl0001" compact="compact"><dt>Figur 1</dt><dd>eine schematische Darstellung von zwei Kommunikationsgeräten für ein redundant betreibbares industrielles Kommunikationsnetz,<!-- EPO <DP n="17"> --></dd><dt>Figur 2</dt><dd>eine schematische Darstellung einer Signalverarbeitungsinstanz der Kommunikationsgeräte gemäß <figref idrefs="f0001">Figur 1</figref>.</dd></dl></p><p id="p0035" num="0035">In <figref idrefs="f0001">Figur 1</figref> sind zwei Kommunikationsgeräte 1 für ein redundant betreibbares industrielles Kommunikationsnetz dargestellt, das mehrere HSR-Teilnetze 21-23 umfaßt, in denen Nachrichten entsprechend High Availability Seamless Redundancy (HSR) übertragen werden. Dabei umfaßt eine Nachricht zumindest einen Datenrahmen. Die HSR-Teilnetze 21-23 weisen jeweils eine Ringtopologie auf. Für ein erstes HSR-Teilnetz 21 ist beispielhaft detaillierter dargestellt, daß mehrere Netzknoten 211-216 in einer Ringstruktur über Netzverbindungen miteinander verbunden sind. Zu den Netzknoten 211-216 kann beispielsweise ein Netzknoten zählen, der einem SCADA-System (supervisory control and data acquisition) eines industriellen Fertigungs- oder Prozeßautomatisierungssystems zugeordnet ist. In die Ringstruktur der HSR-Teilnetze 21-23 sind auch die beiden Kommunikationsgerät 1 eingebunden, die im vorliegenden Ausführungsbeispiel jeweils eine mit mehreren redundant betriebenen HSR-Teilnetzen 21-23 verbundene RedBox darstellen. Zusätzlich sind beide Kommunikationsgeräte 1 jeweils über einen einfach angebundenen Netzknoten mit einem PRP-Teilnetz verbunden, innerhalb dessen Nachrichten entsprechend Parallel Redundancy Protocol übertragen werden. Das PRP-Teilnetz umfaßt zwei zueinander redundante Netzsegmente 31, an die jeweils mehrere Netzknoten doppelt angebunden sind.</p><p id="p0036" num="0036">Die Kommunikationsgeräte 1 umfassen jeweils mehrere erste 101, 103, 105 und zweite Sende- und Empfangseinheiten 102, 104, 106, die jeweils eine Schnittstelle für eine<!-- EPO <DP n="18"> --> Netzverbindung eines redundant betriebenen HSR-Teilnetzes 21-23 aufweisen. Einander zugeordnete erste und zweite Sende-und Empfangseinheiten 101-102, 103-104, 105-106 weisen eine identische Netzadresse und eine identische MAC-Adresse auf. Über ein durch einen Backplane Switch realisiertes Koppelelement 12 sind die ersten und zweiten Sende- und Empfangseinheiten 101-106 mit einer durch ein Field Programmable Gate Array (FPGA) realisierten Signalverarbeitungseinheit 11 verbunden, die mehrere über eine Vorverarbeitungseinheit 111 gekoppelte und gesteuerte Signalverarbeitungsinstanzen 112 umfaßt. Dabei sind Signalverarbeitungseinheit 11 und das Koppelelement 12 im vorliegenden Ausführungsbeispiel über ein erstes Anschlußpaar P1-P2 und ein zweites Anschlußpaar I1-I2 miteinander verbunden.</p><p id="p0037" num="0037">Im vorliegenden Ausführungsbeispiel ist für jedes HSR-Teilnetz 21-23 eine zugeordnete Signalverarbeitungsinstanz 112 vorgesehen. Dabei ist die Vorverarbeitungseinheit 111 zur Kommunikation zwischen dem Koppelelement 12 und den einzelnen Signalverarbeitungsinstanzen 112 vorgesehen. Alternativ zu einer Signalverarbeitungseinheit 11 mit mehreren Signalverarbeitungsinstanzen 112 kann grundsätzlich auch eine monolithische Signalverarbeitungseinheit 11 mit Multi-Instanz-Fähigkeit zu verwenden. Während Nachrichten bei einer Signalverarbeitungseinheit 11 mit mehreren Signalverarbeitungsinstanzen 112 grundsätzlich parallel verarbeitet werden können, erfolgt bei einer monolithischen Signalverarbeitungseinheit 11 eine sequentielle Verarbeitung in mehreren Instanzen.</p><p id="p0038" num="0038">Entsprechend <figref idrefs="f0002">Figur 2</figref> implementieren die Signalverarbeitungsinstanzen 112 jeweils eine Multiplexereinheit 1121 zur parallelen Weiterleitung zu<!-- EPO <DP n="19"> --> sendender Nachrichten an die Sende- und Empfangseinheiten 101-106 und eine Redundanzbehandlungseinheit 1122 zur Verarbeitung von den durch die Sende- und Empfangseinheiten 101-106 empfangenen Nachrichten. Die Redundanzbehandlungseinheit 1122 umfaßt eine Filtereinheit, die für eine Detektion empfangener redundanter Nachrichten eingerichtet ist.</p><p id="p0039" num="0039">Das einen zugeordneten Controller 121 aufweisende Koppelelement 12 ist über jeweils einen Interlink-Anschluß A1, A2, An mit einem Netzsegment 31 des PRP-Teilnetzes bzw. mit einem einfach angebundenen Netzknoten 32, 33 verbunden. Grundsätzlich könnte das Koppelelement 12 auch mit einem oder mehreren redundanzfreien Teilnetzen verbunden sein. Nachfolgende Ausführungen gelten für einen derartigen Anwendungsfall gleichermaßen.</p><p id="p0040" num="0040">Die Signalverarbeitungseinheit 11 weist zusätzlich eine Speichereinheit 113 auf, in der eine Tabelle (proxy node table) mit Angaben zu sämtlichen mit dem Koppelelement 12 verbundenen einfach angebundenen Netzknoten gespeichert ist. Dies ermöglicht eine einfache Verwaltung von mit dem Kommunikationsgerät 1 verbundenen einfach angebundenen Netzknoten.</p><p id="p0041" num="0041">Der Controller 121 des Koppelelements 12 umfaßt eine Steuerungseinheit 122 zur Konfiguration und Verwaltung von virtuellen lokalen Netzen zur Zusammenfassung von Teilnehmer- bzw. Anschlußgruppen über Grenzen von Broadcast-Domänen hinweg. Damit ist der Controller 121 für einen Betrieb von virtuellen lokalen Netzen eingerichtet. Für jeden einer ersten Sende- und Empfangseinheit 101, 103, 105 zugeordneten Anschluß R11, R21, Rn1 sowie einen ersten Anschluß P1 des ersten Anschlußpaars P1-P2 wird jeweils ein virtuelles<!-- EPO <DP n="20"> --> lokales Netz eingerichtet. In entsprechender Weise wird für jeden einer zweiten Sende- und Empfangseinheit 102, 104, 106 zugeordneten Anschluß R12, R22, Rn2 sowie einen zweiten Anschluß P2 des ersten Anschlußpaars P1-P2 jeweils ein virtuelles lokales Netz eingerichtet.</p><p id="p0042" num="0042">Einem virtuellen lokalen Netz zugeordnete Nachrichten werden beispielsweise durch eine in einen jeweiligen Datenrahmen eingefügte Kennung des virtuellen lokalen Netzes gekennzeichnet. Diese Kennung wird durch die Vorverarbeitungseinheit 111 ausgewertet, welche die jeweilige Nachricht an die zugeordnete Signalverarbeitungsinstanz 112 weiterleitet. Damit kann die Signalverarbeitungseinheit 11 für sämtliche ersten und zweiten Sende- und Empfangseinheiten 101-106 anhand der Kennung des jeweiligen virtuellen lokalen Netzes zu sendende Nachrichten parallel an die jeweilige erste und zweite Sende- und Empfangseinheit weiterleiten und empfangene redundante Nachrichten detektieren. Somit ist lediglich eine Signalverarbeitungseinheit 11 anstelle einer Vielzahl von Signalverarbeitungseinheiten erforderlich, die zur parallelen Weiterleitung zu sendender Nachrichten und zur Detektion empfangener redundanter Nachrichten für sämtliche ersten und zweiten Sende- und Empfangseinheiten 101-106 anhand einer Kennung des jeweiligen virtuellen lokalen Netzes eingerichtet ist. In entsprechender Weise wird auch für den Netzsegmenten 31, den einfach angebundenen Netzknoten 32-33 oder redundanzfreien Teilnetzen zugeordnete Anschlüsse sowie für das zweite Anschlußpaar I1-I2 ein zusätzliches virtuelles lokales Netz eingerichtet.</p><p id="p0043" num="0043">Zur Verwaltung der Signalverarbeitungsinstanzen 112 durch die Signalverarbeitungseinheit 11 liest die Vorverarbeitungseinheit 111 eine Absenderadresse und Kennung eines virtuellen lokalen Netzes aus einer von einer ersten<!-- EPO <DP n="21"> --> oder zweiten Sende- und Empfangseinheit 101-106 empfangenen Nachricht aus. Anschließend speichert die Vorverarbeitungseinheit 111 eine aus einer Nachricht ausgelesene Adresse und eine zugehörige Kennung eines virtuellen lokalen Netzes in einer Adreß-Instanz-Tabelle, die in eine hierfür reservierte Speichereinheit 114 der Signalverarbeitungseinheit 11 geschrieben bzw. aus dieser gelesen wird. Entsprechend einem Abfrageergebnis aus der Adreß-Instanz-Tabelle leitet die Vorverarbeitungseinheit 111 eine Nachricht an eine zu einer Zieladresse zugeordnete Signalverarbeitungsinstanz 112 weiter.</p><p id="p0044" num="0044">Zusätzlich oder alternativ zu einem Auslesen einer Absenderadresse und einer Kennung eines virtuellen lokalen Netzes aus einer Nachricht kann die Signalverarbeitungseinheit 11 eine Zuordnung zwischen Netzadresse und Kennung eines virtuellen lokalen Netzes aus einer in einem Speicherelement 123 des Koppelelements gespeicherten Adreßtabelle abrufen. In diesem Fall speichert die Signalverarbeitungseinheit 11 eine abgerufene Zuordnung zwischen Netzadresse und Kennung eines virtuellen lokalen Netzes in der Adreß-Instanz-Tabelle. Nach Ablauf einer vorgebbaren Gültigkeitsdauer löscht die Signalverarbeitungseinheit 11 einen Eintrag aus der Adreß-Instanz-Tabelle, so daß Topologieänderungen berücksichtigt werden können.</p><p id="p0045" num="0045">Bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz 21-23 an ein zweites redundantes Teilnetz 21-23 fügt die Vorverarbeitungseinheit 111 eine dem zweiten redundanten Teilnetz zugeordnete Kennung in die Nachricht ein und koppelt die Nachricht über einen ersten Anschluß I1 des zweiten Anschlußpaars I1-I2, das Koppelelement 12 sowie einen zweiten Anschluß 12 des zweiten<!-- EPO <DP n="22"> --> Anschlußpaars I1-I2 an eine dem zweiten redundanten Teilnetz zugeordnete Signalverarbeitungsinstanz 112 rück. Dabei umfaßt das Koppelelement 12 ein Speicherelement 123, in dem eine über das Koppelelement 12 rückgekoppelte Nachricht zwischengespeichert wird. Darüber hinaus entfernt die Vorverarbeitungseinheit 111 bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz 21-23 an ein zweites redundantes Teilnetz 21-23 eine dem zweiten redundanten Teilnetz zugeordnete Kennung aus einer rückgekoppelten Nachricht, und zwar nach ihrer Rückkopplung in die Signalverarbeitungseinheit 11.</p><p id="p0046" num="0046">Von den ersten Sende- und Empfangseinheiten 101, 103, 105 empfangene Nachrichten werden über den ersten Anschluß P1 des ersten Anschlußpaars P1-P2 an die Signalverarbeitungseinheit 11 übermittelt. In entsprechender Weise werden von den zweiten Sende- und Empfangseinheiten 102, 104, 106 empfangene Nachrichten über den zweiten Anschluß P2 des ersten Anschlußpaars P1-P2 an die Signalverarbeitungseinheit 11 übermittelt. Des weiteren werden an erste Sende- und Empfangseinheiten 101, 103, 105 gerichtete Nachrichten über den ersten Anschluß P1 des ersten Anschlußpaars P1-P2 an die Signalverarbeitungseinheit 11 übermittelt. Analog dazu werden an zweite Sende- und Empfangseinheiten 102, 104, 106 gerichtete Nachrichten über den zweiten Anschluß P2 des ersten Anschlußpaars P1-P2 an die Signalverarbeitungseinheit 11 übermittelt.</p><p id="p0047" num="0047">Von einfach angebundenen Netzknoten oder redundanzfreien Teilnetzen empfangene Nachrichten werden über den ersten oder zweiten Anschluß I1, 12 des zweiten Anschlußpaars I1-I2 an die Signalverarbeitungseinheit 11 übermittelt. Dementsprechend werden an einfach angebundene Netzknoten oder redundanzfreie Teilnetze gerichtete Nachrichten über den<!-- EPO <DP n="23"> --> ersten oder zweiten Anschluß I1, 12 des zweiten Anschlußpaars I1-I2 an die Signalverarbeitungseinheit 11 übermittelt.</p><p id="p0048" num="0048">Für interne Anschlüsse zwischen den Signalverarbeitungsinstanzen 112 und der Vorverarbeitungseinheit sowie die beiden Anschlußpaare P1-P2, I1-I2 gelten folgende Beziehungen:
<ul><li>alle Anschlüsse Px1 sind dem ersten Anschluß P1 des ersten Anschlußpaars P1-P2 zugeordnet;</li><li>alle Anschlüsse Px2 sind dem zweiten Anschluß P2 des ersten Anschlußpaars P1-P2 zugeordnet;</li><li>alle Anschlüsse Ix1 sind dem ersten Anschluß I1 des zweiten Anschlußpaars I1-I2 zugeordnet;</li><li>alle Anschlüsse Ix2 sind dem zweiten Anschluß 12 des zweiten Anschlußpaars I1-I2 zugeordnet.</li></ul></p><p id="p0049" num="0049">Insgesamt ergibt sich mit vorangehend beschriebenen Beziehungen zwischen den Anschlüssen eine eindeutige Zuordnung zwischen Anschlüssen des Koppelelements 12 und Anschlüssen der Signalverarbeitungsinstanzen 122. Damit wird eine zuverlässige Zuordnung von Nachrichten zu Ziel- bzw. Quell-Signalverarbeitungsinstanzen in der Signalverarbeitungseinheit 11 erzielt.</p><p id="p0050" num="0050">Zueinander redundante Nachrichten werden sowohl bei einer Datenübertragung entsprechend High-availability Seamless Redundancy als auch bei einer Datenübertragung entsprechend Parallel Redundancy Protocol durch eine einheitliche Sequenznummer gekennzeichnet. Daher sind den Signalverarbeitungsinstanzen 112 jeweils eine Speichereinheit 1123 zugeordnet, die für eine Speicherung von Sequenznummern bereits fehlerfrei empfangener Nachrichten bzw. für eine für eine Speicherung von bereits fehlerfrei empfangenen Nachrichten eingerichtet ist. Auf dieser Grundlage überprüft<!-- EPO <DP n="24"> --> die Signalverarbeitungseinheit 11 bei Empfang einer neuen Nachricht dessen Sequenznummer auf Übereinstimmung mit einer bereits gespeicherten Sequenznummer und veranlaßt eine Redundanzbehandlung, und zwar für alle mit dem Kommunikationsgerät 1 verbundenen redundant betriebenen Teilnetze 21-23.</p><p id="p0051" num="0051">Die Merkmale der vorangehend beschriebenen Ausführungsbeispiele können sowohl einzeln als auch in beschriebener Kombination miteinander realisiert sein.</p></description><claims mxw-id="PCLM56976200" lang="DE" load-source="patent-office"><!-- EPO <DP n="25"> --><claim id="c-de-0001" num="0001"><claim-text>Kommunikationsgerät für ein redundant betreibbares industrielles Kommunikationsnetz mit
<claim-text>- zumindest einer ersten und einer zweiten Sende- und Empfangseinheit, die jeweils eine Schnittstelle für eine Netzverbindung eines redundanten Teilnetzes aufweisen, wobei beide Sende- und Empfangseinheiten eine identische Netzadresse und einen identischen Geräteidentifikator aufweisen,</claim-text>
<claim-text>- einer mit der ersten und zweiten Sende- und Empfangseinheit verbundenen Signalverarbeitungseinheit, die eine Multiplexereinheit zur parallelen Weiterleitung zu sendender Nachrichten an beide Sendeeinheiten und eine Redundanzbehandlungseinheit zur Verarbeitung von beiden Empfangseinheiten empfangener Nachrichten aufweist, wobei die Redundanzbehandlungseinheit eine Filtereinheit umfaßt, die für eine Detektion empfangener redundanter Nachrichten eingerichtet ist,</claim-text>
<claim-text>- einem mit der Signalverarbeitungseinheit verbundenen Koppelelement, über das ein einfach angebundener Netzknoten oder ein redundanzfreies Teilnetz mit der Signalverarbeitungseinheit verbunden ist,<br/>
<b>dadurch gekennzeichnet, daß</b></claim-text>
<claim-text>- die Signalverarbeitungseinheit über das Koppelelement mit einer Mehrzahl von ersten und zweiten Sende- und Empfangseinheiten verbunden ist, wobei jeweils eine erste Sende- und Empfangseinheit und eine dieser zugeordnete zweite Sende- und Empfangseinheit eine identische Netzadresse und einen identischen Geräteidentifikator aufweisen,<!-- EPO <DP n="26"> --></claim-text>
<claim-text>- die Signalverarbeitungseinheit mit dem Koppelelement zumindest über ein erstes und ein zweites Anschlußpaar verbunden ist,</claim-text>
<claim-text>- dem Koppelelement eine Steuerungseinheit zugeordnet ist, die für einen Betrieb von virtuellen lokalen Netzen eingerichtet ist, wobei für jeden einer ersten Sende- und Empfangseinheit zugeordneten Anschluß sowie einen ersten Anschluß des ersten Anschlußpaars jeweils ein virtuelles lokales Netz eingerichtet ist, und wobei für jeden einer zweiten Sende- und Empfangseinheit zugeordneten Anschluß sowie einen zweiten Anschluß des ersten Anschlußpaars jeweils ein virtuelles lokales Netz eingerichtet ist,</claim-text>
<claim-text>- die Signalverarbeitungseinheit zur parallelen Weiterleitung zu sendender Nachrichten und zur Detektion empfangener redundanter Nachrichten für sämtliche ersten und zweiten Sende- und Empfangseinheiten anhand einer Kennung des jeweiligen virtuellen lokalen Netzes eingerichtet ist,</claim-text>
<claim-text>- die Signalverarbeitungseinheit bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz für ein Einfügen einer dem zweiten redundanten Teilnetz zugeordneten Kennung in die Nachricht sowie für ein Rückkoppeln der Nachricht über einen ersten Anschluß des zweiten Anschlußpaars, das Koppelelement und einen zweiten Anschluß des zweiten Anschlußpaars an eine dem zweiten redundanten Teilnetz zugeordnete Redundanzbehandlungseinheit eingerichtet ist,</claim-text>
<claim-text>- das Koppelelement ein Speicherelement umfaßt, das für eine Zwischenspeicherung einer über das Koppelelement rückgekoppelten Nachricht eingerichtet ist.</claim-text><!-- EPO <DP n="27"> --></claim-text></claim><claim id="c-de-0002" num="0002"><claim-text>Kommunikationsgerät nach Anspruch 1,<br/>
bei dem die Signalverarbeitungseinheit bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz für ein Entfernen einer dem zweiten redundanten Teilnetz zugeordneten Kennung aus einer rückgekoppelten Nachricht eingerichtet ist.</claim-text></claim><claim id="c-de-0003" num="0003"><claim-text>Kommunikationsgerät nach einem der Ansprüche 1 oder 2,<br/>
bei dem von den ersten Sende- und Empfangseinheiten empfangene Nachrichten über den ersten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden, bei dem von den zweiten Sende- und Empfangseinheiten empfangene Nachrichten über den zweiten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden, bei dem an erste Sende- und Empfangseinheiten gerichtete Nachrichten über den ersten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden, und bei dem an zweite Sende- und Empfangseinheiten gerichtete Nachrichten über den zweiten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden.</claim-text></claim><claim id="c-de-0004" num="0004"><claim-text>Kommunikationsgerät nach einem der Ansprüche 1 bis 3,<br/>
bei dem von einfach angebundenen Netzknoten oder redundanzfreien Teilnetzen empfangene Nachrichten über den ersten oder zweiten Anschluß des zweiten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden, und bei dem an einfach angebundene Netzknoten oder redundanzfreie Teilnetze gerichtete Nachrichten über den ersten oder zweiten Anschluß des zweiten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden.<!-- EPO <DP n="28"> --></claim-text></claim><claim id="c-de-0005" num="0005"><claim-text>Kommunikationsgerät nach einem der Ansprüche 1 bis 4,<br/>
bei dem für jedes redundante Teilnetz eine zugeordnete Instanz in der Signalverarbeitungseinheit vorgesehen ist, bei dem die Signalverarbeitungseinheit für ein Auslesen von Absenderadresse und Kennung eines virtuellen lokalen Netzes aus einer von einer ersten oder zweiten Sende- und Empfangseinheit empfangenen Nachricht eingerichtet ist, bei dem die Signalverarbeitungseinheit für ein Speichern einer aus einer Nachricht ausgelesenen Adresse und einer zugehörigen Kennung eines virtuellen lokalen Netzes in einer Adreß-Instanz-Tabelle eingerichtet ist, und bei dem die Signalverarbeitungseinheit für eine Weiterleitung einer Nachricht an eine zu einer Zieladresse zugeordnete Instanz entsprechend einem Abfrageergebnis aus der Adreß-Instanz-Tabelle eingerichtet ist.</claim-text></claim><claim id="c-de-0006" num="0006"><claim-text>Kommunikationsgerät nach Anspruch 5,<br/>
bei dem die Signalverarbeitungseinheit zusätzlich oder alternativ zu einem Auslesen aus einer Nachricht für ein Abrufen einer Zuordnung zwischen Netzadresse und Kennung eines virtuellen lokalen Netzes aus einer in einem Speicherelement des Koppelelements gespeicherten Adreßtabelle eingerichtet ist, und bei dem die Signalverarbeitungseinheit für ein Speichern einer abgerufenen Zuordnung zwischen Netzadresse und Kennung eines virtuellen lokalen Netzes in der Adreß-Instanz-Tabelle eingerichtet ist.</claim-text></claim><claim id="c-de-0007" num="0007"><claim-text>Kommunikationsgerät nach einem der Ansprüche 5 oder 6,<br/>
bei dem die Signalverarbeitungseinheit für ein Löschen eines Eintrags aus der Adreß-Instanz-Tabelle nach Ablauf einer vorgebbaren Gültigkeitsdauer eingerichtet ist.<!-- EPO <DP n="29"> --></claim-text></claim><claim id="c-de-0008" num="0008"><claim-text>Kommunikationsgerät nach einem der Ansprüche 1 bis 7,<br/>
das Koppelelement mit einer Mehrzahl einfach angebundener Netzknoten oder redundanzfreier Teilnetze verbunden ist, wobei für den einfach angebundenen Netzknoten oder den redundanzfreien Teilnetzen zugeordnete Anschlüsse sowie für das zweite Anschlußpaar ein zusätzliches virtuelles lokales Netz eingerichtet ist.</claim-text></claim><claim id="c-de-0009" num="0009"><claim-text>Kommunikationsgerät nach einem der Ansprüche 1 bis 8,<br/>
bei dem zueinander redundante Nachrichten durch eine einheitliche Sequenznummer gekennzeichnet sind, und bei dem der Signalverarbeitungseinheit eine Speichereinheit zugeordnet ist, die für eine Speicherung von Sequenznummern bereits fehlerfrei empfangener Nachrichten eingerichtet ist, und bei dem die Redundanzbehandlungseinheit für eine Überprüfung auf eine bereits gespeicherte Sequenznummer bei Empfang einer neuen Nachricht eingerichtet ist.</claim-text></claim><claim id="c-de-0010" num="0010"><claim-text>Kommunikationsgerät nach einem der Ansprüche 1 bis 9,<br/>
bei dem das Koppelelement ein Hochgeschwindigkeitsbus ist, und bei dem über den Hochgeschwindigkeitsbus weitere einfach angebundene Netzknoten oder redundanzfreie Teilnetze mit der Signalverarbeitungseinheit mit der Signalverarbeitungseinheit verbunden sind.</claim-text></claim><claim id="c-de-0011" num="0011"><claim-text>Kommunikationsgerät nach einem der Ansprüche 1 bis 10, bei dem die Signalverarbeitungseinheit mittels eines Field Programmable Gate Arrays realisiert ist, und bei dem das Koppelelement ein Backplane Switch mit zugeordnetem Controller ist, und bei dem der Backplane Switch über zumindest einen Interlink-Anschluß mit dem einfach angebundenen Netzknoten oder redundanzfreien Teilnetz verbunden ist.<!-- EPO <DP n="30"> --></claim-text></claim><claim id="c-de-0012" num="0012"><claim-text>Kommunikationsgerät nach einem der Ansprüche 1 bis 11, bei dem eine Datenübertragung entsprechend High-availability Seamless Redundancy und/oder entsprechend Parallel Redundancy Protocol erfolgt.</claim-text></claim><claim id="c-de-0013" num="0013"><claim-text>Verfahren zum Betrieb eines Kommunikationsgeräts in einem redundanten industriellen Kommunikationsnetz, bei dem
<claim-text>- das Kommunikationsgeräts zumindest eine ersten und eine zweite Sende- und Empfangseinheit umfaßt, die jeweils eine Schnittstelle für eine Netzverbindung des industriellen Kommunikationsnetzes aufweisen, wobei beide Sende- und Empfangseinheiten eine identische Netzadresse und einen identischen Geräteidentifikator aufweisen,</claim-text>
<claim-text>- mit der ersten und zweiten Sende- und Empfangseinheit eine Signalverarbeitungseinheit verbunden ist, die zu sendende Nachrichten parallel an beide Sendeeinheiten weiterleitet und von den Empfangseinheiten empfangene redundante Nachrichten detektiert,</claim-text>
<claim-text>- mit der Signalverarbeitungseinheit ein Koppelelement verbunden ist, über das ein einfach angebundener Netzknoten oder ein redundanzfreies Teilnetz mit der Signalverarbeitungseinheit verbunden ist,<br/>
<b>dadurch gekennzeichnet, daß</b></claim-text>
<claim-text>- die Signalverarbeitungseinheit über das Koppelelement mit einer Mehrzahl von ersten und zweiten Sende- und Empfangseinheiten verbunden ist, wobei jeweils eine erste Sende- und Empfangseinheit und eine dieser zugeordnete zweite Sende- und Empfangseinheit eine identische Netzadresse und einen identischen Geräteidentifikator aufweisen,</claim-text>
<claim-text>- die Signalverarbeitungseinheit mit dem Koppelelement zumindest über ein erstes und ein zweites Anschlußpaar verbunden ist,<!-- EPO <DP n="31"> --></claim-text>
<claim-text>- dem Koppelelement eine Steuerungseinheit zugeordnet ist, die für einen Betrieb von virtuellen lokalen Netzen eingerichtet wird, wobei für jeden einer ersten Sende-und Empfangseinheit zugeordneten Anschluß sowie einen ersten Anschluß des ersten Anschlußpaars jeweils ein virtuelles lokales Netz eingerichtet wird, und wobei für jeden einer zweiten Sende- und Empfangseinheit zugeordneten Anschluß sowie einen zweiten Anschluß des ersten Anschlußpaars jeweils ein virtuelles lokales Netz eingerichtet wird,</claim-text>
<claim-text>- die Signalverarbeitungseinheit für sämtliche ersten und zweiten Sende- und Empfangseinheiten anhand einer Kennung des jeweiligen virtuellen lokalen Netzes zu sendende Nachrichten parallel an die jeweilige erste oder zweite Sende- und Empfangseinheit weiterleitet und empfangene redundante Nachrichten detektiert,</claim-text>
<claim-text>- die Signalverarbeitungseinheit bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz eine dem zweiten redundanten Teilnetz zugeordnete Kennung in die Nachricht einfügt und die Nachricht über einen ersten Anschluß des zweiten Anschlußpaars, das Koppelelement sowie einen zweiten Anschluß des zweiten Anschlußpaars an eine dem zweiten redundanten Teilnetz zugeordnete Redundanzbehandlungseinheit rückkoppelt,</claim-text>
<claim-text>- das Koppelelement ein Speicherelement umfaßt, in dem eine über das Koppelelement rückgekoppelte Nachricht zwischengespeichert wird.</claim-text></claim-text></claim><claim id="c-de-0014" num="0014"><claim-text>Verfahren nach Anspruch 13,<br/>
bei dem die Signalverarbeitungseinheit bei einer Weiterleitung einer Nachricht aus einem ersten redundanten Teilnetz an ein zweites redundantes Teilnetz eine dem zweiten<!-- EPO <DP n="32"> --> redundanten Teilnetz zugeordnete Kennung aus einer rückgekoppelten Nachricht entfernt.</claim-text></claim><claim id="c-de-0015" num="0015"><claim-text>Verfahren nach einem der Ansprüche 13 oder 14,<br/>
bei dem von den ersten Sende- und Empfangseinheiten empfangene Nachrichten über den ersten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden, bei dem von den zweiten Sende- und Empfangseinheiten empfangene Nachrichten über den zweiten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden, bei dem an erste Sende- und Empfangseinheiten gerichtete Nachrichten über den ersten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden, und bei dem an zweite Sende- und Empfangseinheiten gerichtete Nachrichten über den zweiten Anschluß des ersten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden.</claim-text></claim><claim id="c-de-0016" num="0016"><claim-text>Verfahren nach einem der Ansprüche 13 bis 15,<br/>
bei dem von einfach angebundenen Netzknoten oder redundanzfreien Teilnetzen empfangene Nachrichten über den ersten oder zweiten Anschluß des zweiten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden, und bei dem an einfach angebundene Netzknoten oder redundanzfreie Teilnetze gerichtete Nachrichten über den ersten oder zweiten Anschluß des zweiten Anschlußpaars an die Signalverarbeitungseinheit übermittelt werden.</claim-text></claim><claim id="c-de-0017" num="0017"><claim-text>Verfahren nach einem der Ansprüche 13 bis 16,<br/>
bei dem für jedes redundante Teilnetz eine zugeordnete Instanz in der Signalverarbeitungseinheit vorgesehen ist, bei dem die Signalverarbeitungseinheit eine Absenderadresse und Kennung eines virtuellen lokalen Netzes aus einer von einer ersten oder zweiten Sende- und Empfangseinheit empfangenen<!-- EPO <DP n="33"> --> Nachricht ausliest, bei dem die Signalverarbeitungseinheit eine aus einer Nachricht ausgelesene Adresse und eine zugehörige Kennung eines virtuellen lokalen Netzes in einer Adreß-Instanz-Tabelle speichert, und bei dem die Signalverarbeitungseinheit eine Nachricht an eine zu einer Zieladresse zugeordnete Instanz entsprechend einem Abfrageergebnis aus der Adreß-Instanz-Tabelle weiterleitet.</claim-text></claim><claim id="c-de-0018" num="0018"><claim-text>Verfahren nach Anspruch 17,<br/>
bei dem die Signalverarbeitungseinheit zusätzlich oder alternativ zu einem Auslesen einer Absenderadresse und einer Kennung eines virtuellen lokalen Netzes aus einer Nachricht eine Zuordnung zwischen Netzadresse und Kennung eines virtuellen lokalen Netzes aus einer in einem Speicherelement des Koppelelements gespeicherten Adreßtabelle abruft, und bei dem die Signalverarbeitungseinheit eine abgerufene Zuordnung zwischen Netzadresse und Kennung eines virtuellen lokalen Netzes in der Adreß-Instanz-Tabelle speichert.</claim-text></claim><claim id="c-de-0019" num="0019"><claim-text>Verfahren nach einem der Ansprüche 17 oder 18,<br/>
bei dem die Signalverarbeitungseinheit einen Eintrag aus der Adreß-Instanz-Tabelle nach Ablauf einer vorgebbaren Gültigkeitsdauer löscht.</claim-text></claim><claim id="c-de-0020" num="0020"><claim-text>Verfahren nach einem der Ansprüche 13 bis 19,<br/>
das Koppelelement mit einer Mehrzahl einfach angebundener Netzknoten oder redundanzfreier Teilnetze verbunden ist, wobei für den einfach angebundenen Netzknoten oder den redundanzfreien Teilnetzen zugeordnete Anschlüsse sowie für das zweite Anschlußpaar ein zusätzliches virtuelles lokales Netz eingerichtet wird.<!-- EPO <DP n="34"> --></claim-text></claim><claim id="c-de-0021" num="0021"><claim-text>Verfahren nach einem der Ansprüche 13 bis 20,<br/>
bei dem zueinander redundante Nachrichten durch eine einheitliche Sequenznummer gekennzeichnet werden, und bei dem in einer der Signalverarbeitungseinheit zugeordneten Speichereinheit Sequenznummern von bereits fehlerfrei empfangenen Nachrichten gespeichert werden, und bei dem die Signalverarbeitungseinheit bei Empfang einer neuen Nachricht dessen Sequenznummer auf Übereinstimmung mit einer bereits gespeicherten Sequenznummer überprüft.</claim-text></claim><claim id="c-de-0022" num="0022"><claim-text>Verfahren nach einem der Ansprüche 13 bis 21,<br/>
bei dem Nachrichten entsprechend High Availability Seamless Redundancy und/oder entsprechend Parallel Redundancy Protocol übertragen werden.</claim-text></claim></claims><drawings mxw-id="PDW16666983" load-source="patent-office"><!-- EPO <DP n="35"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="161" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="119" he="83" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="160" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="161" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
