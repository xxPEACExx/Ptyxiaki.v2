<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680174-A1" country="EP" doc-number="2680174" kind="A1" date="20140101" family-id="48748137" file-reference-id="311895" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549456" ucid="EP-2680174-A1"><document-id><country>EP</country><doc-number>2680174</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13397516-A" is-representative="YES"><document-id mxw-id="PAPP154823379" load-source="docdb" format="epo"><country>EP</country><doc-number>13397516</doc-number><kind>A</kind><date>20130612</date><lang>EN</lang></document-id><document-id mxw-id="PAPP192284367" load-source="docdb" format="original"><country>EP</country><doc-number>13397516.9</doc-number><date>20130612</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140451039" ucid="US-201213537720-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201213537720</doc-number><kind>A</kind><date>20120629</date></document-id></priority-claim><priority-claim mxw-id="PPC140449912" ucid="US-201313900123-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201313900123</doc-number><kind>A</kind><date>20130522</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988114944" load-source="docdb">G06F  17/30        20060101AFI20131024BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988123281" load-source="docdb">G06Q  10/10        20120101ALI20131024BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988129213" load-source="docdb">H04L  29/08        20060101ALI20131024BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1627944320" load-source="docdb" scheme="CPC">G06F  17/30212     20130101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1627944321" load-source="docdb" scheme="CPC">G06F  17/30079     20130101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1627944322" load-source="docdb" scheme="CPC">G06F  17/30011     20130101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1627944323" load-source="docdb" scheme="CPC">H04L  67/1095      20130101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1627944324" load-source="docdb" scheme="CPC">G06Q  30/04        20130101 LI20180609BHEP        </classification-cpc><classification-cpc mxw-id="PCL1991317968" load-source="docdb" scheme="CPC">G06F  17/30581     20130101 FI20131226BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180852" lang="DE" load-source="patent-office">Verfahren, Server, System und Computerprogrammprodukt zum Kopieren von Daten von einem Quellserver zu einem Zielserver</invention-title><invention-title mxw-id="PT132180853" lang="EN" load-source="patent-office">A method, a server, a system and a computer program product for copying data from a source server to a target server</invention-title><invention-title mxw-id="PT132180854" lang="FR" load-source="patent-office">Procédé, serveur, système et produit de programme informatique permettant de copier des données à partir d'un serveur source vers un serveur cible</invention-title><citations><patent-citations><patcit mxw-id="PCIT242652498" load-source="docdb" ucid="US-20070078885-A1"><document-id format="epo"><country>US</country><doc-number>20070078885</doc-number><kind>A1</kind><date>20070405</date></document-id><sources><source name="SEA" category="I" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652499" load-source="docdb" ucid="US-20120030247-A1"><document-id format="epo"><country>US</country><doc-number>20120030247</doc-number><kind>A1</kind><date>20120202</date></document-id><sources><source name="SEA" category="I" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>None</text><sources><source mxw-id="PNPL45131085" load-source="docdb" name="APP"/></sources></nplcit><nplcit><text>RAHM E ET AL: "A survey of approaches to automatic schema matching", VLDB JOURNAL, SPRINGER VERLAG, BERLIN, DE, vol. 10, 21 November 2001 (2001-11-21), pages 334 - 350, XP002263938, ISSN: 1066-8888, DOI: 10.1007/S007780100057</text><sources><source mxw-id="PNPL57626010" load-source="docdb" name="SEA" category="I"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918155818" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>FILES OY M</last-name><address><country>FI</country></address></addressbook></applicant><applicant mxw-id="PPAR918171799" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>M-FILES OY</last-name></addressbook></applicant><applicant mxw-id="PPAR918984597" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>M-Files Oy</last-name><iid>101254039</iid><address><street>Hatanpään Valtatie 26</street><city>33100 Tampere</city><country>FI</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918150198" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LAITKORPI MARKKU</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918148890" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LAITKORPI, MARKKU</last-name></addressbook></inventor><inventor mxw-id="PPAR918992399" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LAITKORPI, MARKKU</last-name><address><street>Jussilankatu 1 A</street><city>33580 Tampere</city><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918148199" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>NIVALA ANTTI</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918171617" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>Nivala, Antti</last-name></addressbook></inventor><inventor mxw-id="PPAR918994258" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>Nivala, Antti</last-name><address><street>Isomäenkuja 3 J</street><city>33950 Pirkkala</city><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918160979" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>NOKELA JUHO</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918150272" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>NOKELA, JUHO</last-name></addressbook></inventor><inventor mxw-id="PPAR918983059" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>NOKELA, JUHO</last-name><address><street>Opiskelijankatu 4 A 23</street><city>33720 Tampere</city><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918148313" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>PARTANEN TIMO</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918160704" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>PARTANEN, TIMO</last-name></addressbook></inventor><inventor mxw-id="PPAR918987812" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>PARTANEN, TIMO</last-name><address><street>Kruunupääntie 2</street><city>37560 Lempäälä</city><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918168517" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>LEPOLA JUHA</last-name><address><country>FI</country></address></addressbook></inventor><inventor mxw-id="PPAR918133133" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>Lepola, Juha</last-name></addressbook></inventor><inventor mxw-id="PPAR918993899" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>Lepola, Juha</last-name><address><street>Tamppikuja 1 C 62</street><city>33720 Tampere</city><country>FI</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918990917" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Tampereen Patenttitoimisto Oy</last-name><iid>101351592</iid><address><street>Hermiankatu 1 B</street><city>33720 Tampere</city><country>FI</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548895903" load-source="docdb">AL</country><country mxw-id="DS548805031" load-source="docdb">AT</country><country mxw-id="DS548881872" load-source="docdb">BE</country><country mxw-id="DS548869988" load-source="docdb">BG</country><country mxw-id="DS548866591" load-source="docdb">CH</country><country mxw-id="DS548881873" load-source="docdb">CY</country><country mxw-id="DS548805032" load-source="docdb">CZ</country><country mxw-id="DS548895905" load-source="docdb">DE</country><country mxw-id="DS548881874" load-source="docdb">DK</country><country mxw-id="DS548881875" load-source="docdb">EE</country><country mxw-id="DS548805062" load-source="docdb">ES</country><country mxw-id="DS548869989" load-source="docdb">FI</country><country mxw-id="DS548866592" load-source="docdb">FR</country><country mxw-id="DS548895982" load-source="docdb">GB</country><country mxw-id="DS548882188" load-source="docdb">GR</country><country mxw-id="DS548895983" load-source="docdb">HR</country><country mxw-id="DS548805033" load-source="docdb">HU</country><country mxw-id="DS548805063" load-source="docdb">IE</country><country mxw-id="DS548882189" load-source="docdb">IS</country><country mxw-id="DS548869990" load-source="docdb">IT</country><country mxw-id="DS548882190" load-source="docdb">LI</country><country mxw-id="DS548869991" load-source="docdb">LT</country><country mxw-id="DS548863518" load-source="docdb">LU</country><country mxw-id="DS548869992" load-source="docdb">LV</country><country mxw-id="DS548869993" load-source="docdb">MC</country><country mxw-id="DS548863519" load-source="docdb">MK</country><country mxw-id="DS548863520" load-source="docdb">MT</country><country mxw-id="DS548805064" load-source="docdb">NL</country><country mxw-id="DS548842395" load-source="docdb">NO</country><country mxw-id="DS548805065" load-source="docdb">PL</country><country mxw-id="DS548863521" load-source="docdb">PT</country><country mxw-id="DS548866593" load-source="docdb">RO</country><country mxw-id="DS548863522" load-source="docdb">RS</country><country mxw-id="DS548805070" load-source="docdb">SE</country><country mxw-id="DS548805066" load-source="docdb">SI</country><country mxw-id="DS548842396" load-source="docdb">SK</country><country mxw-id="DS548842397" load-source="docdb">SM</country><country mxw-id="DS548869994" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128670125" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The invention relates to a method for replicating metadata structure of a target server according to metadata structure of a source server. The method comprises importing the metadata structure of the source server to the target server, wherein the metadata structure defines by means of structure elements semantics for a metadata, which metadata is associated with electronic objects being stored in said source server; mapping the structure elements to corresponding structure elements in the target server according to mapping rules, wherein similarity mapping is performed for referenced structure elements and identity mapping is performed for fully represented structure elements; and copying content elements - if available - containing at least electronic objects with associated metadata from the source server to the target server by applying the imported metadata structure.
<img id="iaf01" file="imgaf001.tif" wi="78" he="86" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499498" lang="EN" source="EPO" load-source="docdb"><p>The invention relates to a method for replicating metadata structure of a target server according to metadata structure of a source server. The method comprises importing the metadata structure of the source server to the target server, wherein the metadata structure defines by means of structure elements semantics for a metadata, which metadata is associated with electronic objects being stored in said source server; mapping the structure elements to corresponding structure elements in the target server according to mapping rules, wherein similarity mapping is performed for referenced structure elements and identity mapping is performed for fully represented structure elements; and copying content elements - if available - containing at least electronic objects with associated metadata from the source server to the target server by applying the imported metadata structure.</p></abstract><description mxw-id="PDES63955555" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><u>Field of the Invention</u></heading><p id="p0001" num="0001">The present invention relates to data transfer between servers. In particular, the present invention relates to an adaptation of metadata structure between the servers. Yet further, the invention relates to a content management system.</p><heading id="h0002"><u>Background of the Invention</u></heading><p id="p0002" num="0002">Enterprise Content Management (ECM) system refers to a system organizing and storing organization's electronic documents and other business-related objects and/or content. ECM system may comprise content management systems (CMS), document management systems (DMS) and data management systems. Such systems comprise various features for managing electronic documents, e.g. storing, versioning, indexing, searching for and retrieval of documents. It is appreciated that there are both dynamic and static content management systems. The difference between dynamic and static systems is the way they store files. In the static systems files are stored e.g. in a constant treelike hierarchy that defines relationships for folders and documents stored in the tree. In the dynamic systems the files may be given identifications that define their existence in the system. The location of the files is not constant, but may vary in a virtual space depending on the situation.</p><p id="p0003" num="0003">The content management system may be distributed in such a manner that it comprises several servers or storages for different purposes.</p><heading id="h0003"><u>Summary of the Invention</u></heading><p id="p0004" num="0004">Now there has been invented an improved method and technical equipment implementing the method, to alleviate problems that might occur when data is transmitted between different servers, and when documents are accessed and processed via one of the servers.<!-- EPO <DP n="2"> --></p><p id="p0005" num="0005">Various aspects of the invention include a method, a target server, a source server, a computer program product and a content management system, which are characterized by what is stated in the independent claims. Various embodiments of the invention are disclosed in the dependent claims.</p><p id="p0006" num="0006">According to a first aspect, a method for replicating metadata structure of a source server to a target server, comprises importing the metadata structure of the source server to the target server, wherein the metadata structure defines by means of structure elements semantics for a metadata, which metadata is associated with electronic objects being stored in said source server; mapping the structure elements to corresponding structure elements in the target server according to mapping rules wherein similarity mapping is performed for referenced structure elements and identity mapping is performed for fully represented structure elements; copying content elements - if available - containing at least electronic objects with associated metadata from the source server to the target server by applying the imported metadata structure.</p><p id="p0007" num="0007">According to a second aspect, a source server comprises a processor, a memory including computer program code, the memory and the computer program code configured to transmit a metadata structure to a target server, wherein the metadata structure defines by means of structure elements semantics for a metadata, which metadata is associated with electronic objects being stored in said source server; wherein the structure elements are mappable to corresponding structure elements in the target server according to mapping rules, wherein similarity mapping is performed for referenced structure elements and identity mapping is performed for fully represented structure elements; and to copy content elements - if available - containing at least electronic objects with associated metadata to the target server by applying the transmitted metadata structure.</p><p id="p0008" num="0008">According to a third aspect, a target server comprises a processor, a memory including computer program code, the memory and the computer program code configured to receive a metadata structure from a source server, wherein the metadata structure defines by means of structure elements semantics for a metadata, which metadata is associated with electronic objects being stored in said source server; map the structure elements to corresponding structure elements in the target server according to mapping<!-- EPO <DP n="3"> --> rules, wherein similarity mapping is performed for referenced structure elements and identity mapping is performed for fully represented structure elements; copy content elements - if available - containing at least electronic objects with associated metadata from the source server by applying the received metadata structure.</p><p id="p0009" num="0009">According to a fourth aspect, a computer program product comprises a computer-readable medium bearing computer program code embodied therein for use with a computer, the computer program code comprising: code for importing the metadata structure of the source server to the target server, wherein the metadata structure defines by means of structure elements semantics for a metadata, which metadata is associated with electronic objects being stored in said source server; code for mapping the structure elements to corresponding structure elements in the target server according to mapping rules, wherein similarity mapping is performed for referenced structure elements and identity mapping is performed for fully represented structure elements; code for copying content elements - if available - containing at least electronic objects with associated metadata from the source server to the target server by applying the imported metadata structure.</p><p id="p0010" num="0010">According to a fifth aspect, a content management system comprises at least one main server and at least one local main server, wherein said main server is configured to store electronic objects and said local main server is configured to store at least part of the electronic objects of the main server, wherein said servers are accessible by at least one client device, wherein said main server is a cloud-based server, and said local server is an on-premise server.</p><p id="p0011" num="0011">According to an embodiment, the semantics define at least application logic for using structure elements.</p><p id="p0012" num="0012">According to an embodiment, similarity mapping is based on common names of structure elements.</p><p id="p0013" num="0013">According to an embodiment, identity mapping is based on globally unique identifications of structure elements.<!-- EPO <DP n="4"> --></p><p id="p0014" num="0014">According to an embodiment, referenced structure elements are depended on by fully represented structure elements.</p><p id="p0015" num="0015">According to an embodiment, the content elements and the structure elements are packaged and transmitted in said packet.</p><p id="p0016" num="0016">According to an embodiment, copying the content elements comprises determining common names for properties being comprised in the metadata; determining if the determined common names exist in the metadata of the target server; and if so copying - together with the data - such properties of the metadata that have matching common names in the target server.</p><p id="p0017" num="0017">According to an embodiment, one of the servers is a cloud-based server.</p><p id="p0018" num="0018">According to an embodiment, the metadata is a feature of an electronic object that is expressed as a name-value pair.</p><p id="p0019" num="0019">According to an embodiment, one of the servers is an on-premise server, wherein the other of the servers is a cloud server.</p><p id="p0020" num="0020">According to an embodiment, the content management system comprises means for replicating metadata structure of the main server to the local main server, wherein said means is configured to import the metadata structure of the main server to the local main server, wherein the metadata structure defines by means of structure elements semantics for a metadata, which metadata is associated with electronic objects being stored in said main server; to map the structure elements to corresponding structure elements in the local main server according to mapping rules, wherein similarity mapping is performed for referenced structure elements and identity mapping is performed for fully represented structure elements; to copy content elements, if available, containing at least electronic objects with associated metadata from the main server to the local main server by applying the imported metadata structure.</p><heading id="h0004"><u>Description of the Drawings</u></heading><p id="p0021" num="0021">In the following, various embodiments of the invention will be described in more detail with reference to the appended drawings, in which<!-- EPO <DP n="5"> -->
<dl id="dl0001"><dt>Fig. 1</dt><dd>shows an example of a system in a simplified manner;</dd><dt>Fig. 2</dt><dd>shows two examples of metadata structures;</dd><dt>Fig. 3</dt><dd>shows the metadata structure of <figref idrefs="f0002">Fig. 2</figref> with common names;</dd><dt>Fig. 4</dt><dd>shows an embodiment of a server in a simplified manner;</dd><dt>Fig. 5</dt><dd>shows an embodiment of the method as a simplified flowchart;</dd><dt>Fig. 6</dt><dd>shows an example of a metadata structure according to an embodiment;</dd><dt>Fig. 7</dt><dd>shows an example of an electronic object containing file data and being associated with metadata according to an embodiment;</dd><dt>Figs. 8a-8b</dt><dd>illustrate dependencies of metadata structure fragments in different vaults according to an embodiment;</dd><dt>Fig. 9</dt><dd>shows an example of metadata structure fragments representing an application logic according to an embodiment;</dd><dt>Fig. 10</dt><dd>illustrates an embodiment of a user interface view for an example of <figref idrefs="f0009">Fig. 9</figref>;</dd><dt>Fig. 11</dt><dd>shows an example of a simplified business logic with metadata structure fragments;</dd><dt>Fig. 12</dt><dd>illustrates an embodiment of user interface view for example of <figref idrefs="f0010">Fig. 10</figref>;</dd><dt>Fig. 13</dt><dd>illustrates an example of elements of a document vault for exporting data; and</dd><dt>Fig. 14</dt><dd>illustrates an example of elements of a target document vault.</dd></dl><!-- EPO <DP n="6"> --></p><heading id="h0005"><u>Detailed Description of the Embodiments</u></heading><p id="p0022" num="0022">In the following, several embodiments of the invention will be described in the context of content management system having a plurality of servers. It is to be noted, however, that the invention is not limited to a content management system. In fact, the different embodiments may have applications widely in any multiserver environment.</p><p id="p0023" num="0023">The present embodiments relate to a system, such as a content management system, an example of which is shown in <figref idrefs="f0001">Figure 1</figref>. Such a system may comprise a main server 1, at least one caching replica server 2 and at least one local main server 3. Another term to be used instead of "server" is vault. These terms are used in parallel. According to an embodiment, the servers are so called on-premise servers. According to another embodiment, the main server 1 is a cloud-based server, whereby the caching replica server 2 and the local main server 3 are on-premise servers. According to yet one other embodiment, at least one of the servers is a cloud-based server, while the others are on-premise servers. Such a content management system having both cloud-based server(s) and on-premise server(s) is here called a hybrid content management system.</p><p id="p0024" num="0024">"On-premise" means that the document management server(s) are located behind the organization's network firewall, where they are generally not accessible by the public. Instead, such "on-premise" server(s) are generally accessible only by users within the firewall-protected local area network, or by connecting to the organization's virtual private network with appropriate tools, requiring organization-specific authentication. The "on-premise" server(s) are typically physically located in buildings owned or leased by the organization, or in a private data center controlled and maintained by a contractor of the organization. As opposed to an "on-premise" document management system, a "cloud-based" document management system has its server(s) located outside the organization's firewall.</p><p id="p0025" num="0025">The caching replica server 2 and the local main server 3 may reside in a remote unit of the content management system. There can be more than one remote units in the content management system, and each remote unit have at least one caching replica server and/or at least one local main server. The number of servers may vary according to the situation. For example, for one<!-- EPO <DP n="7"> --> remote unit, there can be as many local main server as there are caching replica server, or there can be different amount of local main servers and caching replica servers.</p><p id="p0026" num="0026">The main server 1 can comprise various features for managing electronic documents, e.g. storing, versioning, indexing, searching for and retrieval of documents. The main server 1 can be a dynamic system, where stored files comprise identifications that define their existence in the storage. "File" in this disclosure relates to a medium that has been created by a certain application. For example, a piece of text created by using the Microsoft Word application and saved on the "C:\" drive is a file. Similarly, a drawing created by using the AutoCAD application represents a file. The file can be associated with metadata, whereby the file becomes a "document". Instead of term "document" also term "electronic object" can be used. "Metadata" refers to information on a document's properties. For example, a creator of the file or a creation date may represent content of the metadata. In addition to the metadata, the document may also comprise version history and reference information to other documents.</p><p id="p0027" num="0027">The main server 1 may store documents together with the metadata, version history as well as reference information. In an embodiment, the caching replica server 2 is a replica of the main server 1, being configured to store the documents' file data only, and not documents' metadata, version history and reference information. The caching replica server 2 can be used by a client 10 to access the files instead of the main server 1. The caching replica server 2 may have a live connection to the main server 1, whereby if e.g. metadata is needed, that can be obtained from the main server 1. Such a use of a caching replica server 2 saves the bandwidth, because not all the data in the main server 1 needs to be copied to the caching replica server 2.</p><p id="p0028" num="0028">A local main server 3 may be parallel to caching replica server 2. They can be located in a same physical device or can be separated. However, the local main server 3 is a copy of the main server 1 with respect to such data that is relevant to the user. In a situation, where the main server 1 is a cloud service, the main server 1 can be a warm copy (takes the synchronization delay into account) of the local main server 3. The main server 1 can be used, if local main server 3 is temporarily down. The local main server 3 can also be a relevant subset of main server 1, whereby the local main server 3 provides locally optimized user experience while the overall cloud<!-- EPO <DP n="8"> --> environment ensures the high availability of the full data via caching replica server.</p><p id="p0029" num="0029">The servers also comprise a metadata structure that creates stronger semantics and business logic to the metadata. The metadata structure may define property definitions for the metadata, classes (templates) available for the metadata, business process rules, user interface views etc. The metadata structure may also have an application level defining how to use/modify the name-value pairs in the metadata.</p><p id="p0030" num="0030">In order to build up a system, such as the one shown in <figref idrefs="f0001">Figure 1</figref>, the content of the main server 1 needs to be copied to the local main server 3. However, before any content can be copied, at first the metadata structure of the main server 1 needs to be imported to the local main server 3 to have a basis for the content.</p><p id="p0031" num="0031">An example of a metadata structure 600 is shown in <figref idrefs="f0006">Figure 6</figref>. The actual content is an electronic object 630, which is e.g. a document file - as described above. The object is associated with metadata 620, of which further examples are shown in <figref idrefs="f0002">Fig. 2</figref> with corresponding text paragraphs in below. The metadata 620 comprises one or more name-value pairs which define the object in question. Further, the metadata is defined by a metadata structure 610 that creates semantics and business logic to the metadata 620. For example, as shown in <figref idrefs="f0006">Figure 6</figref>, the metadata structure 610 defines the property definitions for the metadata, classes (templates) available for the metadata, business process rules, user interface views etc. The metadata structure also has an application level defining how to use/modify the name-value pairs in the metadata. This will be discussed in detail below. This application logic also needs to be imported between multiple vaults across organization.</p><p id="p0032" num="0032">When data between vaults (servers) is copied, the metadata structure in the target vault needs to be similar than in the source vault. However, if there are numerous amount of vaults in an organization, the manual work for maintaining the metadata structure is laborious and prone to errors. The present embodiments propose a technique by means of which the work for importing both the metadata structure between different vaults is automated.<!-- EPO <DP n="9"> --> When metadata structure is copied between multiple vaults, this may be done in a disciplined way by utilizing a development vault, a test vault and one or more production vaults throughout the organization. In the development vault, the changes and modifications are made to the metadata structure. A complete metadata structure or a part of it is replicated to the test vault having realistic content. By this any functional anomalies may be detected and removed. Once successfully tested, the metadata structure can then be further replicated to the production vault(s).</p><p id="p0033" num="0033">For copying (i.e. replicating) data between vaults, two additional ways can be distinguished: synchronization and harmonization. In synchronization, the metadata structure in one of several vaults is manually slightly modified or changed. The changes in the metadata structure are replicated directly to the other vaults. In harmonization, the vaults are initially similar in a logical sense, but not completely identical. This means that corresponding elements have a distinct globally unique identifiers (GUID). In harmonization, a common name mapping can be used to find out corresponding elements, and then their GUID's may be harmonized. After this, the elements can be processed as the same.</p><p id="p0034" num="0034"><figref idrefs="f0007">Figure 7</figref> illustrates an example of an object 700 containing file data 710 and being associated with metadata 720 having name-value-pairs. The metadata is further defined by an application logic having metadata structure fragments A, B, C, i.e. fully represented structure elements, representing an application. The metadata structure fragments A, B, C are each identified by globally unique identifier (GUID), guid1, guid2, guid3 respectively. The metadata structure fragments A, B, C have dependencies on other structure elements, i.e. referenced structure elements, being defined with common names (cn1, cn2). Said other structure elements do not belong to application directly but are related to the metadata structure fragments A, B and B, C respectively.</p><p id="p0035" num="0035"><figref idrefs="f0008">Figure 8a</figref> illustrates the dependencies of metadata structure fragments A, B, C, when imported to a vault A. It is realized that dependencies of the fragments A, B are bound to the element X, and dependencies of the fragments B, C are bound to the element Y. However, when imported to a vault B, as illustrated in <figref idrefs="f0008">Figure 8b</figref>, dependencies of the fragments A, B are bound to element M, and dependencies of the fragments B, C are bound to element N. Therefore, depending on the vault the fragments are replicated to, the dependency bindings may vary.<!-- EPO <DP n="10"> --></p><p id="p0036" num="0036">What is to be noticed from <figref idrefs="f0007">Figures 7</figref> and <figref idrefs="f0008">8a-8b,</figref> is that such metadata structure fragments that belong to the metadata structure, i.e. fully represented structure elements, such as fragments A, B, C, are usually mapped in the target vault with their GUID, thus relying on the globally unique identifier of the elements. However, the elements from which the metadata structure fragments depend from, i.e. referenced structure elements, are mapped in the target vault with their common names, cn1, cn2 thus allowing an adjustable identity mapping between the elements. The mapping is thus based on mapping rules, wherein similarity mapping (based on common names) is performed for referenced structure elements and identity mapping (based on identifiers, such as GUID) is performed for fully represented structure elements. Common names are further discussed in relation to <figref idrefs="f0003">Figure 3</figref> and corresponding paragraphs. The GUID differs from common name in that a certain GUID defines the "same" object or element throughout the vaults. This means that an object or an element with certain GUID in vault A is the "same" object or an element in vault B. Same put in quotes here means conceptually the same, but not necessarily physically the same.</p><p id="p0037" num="0037"><figref idrefs="f0009">Figure 9</figref> illustrates an example of metadata structure fragments that represent an application logic. In this simplified example, the application logic extracts embedded geolocation information from image files and stores it as their metadata. Image as an electronic object is associated with metadata properties, such as latitude 920, longitude 930 and altitude 940 defining the image capturing surroundings. An application script 910 is able to read image data in order to fulfil the metadata properties 920, 930, 940. The script 910 depends on a document class "Picture", whereby the script is able to process all new and modified objects belonging to this class, i.e. images. The metadata properties also depend on document class "Pictures", whereby the properties are added to objects belonging to this class.</p><p id="p0038" num="0038"><figref idrefs="f0010">Figure 10</figref> illustrates an example of a user interface (UI) view for showing the images being defined according to <figref idrefs="f0009">Fig. 9</figref>. The UI view 1010 depends from the document class 1020, i.e. "Pictures", but also on the metadata properties latitude 1030 and longitude 1040. By this the view can be imported to any vault, where corresponding class and metadata properties are found by means of common names.<!-- EPO <DP n="11"> --></p><p id="p0039" num="0039"><figref idrefs="f0011">Figure 11</figref> illustrates an example of a business logic for invoice processing. In this example, the object is a purchase invoice 1100. The object 1100 is associated with properties "Amount" 1140, "Due date" 1141, "Vendor" 1142, "Approver" 1143 and "Approval limit" 1144. Property "Vendor" 1142 is dependent on type "Vendors" 1150 and properties "Approver" 1143 and "Approval limit" 1144 depend on type "Employees" 1155. In addition to the required properties 1140-1144, the object 1100 may have optional properties, such as "Project" 1130 that depends on type "Projects" 1135.</p><p id="p0040" num="0040">In addition, the object "Purchase invoice" 1100 uses forced workflow relating to "Purchase invoice process" 1110. The workflow "Purchase invoice process" 1110 has states "Received, awaiting approval" 1120, "Approved, awaiting payment" 1121, "Paid" 1122 and "Rejected" 1123.</p><p id="p0041" num="0041"><figref idrefs="f0012">Figure 12</figref> illustrates an example of user interface (UI) views for objects belonging to class "Purchase invoice" 1200. The views, the purchase invoice documents depend on are "Waiting for my approval" 1210, "Due in 7 days" 1212 and "By vendor" 1215. The view "Waiting for my approval" 1210 depends on property "Approver" 1220 that is to be the current user. The same view 1210 also depends on a workflow state (1) "Received, awaiting approval" that originates from a workflow "Purchase invoice process" 1110 (see also <figref idrefs="f0011">Fig. 11</figref>). The view "Due in 7 days" 1212 depends on a property "Due date" 1141 (see also <figref idrefs="f0011">Fig. 11</figref>) and workflow state "Approved, awaiting payment" 1121 (see also <figref idrefs="f0011">Fig. 11</figref>), which is a state of "Purchase invoice process" 1110. The view "Vendor" 1215 depends on property "Vendor" 1142 (see also <figref idrefs="f0011">Fig. 11</figref>).</p><p id="p0042" num="0042">The examples of <figref idrefs="f0009 f0010 f0011 f0012">Figures 9-12</figref> represent the metadata structure that needs to be taken care of before the content is copied between vaults.</p><p id="p0043" num="0043">After the metadata structure of the local main server 3 substantially corresponds to the metadata structure of the main server 1, the data content can be copied and further synchronized from the main server 1 to the local main server 3. The data that can be synchronized between the local main server and the main server comprises not only the document files, but also metadata, version history and references, or at least some of them, whereby it provides a better availability of data to the client than the caching replica server. The local main server 3 also may comprise various features for managing electronic documents, e.g. storing, versioning, indexing, searching<!-- EPO <DP n="12"> --> for and retrieval of documents. The local main server 3 does not need to have a constant on-line connection to the main server 1. The connection can be formed when data is synchronized between the main server 1 and the local main server 3.</p><p id="p0044" num="0044">The client 10 may use the local main server 3 actively, and the caching replica server 2 only when needed. The client 10 may be configured to use both of the servers 2, 3, but the local main server 3 can be prioritized because it comprises the most important and complete data, which the client needs constantly. The caching replica server 2 may comprise data that is needed less frequently, e.g. archived data and other read-only data.</p><p id="p0045" num="0045">Typically, the main server 1 needs not to be used, because the local main server 3 comprises all the locally relevant data of the main server 1. In addition, the main server 1 may be located farthest away from the client 10, which on the one hand means that the physical distance between the client 10 and the main server 1 is long or they situate in different networks, but on the other hand relates to the accessibility from the client 10 to the main server 1. In order to access the data in the main server 1, the client 10 may need to solve the availability of the main server network and problems that might be caused by slow data transfer. The local main server 3 may be located closest to the client, either physically but also in terms of data accessibility. Therefore, the local main server 3 optimizes network usage and data availability, because all the locally relevant data is available and no attention needs to be paid to network accessibility and possible network problems.</p><p id="p0046" num="0046">When a document is created in one of the aforementioned servers, the document is assigned a previously mentioned global/universal unique identification (i.e. GUID). The identification comprises an identification of the home server (i.e. the server where the document was created) and an individual identification of the document in the home server. As a result of this, the object has a global/universal unique identification that differentiates the object throughout the system, but also a local identification that differentiates the object in a certain server.</p><p id="p0047" num="0047">At the time the local main server 3 is established the data from the main server 1 is copied (i.e. synchronized) to the local main server 3 . After that, the data can be synchronized between the local main server 3 and the main<!-- EPO <DP n="13"> --> server 1 always when needed. Because the connection between the main server 1 and the local main server 3 is not necessarily constantly on, the synchronization may be performed in certain periods. This means that updateable data is gathered for a certain time, and all the data that has been gathered until then are transmitted simultaneously.</p><p id="p0048" num="0048">When an document is copied to the other server (e.g. from the main server 1 to the local main server 3), it is determined whether the target server (i.e. local main server 3 in this example) already comprises the object. That can be determined by checking whether the target server comprises any object having the same global/universal unique identification. If the target server already comprises the object, any changes relating to the object are transmitted to the target server. If the object is not in the target server, a new object corresponding the transmitted object is created in the target server, with the original unique identification and local identification, which local identification relates to the target server.</p><p id="p0049" num="0049">As discussed, in addition to the document file, also other data relating to the document can be transmitted (i.e. copied/synchronized) between the main server 1 and the local main server 2. Such data may include also the metadata structure and/or version history and/or references. As said, "metadata" refers to information on a document's properties. For example, a creator of the file or a creation date may represent content of the metadata. Metadata is composed of two parts - a definition part and a content part. The definition part defines generally the type of property; client, project, customer, creator, date, etc. The content part on the other hand specifies the value of the metadata, i.e. which client ("BeefEaters Ltd"), which project ("BBQ party"), which customer ("Edvin Tournedous"), which creator ("John Leaderman"), which date ("20120501 "). For further example, specified values for a creator of the file or a creation date represent content of the metadata. In addition, a project which the document belongs to; a client who owns the document; a type of the document (letter, assignment, publication, order etc.); name of the document are examples of the content of metadata. Despite the plural form of metadata, in this disclosure, the term metadata may also refer to a singular form. Therefore, an object being defined by "metadata" may in practice be defined by one or more pieces of metadata. In the present disclosure, term "property - properties" is used as a synonym for metadata.<!-- EPO <DP n="14"> --></p><p id="p0050" num="0050">The metadata structure is a selection of properties for a specific server but also the metadata structure may represent semantics including application logic for the metadata - as discussed with <figref idrefs="f0006">Figure 6</figref>. These properties are selected and named for server's purposes, for example, according to the business area, according to the information required for running the business, according to the workflow, according to the correspondents, according to the personnel etc. This selection of properties are used for each document in the server in question either completely or selectively.</p><p id="p0051" num="0051"><figref idrefs="f0002">Figure 2</figref> illustrates an example of a metadata structure 200 for a main server 1, and an example of a metadata structure 210 for a local main server 3. The metadata structure 200 comprises properties "Name", "Creator", "Created", "Category", "Type", "Sent", "Client", "Client number" and "Last modified" having values for a certain document <i>"letter.doc", "John Welsh", "2012-05-01", "projects", "offer", "2012-05-08", "The Firm LTD", "1209324"</i> and <i>"Ella May"</i>, respectively. The metadata structure 210 comprises properties "Title", "Author", "Created", "Class", "Sent", "Client", "Client number" and "Last modified".</p><p id="p0052" num="0052">It is realized that in the example of <figref idrefs="f0002">Fig. 2</figref>, the metadata structures 200, 210 are different. It is possible, that either all the property types are different, or the names of the property types are different even though they relate to same property.</p><p id="p0053" num="0053">When the metadata structures in the main server 1 and the local main server 2 are the same, the documents may be transmitted directly between the servers. However, when the metadata structures deviate from each other (as in <figref idrefs="f0002">Fig. 2</figref>), a selection how the metadata is synchronized between the servers needs to be made, when a document is copied to another server.</p><p id="p0054" num="0054">One embodiment is to perform metadata synchronization between servers is to use common names (i.e. aliases). Alias is a common name or identification for a property defining a similar content. For example alias "creating person" can be an alias for properties "an originator", "a creator", "an author". In addition, the alias can be a common numerical value being assigned for similar types of properties. At the time the metadata structure having a property for "a creator" is transmitted to a target server, it is checked whether "a creator" has an alias. If so, the alias, e.g. "creating person" is looked for in the target server. Depending on the property name the target server uses,<!-- EPO <DP n="15"> --> the metadata structure being transmitted is synchronized accordingly. The target server may have a property "author" that has an alias "creating person". Therefore, if the target server uses "author" as a property name, the metadata structure being transmitted is synchronized to have a property "author" instead of "creator".</p><p id="p0055" num="0055">Another embodiment for performing metadata synchronization between servers is by using globally unique identifications (GUIDs).</p><p id="p0056" num="0056">It is also appreciated that synchronization by common names and synchronization by GUIDs can occur in parallel according to a certain rules. For example, all such elements that are strongly part of the data structure, may be mapped in the target server (vault) by means of their GUID. However, elements that are depended from, are mapped by means of their common names.</p><p id="p0057" num="0057">If an alias (i.e. common name) is not found for a certain property, the system may be configured to use the property name as an alias, and to perform the mapping based on these property names. This means that any property (piece of metadata) of a document that has a corresponding property (having a same name) in the target server is transmitted to the target server.</p><p id="p0058" num="0058">If a property of a document does not have a corresponding property (matching property names or aliases) in the target server, such a property can be ignored and left out from transmission. This is possible, because it is assumed that the most important properties (e.g. a creator, a date, etc.) have correspondences in the target server being identified by GUIDs.</p><p id="p0059" num="0059">In the example shown in <figref idrefs="f0002">Figure 2</figref>, the alias-based (i.e. common name) synchronization can be performed as shown in <figref idrefs="f0003">Figure 3. Figure 3</figref> shows the metadata structure 200 with properties and their corresponding aliases 201 listed. Property "Name" has alias "Filename", property "Creator" has an alias "Generator", property "Created" has an alias "Generated", property "Category" has an alias "Group", property "Type" has an alias "Type", property "Sent" has an alias "Mailed", property "Client" has an alias "Client", property "Client number" has an alias "Client number", property "Last modified" has an alias "Last updated". It is appreciated that in this example, the alias names have been selected to be descriptive names for understanding purposes. However, any string of letters and/or numbers can<!-- EPO <DP n="16"> --> be used as an alias as long as it has a common meaning for different servers' metadata structure. Such terms can be found e.g. from general concepts such as Dublin Core, where "dc:publisher" could be used as an alias for property "publisher" of main server 1 and for property "producer" of local main server 3.</p><p id="p0060" num="0060">In a similar manner, the metadata structure 210 has aliases 211 listed. Property "Title" has alias "Filename", property "Author" has an alias "Generator", property "Created" has an alias "Generated", property "Class" has an alias "Group", property "Sent" has an alias "Mailed", property "Client" has an alias "Client", property "Client number" has an alias "Client number", property "Last modified" has an alias "Last updated".</p><p id="p0061" num="0061">It is realized that alias-based mapping can be performed for properties "name", "creator", "created", "category", "sent", "client", "client number" and "last modified" of the metadata structure 200 to metadata structure 210, because those properties have common names having match in the target metadata structure.</p><p id="p0062" num="0062">In another embodiment, properties such as "Created", "Sent", "Client", "Client number" and "Last modified" could also be directly mapped to the metadata structure 210 of the other server based on property names only, because both metadata structure comprises same property names.</p><p id="p0063" num="0063">In the example of <figref idrefs="f0003">Fig. 3</figref>, common names between two metadata structures have been presented. However, it is possible that a property may have several aliases to allow mapping between several different types of metadata structures. This means that a property "name" in a metadata structure may have an alias "creator" for a first metadata structure and also an alias "owner" for a second metadata structure. However, this may cause conflict if, at the time the metadata is mapped to the first metadata structure, the first metadata structure comprises properties "creating person" having alias "creator" and "owning person" having an alias "owner". Therefor a property "name" having aliases "creator" and "owner" could be mapped to any of them. In order to solve this, the mapping may be carried out according to a priority list or the mapping of such property can be rejected.</p><p id="p0064" num="0064">By using the common names, i.e. aliases, the mapping of properties is enabled. It is realized from <figref idrefs="f0003">Fig. 3</figref> that property "Type" of metadata structure<!-- EPO <DP n="17"> --> 200 is not included in the metadata structure 210 in any form. Therefore, property "Type" is left out, when the document comprising the metadata structure 200 is copied to a server supporting the metadata structure 210.</p><p id="p0065" num="0065">According to <figref idrefs="f0003">Figure 3</figref>, the alias listing can be presented together with the metadata structure. However, this may not be the case in practice. The alias listing may be stored as a table in at least one of the servers. Optionally, the aliases may be appointed to each property individually, as a part of the property definition.</p><p id="p0066" num="0066">The metadata structure can be transferred between servers by means of a metadata structure template provided e.g. by the target server. The template can be utilized to adapt the metadata structure of the source server according to format of the metadata structure of the target server. The template can include all the properties that are supported by the target server, whereby the mapping of properties can be done before the metadata structure is actually transmitted to the target server. The template can be formed of alias names which correspond the properties in the target server. For example, taking <figref idrefs="f0003">Fig. 3</figref> as an example, the template may include alias listing as referred by 211. The metadata structure being transmitted with the document is mapped to that listing 211, and the new metadata structure for the document comprises all the matching properties of the template.</p><p id="p0067" num="0067">The present embodiment for using aliases together with the metadata structure also makes it possible to perform a metadata driven search from multiple servers at the same time, and to show the results in one window. For example, user may perform a query that is directed to servers that are included in the system and having a certain metadata structure for documents being stored. The metadata driven search means that when a user wishes to search for "client=Company X", the system is configured to perform the search by means of aliases of "client" in addition or instead to the direct query for "client". The search procedure can be carried out such a manner that it is solved whether the searched property has an alias, and if so, the search query is expanded to include also the alias. If the alias of "client" is "CU52M3R", then the search query can formulated "client=Company X or alias=CU52M3R=Company X".</p><p id="p0068" num="0068">It is also possible that the search query includes only the alias, and the search is performed only according to alias name. When the search is carried<!-- EPO <DP n="18"> --> out with the alias, any property in the search target servers having a same alias are reached. And if such a property, despite the property name, has a value "Company X", the document comprising such property is returned as a search result. Therefore, alias based metadata driven search makes it possible to perform searches by means of metadata values between servers having a different metadata structure.</p><p id="p0069" num="0069">It has been described that each property in the metadata structure is copied to the target server, if such a property can be mapped to the metadata structure of the target server. However, the source server may define that even though the metadata structure comprises mappable properties, a certain property is still not published in the metadata structure of the target server or transferred at all to the target server. Each property in the metadata structure may have a mark (a flag, a numerical value, a letter) that indicates whether the property in question can be published or not. For example, for certain local servers held by subcontractors, property "customer" can be hidden or unpublished. The controlled publication may relate to the document also. This means, that a property of the document may indicate whether the document can be published in the target server or not.</p><p id="p0070" num="0070">In addition, each property in the metadata structure may have mark (a flag, a numerical value, a letter, a definition) that indicates the permission to transfer such property to the target server or any server to which such property can be transferred. For example, some properties for HR server (human resources) may be considered secret for employee server, and such properties are not transferred with the documents.</p><p id="p0071" num="0071">In the previous description, the term "property" should be read to include any feature of the document. A mappable property is either a name of a user-defined feature (i.e. a name-value pair) of an electronic object, or a property value of certain properties with predefined semantics (such as a class, a workflow, a workflow state, a permission etc.).</p><p id="p0072" num="0072">The mapping process can be performed by such server that is a target of synchronization. The sending server (that has the document and the associated properties to be synchronized) provides the document and the associated properties with the alias data to the target server. By the received information, the target server is able to perform the mapping. This means that the sending server filters the metadata structure to include only the common<!-- EPO <DP n="19"> --> names it is willing to expose, and the receiving server converts the common names to correspond the receiving server's metadata structure.</p><p id="p0073" num="0073">An example of a server is illustrated in <figref idrefs="f0004">Fig. 4</figref>. The server 400 comprises a processor 490 (Central Processing Unit, CPU) for processing data and a memory 470 that may store applications and various data etc. The server also comprises computer program code 475 residing in the memory 470. The memory 470 may be, but is not limited to, a single memory, CD, DVD, ROM, RAM, EEPROM, optical storage, or any other non-volatile storage medium capable of storing digital data.</p><p id="p0074" num="0074">The server 400 comprises also a control unit 430 for controlling functions in the server 400. The control unit 430 (MCU, Main Control Unit) may comprise one or more processors. The control unit 430 may run a user interface software to facilitate user control of at least some functions of the server 400. The control unit 430 may also deliver a display command and a switch command to a display 440 to display visual information, e.g. a user interface. The server may also be connected to a keypad 450 for receiving input from the user. The control unit 430 may also communicate with the processor 490 and can access the memory 470.</p><p id="p0075" num="0075">Yet further, the server may comprise various communication means 420, 480 having a transmitter and a receiver for connecting to the network and for sending and receiving information. The first communicating means 420 can be adapted for telecommunication and the other communicating means 480 can be a one kind of short-range communicating means, such as Bluetooth™ system, WLAN system (Wireless Local Area Network) or other system which suits for local use and for communicating with another device.</p><p id="p0076" num="0076"><figref idrefs="f0005">Figure 5</figref> illustrates an embodiment of the method as a simplified flowchart.</p><p id="p0077" num="0077"><figref idrefs="f0013">Figure 13</figref> illustrates an example of elements of a document vault 1310 that exports data to a target vault. The document vault 1310 may comprise an object collector, a structure collector, a content exporter and a package writer. The object collector is configured to gather the selected object as replicated metadata and file data, but also reference structure elements via dependencies. The structure collector is configured to gather the selected structure elements as fully represented elements, and also referenced structure elements via dependencies. The package writer is configured to<!-- EPO <DP n="20"> --> create a content package with the content exporter. An example of the content package is show with reference 1350. In this embodiment, the package 1350 contains the data that is to be exported, i.e. metadata structure containing fully represented structure elements (mapped with GUID) and referenced structure elements (mapped with common names). The content package 1350 also contains objects and their metadata and file data. After the packet is completed, the packet can be exported to the target vault.</p><p id="p0078" num="0078">It is appreciated that the package 1350 may contain only the metadata structure or both the metadata structure and objects. If the package 1350 is used to import only content (i.e. objects), the package 1350 should include also such structure elements, e.g. property definitions, which are referred by the object metadata. However, in a typical use case, a package 1350 containing only the metadata structure is imported at first, after which a continuous sequence of package 1350 containing the objects with reference to the structure elements is imported separately.</p><p id="p0079" num="0079"><figref idrefs="f0014">Figure 14</figref> illustrates an example of elements of a target document vault 1410 that receives the imported data. The target document vault 1410 comprises a package reader, identity mapper, dependency mapper and content importer. The package reader is configured to read and parse the package content. The identity mapper is configured to perform identity (i.e. GUID) mapping (strong identity mapping) for fully represented elements and objects. This means that such a corresponding element needs to be found, that has exactly the same identity. The identity mapper performs similarity (i.e. common names) mapping (weak identity mapping) for referenced elements. The dependency mapper resolves dependencies for each element. Element with unmappable dependencies are skipped. Such object metadata that has unmappable structure dependencies are dropped. The content importer is configured to add or update object. For example, such fully represented elements that are missing are added. Such fully represented elements that already exist, are updated.</p><p id="p0080" num="0080">The various embodiments of the invention can be implemented with the help of computer program code that resides in a memory and causes the relevant apparatuses to carry out the invention. For example, a client device may comprise circuitry and electronics for handling, receiving and transmitting data, computer program code in a memory, and a processor that, when<!-- EPO <DP n="21"> --> running the computer program code, causes the client device to carry out the features of an embodiment. Yet further, a network device may comprise circuitry and electronics for handling, receiving and transmitting data, computer program code in a memory, and a processor that, when running the computer program code, causes the network device to carry out the features of an embodiment.</p><p id="p0081" num="0081">The present embodiments represent a great achievement in the field. In an embodiment, the content management system is a hybrid system comprising a main server residing in the cloud service and a local main server (optionally with a caching replica server) being an on-premise server. Such a hybrid system comprises substantially equally strong servers (main server and local main server), which together can provide their own benefits to the user. For example, because of the local main server the data usage becomes fast, and because of the cloud server, the data is always (temporally and geographically) available,</p><p id="p0082" num="0082">The use of caching replica server, on the other hand, reduces the copying need for all the data, because in addition to providing a direct connection to the main server, it caches the frequently used data closer to the user.</p><p id="p0083" num="0083">A synchronized local main server having the relevant data copied close to the user, on the other hand, improves the availability of the system and data, for example, if the network connections are not optimal for continuous online connectivity, thus contributing to an offline mode between servers.</p><p id="p0084" num="0084">It is obvious that the present invention is not limited solely to the above-presented embodiments, but it can be modified within the scope of the appended claims.</p></description><claims mxw-id="PCLM56976473" lang="EN" load-source="patent-office"><!-- EPO <DP n="22"> --><claim id="c-en-0001" num="0001"><claim-text>A method for replicating metadata structure of a source server to a target server, comprising
<claim-text>- importing the metadata structure of the source server to the target server, wherein the metadata structure defines by means of structure elements semantics for a metadata, which metadata is associated with electronic objects being stored in said source server;</claim-text>
<claim-text>- mapping the structure elements to corresponding structure elements in the target server according to mapping rules, wherein similarity mapping is performed for referenced structure elements and identity mapping is performed for fully represented structure elements;</claim-text>
<claim-text>- copying content elements, if available, containing at least electronic objects with associated metadata from the source server to the target server by applying the imported metadata structure.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, wherein semantics define at least application logic for using structure elements.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 1, wherein similarity mapping is based on common names of structure elements.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to claim 1, wherein identity mapping is based on globally unique identifications of structure elements.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method according to claim 1, wherein referenced structure elements are depended on by fully represented structure elements.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method according to claim 1, wherein the content elements and the structure elements are packaged and transmitted in said packet.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method according to claim 1, wherein copying the content elements comprises determining common names for properties being comprised in the metadata; determining if the determined common names exist in the metadata of the target server; and if so copying - together with the data - such properties of the metadata that have matching common names in the target server.<!-- EPO <DP n="23"> --></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>A method according to claim 1, wherein one of the servers is a cloud-based server.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>A method according to claim 1, wherein the metadata is a feature of an electronic object that is expressed as a name-value pair.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A method according to claim 1, wherein one of the servers is an on-premise server, wherein the other of the servers is a cloud server.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>A source server comprising a processor, a memory including computer program code, the memory and the computer program code configured to, with the processor, cause the source server to perform at least the following:
<claim-text>- transmit a metadata structure to a target server, wherein the metadata structure defines by means of structure elements semantics for a metadata, which metadata is associated with electronic objects being stored in said source server; wherein</claim-text>
<claim-text>- the structure elements are mappable to corresponding structure elements in the target server according to mapping rules, wherein similarity mapping is performed for referenced structure elements and identity mapping is performed for fully represented structure elements; and to</claim-text>
<claim-text>- copy content elements, if available, containing at least electronic objects with associated metadata to the target server by applying the transmitted metadata structure.</claim-text></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>A target server comprising a processor, a memory including computer program code, the memory and the computer program code configured to, with the processor, cause the target server to perform at least the following:
<claim-text>- receive a metadata structure from a source server, wherein the metadata structure defines by means of structure elements semantics for a metadata, which metadata is associated with electronic objects being stored in said source server;</claim-text>
<claim-text>- map the structure elements to corresponding structure elements in the target server according to mapping rules, wherein similarity mapping is performed for referenced structure elements and identity mapping is performed for fully represented structure elements, and to</claim-text>
<claim-text>- copy content elements, if available, containing at least electronic objects with associated metadata from the source server by applying the received metadata structure.</claim-text><!-- EPO <DP n="24"> --></claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>A computer program product comprising a computer-readable medium bearing computer program code embodied therein for use with a computer, the computer program code comprising code for carrying out a method according to any of the claims 1 to 10.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>A content management system, comprising at least one main server and at least one local main server, wherein said main server is configured to store electronic objects and said local main server is configured to store at least part of the electronic objects of the main server, wherein said servers are accessible by at least one client device, wherein said main server is a cloud-based server, and said local server is an on-premise server.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The content management system according to claim 14, further comprising means for replicating metadata structure of the main server to the local main server, wherein said means is configured to
<claim-text>- import the metadata structure of the main server to the local main server, wherein the metadata structure defines by means of structure elements semantics for a metadata, which metadata is associated with electronic objects being stored in said main server;</claim-text>
<claim-text>- map the structure elements to corresponding structure elements in the local main server according to mapping rules, wherein similarity mapping is performed for referenced structure elements and identity mapping is performed for fully represented structure elements;</claim-text>
<claim-text>- copy content elements, if available, containing at least electronic objects with associated metadata from the main server to the local main server by applying the imported metadata structure.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16667253" load-source="patent-office"><!-- EPO <DP n="25"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="165" he="206" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="26"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="206" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="27"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="165" he="223" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="28"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="165" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0008" num="8a,8b"><img id="if0008" file="imgf0008.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> --><figure id="f0010" num="10"><img id="if0010" file="imgf0010.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> --><figure id="f0011" num="11"><img id="if0011" file="imgf0011.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="36"> --><figure id="f0012" num="12"><img id="if0012" file="imgf0012.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="37"> --><figure id="f0013" num="13"><img id="if0013" file="imgf0013.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="38"> --><figure id="f0014" num="14"><img id="if0014" file="imgf0014.tif" wi="165" he="221" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="157" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="154" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
