<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680508-A1" country="EP" doc-number="2680508" kind="A1" date="20140101" family-id="47258353" file-reference-id="303789" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549180" ucid="EP-2680508-A1"><document-id><country>EP</country><doc-number>2680508</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12792373-A" is-representative="YES"><document-id mxw-id="PAPP154823103" load-source="docdb" format="epo"><country>EP</country><doc-number>12792373</doc-number><kind>A</kind><date>20120323</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP178958728" load-source="docdb" format="original"><country>EP</country><doc-number>12792373.8</doc-number><date>20120323</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140449984" ucid="CN-201110167875-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201110167875</doc-number><kind>A</kind><date>20110621</date></document-id></priority-claim><priority-claim mxw-id="PPC140445522" ucid="CN-2012072880-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2012072880</doc-number><kind>W</kind><date>20120323</date></document-id></priority-claim></priority-claims><technical-data><classification-ipc><edition>7</edition><main-classification>H04L  12/56</main-classification></classification-ipc><classifications-ipcr><classification-ipcr mxw-id="PCL2039492766" load-source="docdb">H04L   1/20        20060101ALI20140221BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2039494249" load-source="docdb">H04N  19/164       20140101ALN20140221BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2039496228" load-source="docdb">H04L   1/18        20060101ALI20140221BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2039497088" load-source="docdb">H04N  19/169       20140101ALN20140221BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2039497283" load-source="docdb">H04N  19/65        20140101AFI20140221BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2039501090" load-source="docdb">H04W  76/04        20090101ALI20140221BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL2039502331" load-source="docdb">H04N  19/89        20140101ALI20140221BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1713573414" load-source="docdb" scheme="CPC">Y02D  70/1262      20180101 LA20180102BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1713574331" load-source="docdb" scheme="CPC">Y02D  70/142       20180101 LA20180102BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2137519228" load-source="docdb" scheme="CPC">H04N  19/89        20141101 LI20141108BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2137520797" load-source="docdb" scheme="CPC">H04N  19/65        20141101 LI20141108BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2137532354" load-source="docdb" scheme="CPC">H04N  19/164       20141101 LA20141108BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2137533860" load-source="docdb" scheme="CPC">H04N  19/188       20141101 LA20141108BHEP        </classification-cpc><classification-cpc mxw-id="PCL2060960194" load-source="docdb" scheme="CPC">H04W  52/0206      20130101 FI20140306BHEP        </classification-cpc><classification-cpc mxw-id="PCL2093536775" load-source="docdb" scheme="CPC">H04L   1/1887      20130101 LI20140704BHEP        </classification-cpc><classification-cpc mxw-id="PCL2093537333" load-source="docdb" scheme="CPC">H04L   1/1848      20130101 LI20140704BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180024" lang="DE" load-source="patent-office">FEHLERBESEITIGUNGSVERFAHREN, ZUGANGSPUNKTAUSRÜSTUNG, STANDORTAUSRÜSTUNG UND SYSTEM DAFÜR</invention-title><invention-title mxw-id="PT132180025" lang="EN" load-source="patent-office">ERROR RECOVERY METHOD, ACCESS POINT EQUIPMENT, SITE EQUIPMENT AND SYSTEM THEREOF</invention-title><invention-title mxw-id="PT132180026" lang="FR" load-source="patent-office">PROCÉDÉ DE REPRISE APRÈS ERREUR, ÉQUIPEMENT DE POINT D'ACCÈS, ÉQUIPEMENT DE SITE ET SYSTÈME ASSOCIÉ</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918166172" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR918139748" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR918982074" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd.</last-name><iid>101351547</iid><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen, Guangdong 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918161335" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LI YUNBO</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918167123" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LI, YUNBO</last-name></addressbook></inventor><inventor mxw-id="PPAR918980533" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LI, YUNBO</last-name><address><street>Huawei Administration Building Bantian Longgang</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918167667" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>WU TIANYU</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918162724" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>WU, TIANYU</last-name></addressbook></inventor><inventor mxw-id="PPAR918990466" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>WU, TIANYU</last-name><address><street>Huawei Administration Building Bantian Longgang</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918147526" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>YANG XUN</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918173789" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>YANG, XUN</last-name></addressbook></inventor><inventor mxw-id="PPAR918994017" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>YANG, XUN</last-name><address><street>Huawei Administration Building Bantian Longgang</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918994097" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Reinhard - Skuhra - Weise &amp; Partner GbR</last-name><iid>100060500</iid><address><street>Patent- und Rechtsanwälte Friedrichstrasse 31</street><city>80801 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2012072880-W"><document-id><country>CN</country><doc-number>2012072880</doc-number><kind>W</kind><date>20120323</date><lang>ZH</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012163146-A1"><document-id><country>WO</country><doc-number>2012163146</doc-number><kind>A1</kind><date>20121206</date><lang>ZH</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548801732" load-source="docdb">AL</country><country mxw-id="DS548837245" load-source="docdb">AT</country><country mxw-id="DS548848207" load-source="docdb">BE</country><country mxw-id="DS548853863" load-source="docdb">BG</country><country mxw-id="DS548867850" load-source="docdb">CH</country><country mxw-id="DS548848208" load-source="docdb">CY</country><country mxw-id="DS548837246" load-source="docdb">CZ</country><country mxw-id="DS548801733" load-source="docdb">DE</country><country mxw-id="DS548848209" load-source="docdb">DK</country><country mxw-id="DS548848210" load-source="docdb">EE</country><country mxw-id="DS548854259" load-source="docdb">ES</country><country mxw-id="DS548853864" load-source="docdb">FI</country><country mxw-id="DS548867851" load-source="docdb">FR</country><country mxw-id="DS548801734" load-source="docdb">GB</country><country mxw-id="DS548848211" load-source="docdb">GR</country><country mxw-id="DS548801735" load-source="docdb">HR</country><country mxw-id="DS548837247" load-source="docdb">HU</country><country mxw-id="DS548867852" load-source="docdb">IE</country><country mxw-id="DS548848212" load-source="docdb">IS</country><country mxw-id="DS548853865" load-source="docdb">IT</country><country mxw-id="DS548848213" load-source="docdb">LI</country><country mxw-id="DS548853870" load-source="docdb">LT</country><country mxw-id="DS548802968" load-source="docdb">LU</country><country mxw-id="DS548853871" load-source="docdb">LV</country><country mxw-id="DS548853872" load-source="docdb">MC</country><country mxw-id="DS548802969" load-source="docdb">MK</country><country mxw-id="DS548802978" load-source="docdb">MT</country><country mxw-id="DS548848214" load-source="docdb">NL</country><country mxw-id="DS548801736" load-source="docdb">NO</country><country mxw-id="DS548848215" load-source="docdb">PL</country><country mxw-id="DS548853873" load-source="docdb">PT</country><country mxw-id="DS548837248" load-source="docdb">RO</country><country mxw-id="DS548853878" load-source="docdb">RS</country><country mxw-id="DS548848216" load-source="docdb">SE</country><country mxw-id="DS548867853" load-source="docdb">SI</country><country mxw-id="DS548801737" load-source="docdb">SK</country><country mxw-id="DS548801738" load-source="docdb">SM</country><country mxw-id="DS548802979" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669850" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The embodiments of the present invention provide an error recovery method, an access point device, a station device, and a system thereof. The error recovery method includes: transmitting a data frame to a station allowed to enter a power save mode, where the data frame is used to indicate the end of user data transmission; and retransmitting the data frame during a current transmission opportunity period if no acknowledgement frame returned by the station in response to the data frame is received. Based on the above technical solution, the access point retransmits the data frame directly during the current transmission opportunity period and there is no need to contend for a new transmission opportunity period to perform the error recovery, thereby speeding up the error recovery and reducing the error recovery delay. Unnecessary contending for a new transmission opportunity period is avoided when the error recovery can be implemented within the current transmission opportunity period, thereby increasing the error recovery efficiency, saving the network resources, and improving the quality of service.<img id="iaf01" file="imgaf001.tif" wi="122" he="62" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499223" lang="EN" source="EPO" load-source="docdb"><p>The embodiments of the present invention provide an error recovery method, an access point device, a station device, and a system thereof. The error recovery method includes: transmitting a data frame to a station allowed to enter a power save mode, where the data frame is used to indicate the end of user data transmission; and retransmitting the data frame during a current transmission opportunity period if no acknowledgement frame returned by the station in response to the data frame is received. Based on the above technical solution, the access point retransmits the data frame directly during the current transmission opportunity period and there is no need to contend for a new transmission opportunity period to perform the error recovery, thereby speeding up the error recovery and reducing the error recovery delay. Unnecessary contending for a new transmission opportunity period is avoided when the error recovery can be implemented within the current transmission opportunity period, thereby increasing the error recovery efficiency, saving the network resources, and improving the quality of service.</p></abstract><description mxw-id="PDES63955280" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>FIELD OF THE INVENTION</b></heading><p id="p0001" num="0001">The present invention relates to the wireless local area network field, and in particular, to an error recovery method, an access point device, a station device, and a system thereof in the wireless local area network field.</p><heading id="h0002"><b>BACKGROUND OF THE INVENTION</b></heading><p id="p0002" num="0002">A power saving mechanism, Transmission Opportunity (Transmission Opportunity, TXOP) Power Save (Power Save, PS), is introduced to the new standard. In the power saving mechanism, TXOP PS, when specific conditions are met during a TXOP period, a station (Station, STA) that supports this mechanism is allowed to enter a doze state so as to save power.</p><p id="p0003" num="0003">An access point (Access point, AP) may set a field TXOP_PS_NOT_ALLOWED (TXOP PS is not allowed) in VHT-SIG-A1 (Very High Throughout Signal-A1, very high throughout signal-A1) to indicate whether the STA in the TXOP PS mode is allowed to enter the doze state; when the field is 0, it indicates that the STA in the TXOP PS mode is allowed to enter the doze state; otherwise, the STA in the TXOP PS mode is not allowed to enter the doze state.</p><p id="p0004" num="0004">During a TXOP period, if the STA in the TXOP PS mode is allowed to enter the doze state, namely, the power save mode, the STA needs to determine whether specific conditions are met; if the specific conditions are met, the STA may enter the doze state until the TXOP period ends, and the AP is not allowed to transmit more data to the STA already allowed to enter the doze state during the remaining time of the current TXOP period.</p><p id="p0005" num="0005">One of the specific conditions for entering the doze state is that the STA returns an acknowledgement frame in response to a frame with a More Data field (More Data field) being 0. The frame with the More Data field (More Data field) being 0 is a data frame indicating the end of data transmission, where the frame carries user data destined for the STA, and indicates that no more user data will be transmitted to the STA, so that the STA enters the doze state after returning an acknowledgement frame.<!-- EPO <DP n="2"> --></p><p id="p0006" num="0006">In the prior art, the STA enters the doze state after receiving the frame with the More Data field being 0 and returning an acknowledgement frame, and the AP stops transmitting data to the STA after transmitting the frame with the More Data field being 0 to the STA.</p><p id="p0007" num="0007">However, if the frame with the More Data field being 0 is erroneous, or the acknowledgement frame in response to the frame with the More Data field being 0 is erroneous, the AP may fail to receive the acknowledgement frame, and there is an error in the transmission corresponding to the frame with the More Data field being 0. In the prior art, if the AP fails to receive the acknowledgement frame, the AP may cache the frame with the More Data field being 0, so as to retransmit the frame with the More Data field being 0 to the STA after obtaining another TXOP to communicate with the STA, and re-receive the corresponding acknowledgement frame to perform error recovery. This will reduce the transmission efficiency. Furthermore, a new TXOP period is required to be obtained before the error recovery can be performed, thereby causing a longer delay in error recovery, and lowering the quality of service.</p><heading id="h0003"><b>SUMMARY OF THE INVENTION</b></heading><p id="p0008" num="0008">Embodiments of the present invention provide an error recovery method, an access point device, a station device, and a system thereof, where the error recovery may be performed during the current transmission opportunity period, so as to solve the problem that the error recovery cannot be performed until a next transmission opportunity period is obtained, thereby improving the error recovery efficiency and quality of service.</p><p id="p0009" num="0009">In one aspect, an embodiment of the present invention provides an error recovery method, including: transmitting a data frame to a station allowed to enter a power save mode, where the data frame is used to indicate an end of user data transmission; and retransmitting the data frame to the station during a current transmission opportunity period if no acknowledgement frame returned by the station in response to the data frame is received.</p><p id="p0010" num="0010">In another aspect, an embodiment of the present invention provides an error recovery method, including: receiving a data frame transmitted by an access point, where the data frame is used to indicate an end of user data transmission; and receiving, during a current transmission opportunity period, the data frame retransmitted by the access point, where the data frame retransmitted by the access point is transmitted by the access point if the access point fails to receive an acknowledgement frame, and the acknowledgement frame is returned by a station when the data frame transmitted by the access point is received by the station allowed to enter a power save mode.<!-- EPO <DP n="3"> --></p><p id="p0011" num="0011">In still another aspect, an embodiment of the present invention provides an access point device, including: a transmitting module, configured to transmit a data frame to a station allowed to enter a power save mode, where the data frame is used to indicate an end of user data transmission; and a retransmitting module, configured to retransmit the data frame to the station during a current transmission opportunity period if no acknowledgement frame returned by the station in response to the data frame is received.</p><p id="p0012" num="0012">In still another aspect, an embodiment of the present invention provides a station device, including: a first receiving module, configured to receive a data frame transmitted by an access point, where the data frame is used to indicate an end of user data transmission; and a second receiving module, configured to receive, during a current transmission opportunity period, the data frame retransmitted by the access point, where the data frame retransmitted by the access point is transmitted by the access point if the access point fails to receive an acknowledgement frame, and the acknowledgement frame is returned by the station when the data frame transmitted by the access point is received by the station allowed to enter a power save mode.</p><p id="p0013" num="0013">In still another aspect, an embodiment of the present invention provides an error recovery system, including an access point device and a station device. The access point device is configured to: transmit a data frame to the station device allowed to enter a power save mode, where the data frame is used to indicate the end of user data transmission; and if no acknowledgement frame returned by the station device in response to the data frame is received, retransmit the data frame to the station device during the current transmission opportunity period. The station device is configured to receive the data frame transmitted by the access point device and receive the data frame retransmitted by the access point device during the current transmission opportunity period.</p><p id="p0014" num="0014">Based on the above technical solution, after transmitting the data frame indicating the end of user data transmission, the access point retransmits the data frame directly during the current transmission opportunity period if no acknowledgement frame is received, so that unlike the prior art, it is not necessary to contend for a new transmission opportunity period before retransmission. Therefore, the error recovery can be performed during the current transmission opportunity period, thereby speeding up error recovery and reducing the error recovery delay. Unnecessary contending for a new transmission opportunity period is avoided when the error recovery can be implemented within the current transmission opportunity period, thereby increasing the error recovery efficiency, saving the network resources, and improving the quality of service.<!-- EPO <DP n="4"> --></p><heading id="h0004"><b>BRIEF DESCRIPTION OF THE DRAWINGS</b></heading><p id="p0015" num="0015"><figref idrefs="f0001">FIG. 1</figref> is a flowchart of an error recovery method according to an embodiment of the present invention;</p><p id="p0016" num="0016"><figref idrefs="f0002">FIG. 2</figref> is a flowchart of another error recovery method according to an embodiment of the present invention;</p><p id="p0017" num="0017"><figref idrefs="f0003">FIG. 3</figref> is a flowchart of still another error recovery method according to an embodiment of the present invention;</p><p id="p0018" num="0018"><figref idrefs="f0003">FIG. 4</figref> is a flowchart of still another error recovery method according to an embodiment of the present invention;</p><p id="p0019" num="0019"><figref idrefs="f0004">FIG. 5</figref> is a structural block diagram of an access point device according to an embodiment of the present invention;</p><p id="p0020" num="0020"><figref idrefs="f0004">FIG. 6</figref> is a structural block diagram of another access point device according to an embodiment of the present invention;</p><p id="p0021" num="0021"><figref idrefs="f0004">FIG. 7</figref> is a structural block diagram of a station device according to an embodiment of the present invention;</p><p id="p0022" num="0022"><figref idrefs="f0005">FIG. 8</figref> is a structural block diagram of another station device according to an embodiment of the present invention; and</p><p id="p0023" num="0023"><figref idrefs="f0005">FIG. 9</figref> is a structural block diagram of an error recovery system according to an embodiment of the present invention.</p><heading id="h0005"><b>DETAILED DESCRIPTION OF THE EMBODIMENTS</b></heading><p id="p0024" num="0024">The technical solution according to embodiments of the present invention is described clearly and completely below with reference to embodiments and accompanying drawings. Evidently, the embodiments are exemplary only and the present invention is not limited to such embodiments. Persons of ordinary skill in the art can derive other embodiments from the embodiments given herein without making any creative effort, and all such embodiments shall fall within the protection scope of the present invention.</p><p id="p0025" num="0025">Firstly, an error recovery method 100 according to an embodiment of the present invention is described with reference to <figref idrefs="f0001">FIG. 1</figref>.</p><p id="p0026" num="0026">As shown in <figref idrefs="f0001">FIG. 1</figref>, the method 100 includes: in S110, transmitting a data frame to a station allowed to enter a power save mode, where the data frame is used to indicate the end of user data transmission; and in S120, retransmitting the data frame to the station during the current<!-- EPO <DP n="5"> --> transmission opportunity period if no acknowledgement frame returned by the station in response to the data frame is received.</p><p id="p0027" num="0027">For example, the method 100 may be executed by an access point. The access point transmits a data frame indicating the end of user data transmission to a station allowed to enter a power save mode, namely, allowed to enter a doze state, and if no acknowledgement frame is received, unlike the case in the prior art where retransmission can only be performed after a new transmission opportunity period is obtained, the data frame is retransmitted to the station during the current transmission opportunity period; therefore, it is not necessary to contend for a new transmission opportunity period to perform error recovery when the error recovery can be implemented within the current transmission opportunity period, thereby avoiding unnecessary waste of time and waste of resources due to unnecessary contention and increasing the error recovery efficiency.</p><p id="p0028" num="0028">In S110, the data frame indicating the end of user data transmission may be a data frame with the More Data field being 0, and it is indicated through the data frame that no more user data is to be transmitted to the station. In the prior art, after the AP transmits the data frame, no matter whether the AP succeeds in receiving the acknowledgement frame, the AP will not retransmit the data frame to the station and the communication with the station ends. In particular, if the AP does not receive the acknowledgement frame, a new transmission opportunity period is contended for to perform the retransmission. However, according to the embodiment of the present invention, if the AP does not receive the acknowledgement frame, the data frame is retransmitted directly during the current transmission opportunity period.</p><p id="p0029" num="0029">In S 120, there are two cases where the AP does not receive the acknowledgement frame. Case one: The AP receives no frame at all due to the possible reason that the station does not receive the data frame or the data frame is decoded incorrectly so that no acknowledgement frame is sent; or the acknowledgement frame is lost during the transmission and the AP does not sense the existence of the acknowledgement frame. Case two: The AP receives the frame, but the AP decodes the frame incorrectly, and therefore, the AP is unable to identify the frame as an acknowledgement frame.</p><p id="p0030" num="0030">In any case, the AP retransmits the data frame to the station to possibly implement error recovery in some cases. For example, the AP fails to receive the acknowledgement frame because the station does not transmit the acknowledgement frame; in this case, the station does not receive the data frame or the data frame is decoded incorrectly, and the station does not enter the doze state. In this case, the AP may implement the error recovery by retransmitting the data frame.<!-- EPO <DP n="6"> --></p><p id="p0031" num="0031">According to an embodiment of the present invention, the AP may retransmit the data frame to the station during a preset period within the current transmission opportunity period and the station enters the doze state after the preset period.</p><p id="p0032" num="0032">A period may be preset for the AP and the station, so that even if the station correctly receives the data frame indicating the end of the user data transmission and returns an acknowledgement frame, the station does not enter the doze state immediately, but waits for a while before entering the doze state. In this way, there may be redundant time for the AP to perform error recovery; therefore, even if the acknowledgement frame is lost or an error occurs so that the AP does not receive the acknowledgement frame, the AP still has chance to perform error recovery during the current transmission opportunity period. When the preset period ends, the AP confirms that the station enters the doze state and stops the data frame retransmission.</p><p id="p0033" num="0033">According to the embodiment of the present invention, the preset period may be a period not shorter than SIFS (Short Interframe Space, Short Interframe space).</p><p id="p0034" num="0034">For example, the preset period may be TxPIFS. TxPIFS is a difference between PIFS and aTxRxturnaroundTime. The value of aTxRxturnaroundTime is different depending on different WiFi (Wireless Fidelity, wireless fidelity) systems; when it is an orthogonal frequency division multiplexing system, aTxRxturnaroundTime is shorter than 2 µs; the aTxRxturnaroundTime may represent the time interval of switching from a channel monitoring state to a transmitting state. PIFS is the sum of SIFS and aSlotTime (a time slot period), where aSlotTime represents a time unit, and in the 802.11ac standard, aSlotTime may be 9 µs.</p><p id="p0035" num="0035">For another example, the preset period may be a period not shorter than PIFS (Point (coordination function) Interframe Space, point (coordination function) interframe space). For example, the preset period may be DIFS (Distributed (coordination function) Interframe Space, distributed (coordination function) interframe space). DIFS may be the sum of PIFS and aSlotTime. For another example, the preset period may be TxPIFS. TxPIFS is a difference between DIFS and aTxRxturnaroundTime.</p><p id="p0036" num="0036">According to an embodiment of the present invention, the AP may retransmit the data frame to the station for a preset number of times during the current transmission opportunity period.</p><p id="p0037" num="0037">If the AP does not receive the acknowledgement frame, the AP may directly retransmit the data frame for a certain number of times so that it is likely to implement error recovery during the current transmission opportunity period. For example, the AP fails to receive the acknowledgement frame due to the reason that the station does not receive the data frame or the data frame is decoded incorrectly; in this case, the station is not in the doze state, and the AP may<!-- EPO <DP n="7"> --> retransmit the data frame directly to implement the error recovery during the current transmission opportunity period.</p><p id="p0038" num="0038">According to an embodiment of the present invention, the AP may retransmit the data frame once to the station during the current transmission opportunity period. A common view is that if the one retransmission of the AP does not achieve the objective of error recovery, it is less likely for the subsequent retransmission to achieve this objective; therefore, one retransmission only can realize a good tradeoff between the error recovery efficiency and the overhead of the network resource, saving the unnecessary network overhead caused by multiple times of retransmission for implementing the error recovery.</p><p id="p0039" num="0039">In the error recovery method according to the embodiment of the present invention, after the data frame indicating the end of user data transmission is transmitted, and if no acknowledgement frame is received, the data frame is retransmitted directly during the current transmission opportunity period, so that unlike the prior art, it is not necessary to contend for a new transmission opportunity period before the retransmission can be performed. Therefore, the error recovery can be performed during the current transmission opportunity period, thereby speeding up error recovery and reducing the error recovery delay. Unnecessary contending for a new transmission opportunity period is avoided when the error recovery can be implemented within the current transmission opportunity period, thereby increasing the error recovery efficiency, saving the network resources, and improving the quality of service.</p><p id="p0040" num="0040"><figref idrefs="f0002">FIG. 2</figref> is a flowchart of an error recovery method 200 according to an embodiment of the present invention.</p><p id="p0041" num="0041">In S210, a data frame is transmitted to a station allowed to enter a power save mode, where the data frame is used to indicate the end of user data transmission. This step is basically the same as S110.</p><p id="p0042" num="0042">According to an embodiment of the present invention, S210 may be followed by S212 and S220. In S212, if a clear channel assessment result is detected to be lower than a preset threshold during the preset period for receiving the acknowledgement frame, it is determined that that no acknowledgement frame is received; in S220, the data frame is retransmitted to the station during the current transmission opportunity period.</p><p id="p0043" num="0043">The AP may determine, by detecting the clear channel assessment (Clear Channel Assessment, CCA) result, whether the acknowledgement frame is received. The AP may detect the CCA result by monitoring and measuring the carrier power in the channel.</p><p id="p0044" num="0044">In the standard, the time interval between the data frame and the returned acknowledgement frame is defined, for example, defined as the SIFS. The AP transmits the data<!-- EPO <DP n="8"> --> frame to the station, and then the AP waits for the acknowledgement frame returned by the station. If the station can receive the data frame correctly, the station returns the acknowledgement frame during the SIFS period following the end of receiving the data frame. The transmission time of the acknowledgement frame in the channel is not fixed, and varies depending on the transmission bandwidth and modulation manner.</p><p id="p0045" num="0045">Although the transmission time of the acknowledgement frame is not fixed, namely, the transmission length of the acknowledgement frame is not fixed, the transmission length of the acknowledgement frame includes at least a preamble sequence and a data section, where the data section is used to carry acknowledgement information and the minimum length of the data section varies in different standards. For example, in the 802.11 standard, the preamble sequence may include L-STF (Legacy Short Training Field, legacy short training field), L-LTE (Legacy Long Training Field, legacy long training field), and L-SIG (Legacy Signal, legacy signal); the data section may include at least one orthogonal frequency division modulation (Orthogonal Frequency Division Modulation, OFDM) symbol, so that the transmission length of the acknowledgement frame is at least the sum of lengths of L-STF, L-LTF, L-SIG, and the OFDM symbol. Specifically, in the 802.11ac standard, L-STF is 8 µs, L-LTE 8 is µs, L-SIG is 4 µs, and one OFDM symbol is 4 µs, so that the transmission time of the acknowledgement frame is at least 24 µs.</p><p id="p0046" num="0046">For the AP, the preset period for receiving the acknowledgement frame may start after the AP transmits the data frame to the station, or start when the AP waits for a period of SIFS after transmitting the data frame to the station. If the preset period for receiving the acknowledgement frame starts when the AP transmits the data frame, the preset period for receiving the acknowledgement frame may last a period of PIFS. When the preset period for receiving the acknowledgement frame starts when the AP waits for the period of SIFS after transmitting the data frame to the station, the preset period for receiving the acknowledgement frame may last the shortest transmission time of the acknowledgement frame or last a period shorter than the shortest transmission time of the acknowledgement frame. For example, in the standards in the prior art, after transmitting the data frame, the AP waits for an SIFS period and then starts detecting the CCA result, but the detection time does not exceed 24 µs. If the detection within 24 µs shows that the CCA result is lower than the preset threshold, it is determined that no acknowledgement frame is received.</p><p id="p0047" num="0047">In the preset period for receiving the acknowledgement frame, if the AP detects that the CCA result keeps lower than the threshold, it is determined that no acknowledgement frame is received; but if at any time point during this period, the AP detects that the CCA result is not lower than the preset threshold, it may be determined that the acknowledgement frame is received.<!-- EPO <DP n="9"> --></p><p id="p0048" num="0048">According to an embodiment of the present invention, S210 may be followed by S214 and S220. In S214, if a clear channel assessment result is detected to be lower than a preset threshold during the preset period for receiving the acknowledgement frame, it is determined that that no acknowledgement frame is received; in S220, the data frame is retransmitted to the station during the current transmission opportunity period.</p><p id="p0049" num="0049">If the AP detects, during the preset period for receiving the acknowledgement frame, the CCA result is not lower than the preset threshold, it means that the AP receives the frame; but if the frame is decoded incorrectly, the AP is unable to identify the frame as the acknowledgement frame, and then the AP determines that no acknowledgement frame is received.</p><p id="p0050" num="0050">According to the error recovery method provided in the embodiments of the present invention, by detecting the clear channel assessment result during the preset period for receiving the acknowledgement frame, the AP is able to determine effectively whether the acknowledgement frame is received, so that the AP can determine quickly during the preset period for receiving the acknowledgement frame whether any error occurs, thereby facilitating quick error recovery for the AP and thereby increasing the error recovery efficiency.</p><p id="p0051" num="0051">In the following, an error recovery method 300 according to an embodiment of the present invention is described with reference to <figref idrefs="f0003">FIG. 3</figref>.</p><p id="p0052" num="0052">As shown in <figref idrefs="f0003">FIG. 3</figref>, the method 300 includes: in S310, receiving a data frame transmitted by an access point, where the data frame is used to indicate the end of user data transmission; and in S320, receiving, during the current transmission opportunity period, the data frame retransmitted by the access point, where the data frame is retransmitted by the access point if the access point fails to receive an acknowledgement frame, and when the data frame transmitted by the access point is received by a station allowed to enter a power save mode, the acknowledgement frame is returned by the station.</p><p id="p0053" num="0053">For example, the method 300 may be executed by an STA. After the STA receives from the AP the data frame indicating the end of the user data transmission, if the AP does not receive from the STA the acknowledgement frame in response to the data frame, the AP retransmits the data frame to the STA during the current transmission opportunity period, so that the error recovery may be implemented during the current transmission opportunity period, and there is no need to contend for a new transmission opportunity period to perform the error recovery. Because the operations of the STA correspond to the operations of the AP, the content of the method 300 can refer to the related descriptions of the method 100 and will not be repeated herein.</p><p id="p0054" num="0054">In S310, the data frame indicating the end of the user data transmission may be a data frame with the More Data field being 0. The STA may not return the acknowledgement frame<!-- EPO <DP n="10"> --> because the data frame is decoded incorrectly; or may have returned the acknowledgement frame but the AP fails to receive the acknowledgement frame.</p><p id="p0055" num="0055">In S320, the AP retransmits the data frame to the STA if the AP does not receive the acknowledgement frame. The reason that the AP does not receive the acknowledgement frame may be that the acknowledgement frame is not transmitted out, or that the acknowledgement frame is lost, or that the acknowledgement frame is decoded incorrectly. Therefore, error recovery may be implemented during the current transmission opportunity period. The AP may determine, by detecting the clear channel assessment result, whether the acknowledgement frame is received. Details are disclosed in S212 and S214 in the above method 200.</p><p id="p0056" num="0056">In the error recovery method according to the embodiment of the present invention, the station allowed to enter the power save mode can receive, during the current transmission opportunity period, the data frame retransmitted by the access point to indicate the end of user data transmission, so that unlike the prior art where the access points needs to contend for a new transmission opportunity period before retransmission, the error recovery can be performed during the current transmission opportunity period, thereby speeding up error recovery and reducing the error recovery delay. Unnecessary contending for a new transmission opportunity period is avoided when the error recovery can be implemented within the current transmission opportunity period, thereby increasing the error recovery efficiency, saving the network resources, and improving the quality of service.</p><p id="p0057" num="0057"><figref idrefs="f0003">FIG. 4</figref> is a flowchart of an error recovery method 400 according to an embodiment of the present invention.</p><p id="p0058" num="0058">In S410, a data frame transmitted by an access point is received, where the data frame is used to indicate the end of user data transmission. This step is basically the same as S310.</p><p id="p0059" num="0059">According to an embodiment of the present invention, S410 may be followed by S422. In S422, if the data frame is decoded incorrectly, the data frame retransmitted by the access point is received during the current transmission opportunity period.</p><p id="p0060" num="0060">If the data frame received by the STA is decoded incorrectly, the STA does not return the acknowledgement frame and does not enter the doze state, so the AP can definitely retransmit the data frame to the STA during the current transmission opportunity period to perform error recovery, and unlike the prior art, there is no need to stop the data transmission and to contend for a new transmission opportunity period for retransmission which leads to an unnecessary transmission delay, lower error recovery efficiency, and waste of network resources. Therefore, the STA may directly receive the data frame retransmitted by the AP during the current transmission opportunity period, so as implement the error recovery during the current transmission opportunity period,<!-- EPO <DP n="11"> --> thereby increasing the error recovery efficiency, reducing the network overhead caused by resource contention, and improving the quality of service.</p><p id="p0061" num="0061">According to an embodiment of the present invention, S410 may be followed by S424. In S424, if the data frame is decoded correctly, after the acknowledgement frame is transmitted to the access point, the retransmitted data frame from the access point is received during the preset period within the current transmission opportunity period, and the doze state is entered after the preset period.</p><p id="p0062" num="0062">Because the data frame received by the STA is decoded correctly, the STA returns the acknowledgement frame to the AP. Due to a possible error during the transmission of the acknowledgement frame, the AP may not receive the acknowledgement frame, namely, the acknowledgement frame may be lost or decoded incorrectly. Therefore, in order to have redundant time for recovering from the possible error, after returning the acknowledgement frame, the STA does not enter the doze state immediately, but waits for the preset period to receive, during the preset period, the data frame retransmitted due to the possible failure of the AP in receiving the acknowledgement frame; as a result, the success rate of implementing the error recovery during the current transmission opportunity period is increased, and there is no need for the AP to contend for a new transmission opportunity period to implement error recovery.</p><p id="p0063" num="0063">According to an embodiment of the present invention, the preset period may be a period not shorter than SIFS. Because the shortest interval for the STA to continuously receive data frames transmitted by the AP is SIFS, if the AP performs retransmitting to the STA, the time interval for the STA to receive the data frame is at least SIFS, so that the STA needs to wait at least the SIFS before entering the doze state. In the 802.11ac standard, the SIFS may be 16 µs.</p><p id="p0064" num="0064">According to an embodiment of the present invention, the preset period may be TxPIFS. TxPIFS is a difference between PIFS and aTxRxturnaroundTime. According to an embodiment of the present invention, the preset period may be a period not shorter than PIFS. For example, the preset period may be DIFS (Distributed (coordination function) Interframe Space, distributed (coordination function) interframe space). The DIFS may be the sum of PIFS and aSlotTime. For another example, the preset period may be TxPIFS. TxPIFS is the difference between DIFS and aTxRxturnaroundTime.</p><p id="p0065" num="0065">According to an embodiment of the present invention, the preset period may be a period from the time of transmitting the acknowledgement frame to the time of receiving frames transmitted by the access point to other stations.</p><p id="p0066" num="0066">After returning the acknowledgement frame, the STA does not enter the doze state, so as to receive the data frame retransmitted by the AP due to the failure in receiving the<!-- EPO <DP n="12"> --> acknowledgement frame. If the AP starts to transmit frames to other stations, it means that the AP has received the acknowledgement frame successfully and switches to communication with other stations; therefore, upon receiving the frame transmitted by the AP to other stations, the STA enters the doze state, so as to save power.</p><p id="p0067" num="0067">In addition, S422 and S424 may be included in different embodiments or the same embodiment. When S422 and S424 are included in the same embodiment, the execution sequence of S422 and S424 does not limit the protection scope of the present invention, and S422 and S424 are executed based on a decoding result of the data frame.</p><p id="p0068" num="0068">In the error recovery method according to the embodiment of the present invention, the STA can still receive the data frame retransmitted by the AP when the data frame for indicating the end of the user data transmission is decoded incorrectly, whereas, in the prior art, the data frame retransmitted in case of incorrect decoding cannot be received. Therefore, the error recovery can be implemented during the current transmission opportunity period. Moreover, unlike the prior art, if the STA returns the acknowledgement frame, the STA does not enter the doze state immediately but waits for the preset period before entering, thereby having redundant time for recovering from the error caused by the failure of receiving the acknowledgement frame; and therefore, the error recovery may be implemented during the current transmission opportunity period. Therefore, using the error recovery method according to the embodiment of the present invention can speed up error recovery and reduce the error recovery delay. Unnecessary contending for a new transmission opportunity period is avoided when the error recovery can be implemented within the current transmission opportunity period, thereby increasing the error recovery efficiency, saving the network resources, and improving the quality of service.</p><p id="p0069" num="0069">The error recovery method according to the embodiments of the present invention has been described above. Corresponding devices for error recovery according to the embodiments of the present invention are described hereunder with reference to structural block diagrams of <figref idrefs="f0004 f0005">FIGs. 5 to 8</figref>.</p><p id="p0070" num="0070"><figref idrefs="f0004">FIG. 5</figref> is a structural block diagram of an access point device 500 according to an embodiment of the present invention.</p><p id="p0071" num="0071">The access point device 500 includes a transmitting module 510 and a retransmitting module 520. The access point device 500 may be an AP in a wireless local area network, and provide services for stations accessing the network through the access point device. The transmitting module 510 may be configured to transmit a data frame to a station allowed to enter a power save mode, where the data frame is used to indicate the end of the user data transmission. The retransmitting module 520 may be configured to retransmit the data frame to the station during<!-- EPO <DP n="13"> --> a current transmission opportunity period if no acknowledgement frame returned by the station in response to the data frame is received.</p><p id="p0072" num="0072">The above or other operations and/or functions of the transmitting module 510 and retransmitting module 520 may refer to S110 and S120 in the above method 100, and will not be repeated herein.</p><p id="p0073" num="0073">According to the embodiment of the present invention, after transmitting the data frame indicating the end of user data transmission, the access point device retransmits the data frame during the current transmission opportunity period if no acknowledgement frame is received, so that unlike the prior art, it is not necessary to contend for a new transmission opportunity period before retransmission. Therefore, the error recovery can be performed during the current transmission opportunity period, thereby speeding up error recovery and reducing the error recovery delay. Unnecessary contending for a new transmission opportunity period is avoided when the error recovery can be implemented within the current transmission opportunity period, thereby increasing the error recovery efficiency, saving the network resources, and improving the quality of service.</p><p id="p0074" num="0074"><figref idrefs="f0004">FIG. 6</figref> is a structural block diagram of an access point device 600 according to an embodiment of the present invention. A transmitting module 610 and a retransmitting module 620 of the access point device 600 are basically the same as the transmitting module 510 and the retransmitting module 520 of the access point device 500.</p><p id="p0075" num="0075">According to the embodiment of the present invention, the retransmitting module 620 may include a first retransmitting unit 622 and/or a second retransmitting unit 624. The first retransmitting unit 622 may be configured to retransmit a data frame to the station during a current transmission opportunity period if a clear channel assessment result is detected to be lower than a preset threshold during a preset period for receiving an acknowledgement frame, and it is determined that no acknowledgement frame is received. The second retransmitting unit 624 may be configured to retransmit the data frame to the station during the current transmission opportunity period, if a clear channel assessment result is detected to be not lower than the preset threshold during the preset period for receiving the acknowledgement frame but the frame received during the preset period preset period for receiving the acknowledgement frame is decoded incorrectly, and it is determined that no acknowledgement frame is received.</p><p id="p0076" num="0076">According to an embodiment of the present invention, the retransmitting module 620 may be configured to retransmit the data frame to the station during a preset period within the current transmission opportunity period, and the station enters a doze state after the preset period.<!-- EPO <DP n="14"> --></p><p id="p0077" num="0077">According to an embodiment of the present invention, the retransmitting module 620 may be configured to retransmit the data frame to the station for a preset number of times during the current transmission opportunity period. For example, the preset number of times may be 1.</p><p id="p0078" num="0078">The above or other operations and/or functions of the first retransmitting unit 622, the second retransmitting unit 624, and the retransmitting module 620 may refer to S212, S214, and S220 in the above method 200 and S120 in the method 100, and will not be repeated herein.</p><p id="p0079" num="0079">According to the embodiment of the present invention, by detecting a clear channel assessment result during the preset period for receiving the acknowledgement frame, the access point device is able to determine effectively whether the acknowledgement frame is received, so that the access point can determine quickly during the preset period for receiving the acknowledgement frame whether any error occurs, thereby facilitating quick error recovery and increasing the error recovery efficiency.</p><p id="p0080" num="0080"><figref idrefs="f0004">FIG. 7</figref> is a structural block diagram of a station device 700 according to an embodiment of the present invention.</p><p id="p0081" num="0081">The station device 700 includes a first receiving module 710 and a second receiving module 720. The station device 700 may be such as a computer, a server, and a user terminal, and may access a network through an access point of the wireless local area network. The first receiving module 710 may be configured to receive a data frame transmitted by the access point, where the data frame is used to indicate the end of user data transmission. The second receiving module 720 may be configured to receive the data frame retransmitted by the access point during a current transmission opportunity period, where the data frame retransmitted by the access point is retransmitted by the access point if the access point fails to receive an acknowledgement frame, and the acknowledgement frame is returned by a station after the data frame transmitted by the access point is received by the station allowed to enter a power save mode.</p><p id="p0082" num="0082">The above or other operations and/or functions of the first receiving module 710 and the second receiving module 720 can refer to S310 and S320 in the above method 300, and will not be repeated herein.</p><p id="p0083" num="0083">According to the station device provided by the embodiment of the present invention, the station device allowed to enter the power save mode is able to receive the data frame indicating the end of user data transmission and retransmitted by the access point during the current transmission opportunity period, so that, unlike the prior art where the access point needs to contend for a new transmission opportunity period for retransmission, the error recovery may be implemented during the current transmission opportunity period, thereby speeding up error recovery and reducing the error recovery delay. Unnecessary contending for a new transmission<!-- EPO <DP n="15"> --> opportunity period is avoided when the error recovery can be implemented within the current transmission opportunity period, thereby increasing the error recovery efficiency, saving the network resource, and improving the quality of service.</p><p id="p0084" num="0084"><figref idrefs="f0005">FIG. 8</figref> is a structural block diagram of a station device 800 according to an embodiment of the present invention. A first receiving module 810 and a second receiving module 820 of the station device 800 are basically the same as the first receiving module 710 and second receiving module 720 of the station device 700.</p><p id="p0085" num="0085">According to the embodiment of the present invention, the second receiving module 820 may include a first receiving unit 822 and/or a second receiving unit 824. The first receiving unit 822 may be configured to receive a data frame retransmitted by an access point during a current transmission opportunity period, if the data frame is decoded incorrectly. The second receiving unit 824 may be configured to receive, after an acknowledgement frame is transmitted to the access point, the retransmitted data frame from the access point during a preset period within the current transmission opportunity period, and enter a doze state after the preset period, if the data frame is decoded correctly.</p><p id="p0086" num="0086">According to an embodiment of the present invention, the preset period may be a period from the time of transmitting the acknowledgement frame to the time of receiving frames transmitted by the access point to other stations.</p><p id="p0087" num="0087">According to an embodiment of the present invention, the preset period may be a period not shorter than SIFS. For example, the preset period may be TxPIFS.</p><p id="p0088" num="0088">According to an embodiment of the present invention, the preset period may be a period not shorter than PIFS, for example, the preset period may be DIFS or TxDIFS.</p><p id="p0089" num="0089">The above or other operations and/or functions of the first receiving unit 822 and the second receiving unit 824 can refer to S422 and S424 in the above method 400, and will not be repeated herein.</p><p id="p0090" num="0090">According to the station device provided by the embodiment of the present invention, the station device can still receive the data frame retransmitted by the access point when the data frame for indicating the end of the user data transmission is decoded incorrectly, whereas, in the prior art, the data frame retransmitted in case of incorrect decoding cannot be received. Therefore, the error recovery can be implemented during the current transmission opportunity period. Moreover, if the station device returns the acknowledgement frame, the station device, unlike in the prior art, does not enter the doze state immediately but waits for the preset period before entering, thereby having redundant time for recovering from the error caused by the failure of receiving the acknowledgement frame; and therefore, the error recovery may be implemented during the current<!-- EPO <DP n="16"> --> transmission opportunity period. Therefore, according to the embodiments of the present invention, the station device may speed up error recovery and reduce the error recovery delay. Unnecessary contending for a new transmission opportunity period is avoided when the error recovery can be implemented within the current transmission opportunity period, thereby increasing the error recovery efficiency, saving the network resources, and improving the quality of service.</p><p id="p0091" num="0091"><figref idrefs="f0005">FIG. 9</figref> is a structural block diagram of an error recovery system 900 according to an embodiment of the present invention. The system 900 includes an access point device 910 and a station device 920.</p><p id="p0092" num="0092">The access point device 910 may be configured to transmit a data frame to the station device 920 allowed to enter a power save mode, where the data frame is used to indicate the end of user data transmission; and if no acknowledgement frame returned by the station device 920 in response to the data frame is received, retransmit the data frame to the station device 920 during a current transmission opportunity period.</p><p id="p0093" num="0093">The station device 920 may be configured to receive the data frame transmitted by the access point device 910 and receive the data frame retransmitted by the access point device 910 during the current transmission opportunity period.</p><p id="p0094" num="0094">The above or other operations and/or functions of the access point device 910 can refer to the corresponding content in the method 100 and method 200, and the above or other operations and/or functions of the station device 920 can refer to the corresponding content in the method 300 and method 400. Repeated descriptions are not provided herein.</p><p id="p0095" num="0095">In the error recovery system according to the embodiment of the present invention, after transmitting the data frame indicating the end of user data transmission, the access point device retransmits the data frame directly during the current transmission opportunity period if no acknowledgement frame is received, so that unlike the prior art, it is not necessary to contend for a new transmission opportunity period before retransmission. Therefore, the error recovery can be performed during the current transmission opportunity period, thereby speeding up error recovery and reducing the error recovery delay. Unnecessary contending for a new transmission opportunity period is avoided when the error recovery can be implemented within the current transmission opportunity period, thereby increasing the error recovery efficiency, saving the network resources, and improving the quality of service.</p><p id="p0096" num="0096">Persons skilled in the art may realize that the steps of the methods and units according to the embodiments disclosed herein may be implemented by electronic hardware, computer software, or a combination thereof. In order to specify clearly the interchangeability of the hardware and software, the steps and parts of each embodiment are described generally according to the functions<!-- EPO <DP n="17"> --> in the above specification. Whether these functions are implemented through hardware or software depends on the specific application and design constraints of the technical solution. Persons skilled in the art may use different methods to implement the described functions for each specific application, but this implementation should not be considered as exceeding the protection scope of the present invention.</p><p id="p0097" num="0097">The steps of the method according to the embodiments disclosed herein can be implemented by hardware or a software program executed by a processor, or implemented by a combination thereof. The software program can be stored in a random access memory (RAM), a memory, a read-only memory (ROM), an electrically programmable ROM, an electrically erasable programmable ROM, a register, a hard disk, a removable magnetic disk, or a CD-ROM, or any other types of storage media commonly known in the art.</p></description><claims mxw-id="PCLM56976195" lang="EN" load-source="patent-office"><!-- EPO <DP n="18"> --><claim id="c-en-0001" num="0001"><claim-text>An error recovery method, comprising:
<claim-text>transmitting a data frame to a station allowed to enter a power save mode, wherein the data frame is used to indicate an end of user data transmission; and</claim-text>
<claim-text>retransmitting the data frame to the station during a current transmission opportunity period if no acknowledgement frame returned by the station in response to the data frame is received.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The error recovery method according to claim 1, wherein the retransmitting the data frame to the station during the current transmission opportunity period if no acknowledgement frame returned by the station in response to the data frame is received comprises:
<claim-text>retransmitting the data frame to the station during the current transmission opportunity period, if a clear channel assessment result is detected to be lower than a preset threshold during a preset period for receiving an acknowledgement frame and it is determined that the acknowledgement frame is not received; or</claim-text>
<claim-text>retransmitting the data frame to the station during the current transmission opportunity period, if the clear channel assessment result is detected to be not lower than the preset threshold during the preset period for receiving the acknowledgement frame but the frame received during the preset period for receiving the acknowledgement frame is decoded incorrectly, and it is determined that the acknowledgement frame is not received.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The error recovery method according to claim 1, wherein the retransmitting the data frame to the station during the current transmission opportunity period comprises:
<claim-text>retransmitting the data frame to the station during a preset period within the current transmission opportunity period, wherein the station enters a doze state after the preset period.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The error recovery method according to claim 3, wherein the preset period is a period not shorter than SIFS.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The error recovery method according to claim 4, wherein the preset period is TxPIFS.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The error recovery method according to claim 4, wherein the preset period is a period not shorter than PIFS.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The error recovery method according to claim 6, wherein the preset period is DIFS or TxDIFS.<!-- EPO <DP n="19"> --></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The error recovery method according to claim 1, wherein the retransmitting the data frame to the station during the current transmission opportunity period comprises:
<claim-text>retransmitting the data frame to the station for a preset number of times during the current transmission opportunity period.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The error recovery method according to claim 8, wherein the preset number of times is 1.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>An error recovery method, comprising:
<claim-text>receiving a data frame transmitted by an access point, wherein the data frame is used to indicate an end of user data transmission; and</claim-text>
<claim-text>receiving, during a current transmission opportunity period, the data frame retransmitted by the access point, wherein the data frame retransmitted by the access point is transmitted by the access point if the access point fails to receive an acknowledgement frame, and the acknowledgement frame is returned by a station when the data frame transmitted by the access point is received by the station allowed to enter a power save mode.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The error recovery method according to claim 10, wherein the receiving the data frame retransmitted by the access point during the current transmission opportunity period comprises:
<claim-text>receiving the data frame retransmitted by the access point during the current transmission opportunity period, if the data frame is decoded incorrectly; or</claim-text>
<claim-text>receiving, after transmitting the acknowledgement frame to the access point, the retransmitted data frame from the access point during a preset period within the current transmission opportunity period, and entering a doze state after the preset period, if the data frame is decoded correctly.</claim-text></claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The error recovery method according to claim 11, wherein the preset period is a period not shorter than SIFS.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The error recovery method according to claim 12, wherein the preset period is TxPIFS.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The error recovery method according to claim 12, wherein the preset period is a period not shorter than PIFS.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The error recovery method according to claim 14, wherein the preset period is DIFS or TxDIFS.</claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>The error recovery method according to claim 11, wherein the preset period is a period from the time of transmitting the acknowledgement frame to the time of receiving frames transmitted by the access point to other stations.</claim-text></claim><claim id="c-en-0017" num="0017"><claim-text>An access point device, comprising:
<claim-text>a transmitting module, configured to transmit a data frame to a station allowed to enter a power save mode, wherein the data frame is used to indicate an end of user data transmission; and<!-- EPO <DP n="20"> --></claim-text>
<claim-text>a retransmitting module, configured to retransmit the data frame to the station during a current transmission opportunity period if no acknowledgement frame returned by the station in response to the data frame is received.</claim-text></claim-text></claim><claim id="c-en-0018" num="0018"><claim-text>The access point device according to claim 17, wherein the retransmitting module comprises:
<claim-text>a first retransmitting unit, configured to retransmit the data frame to the station during the current transmission opportunity period, if a clear channel assessment result is detected to be lower than a preset threshold during a preset period for receiving an acknowledgement frame and it is determined that the acknowledgement frame is not received; or</claim-text>
<claim-text>a second retransmitting unit, configured to retransmit the data frame to the station during the current transmission opportunity period, if the clear channel assessment result is detected to be not lower than the preset threshold during the preset period for receiving the acknowledgement frame but the frame received during the preset period for receiving the acknowledgement frame is decoded incorrectly, and it is determined that the acknowledgement frame is not received.</claim-text></claim-text></claim><claim id="c-en-0019" num="0019"><claim-text>The access point device according to claim 17, wherein the retransmitting module is configured to retransmit the data frame to the station during a preset period within the current transmission opportunity period, wherein the station enters a doze state after the preset period.</claim-text></claim><claim id="c-en-0020" num="0020"><claim-text>The access point device according to claim 17, wherein the retransmitting module is configured to retransmit the data frame to the station for a preset number of times during the current transmission opportunity period.</claim-text></claim><claim id="c-en-0021" num="0021"><claim-text>The access point device according to claim 20, wherein the preset number of times is 1.</claim-text></claim><claim id="c-en-0022" num="0022"><claim-text>A station device, comprising:
<claim-text>a first receiving module, configured to receive a data frame transmitted by an access point, wherein the data frame is used to indicate an end of user data transmission; and</claim-text>
<claim-text>a second receiving module, configured to receive, during a current transmission opportunity period, the data frame retransmitted by the access point, wherein the data frame retransmitted by the access point is transmitted by the access point if the access point fails to receive an acknowledgement frame, and the acknowledgement frame is returned by the station when the data frame transmitted by the access point is received by the station allowed to enter a power save mode.</claim-text></claim-text></claim><claim id="c-en-0023" num="0023"><claim-text>The station device according to claim 22, wherein the second receiving module comprises:
<claim-text>a first receiving unit, configured to receive the data frame retransmitted by the access point during the current transmission opportunity period, if the data frame is decoded incorrectly; or</claim-text>
<claim-text>a second receiving unit, configured to receive, after the acknowledgement frame is transmitted to the access point, the retransmitted data frame from the access point during a preset period within<!-- EPO <DP n="21"> --> the current transmission opportunity period, and enter a doze state after the preset period, if the data frame is decoded correctly.</claim-text></claim-text></claim><claim id="c-en-0024" num="0024"><claim-text>The station device according to claim 23, wherein the preset period is a period from the time of transmitting the acknowledgement frame to the time of receiving frames transmitted by the access point to other stations.</claim-text></claim><claim id="c-en-0025" num="0025"><claim-text>An error recovery system, comprising an access point device and a station device, wherein:
<claim-text>the access point device is configured to transmit a data frame to the station device allowed to enter a power save mode, wherein the data frame is used to indicate an end of user data transmission; and if no acknowledgement frame returned by the station device in response to the data frame is received, retransmit the data frame to the station device during a current transmission opportunity period; and</claim-text>
<claim-text>the station device is configured to receive the data frame transmitted by the access point device and receive the data frame retransmitted by the access point device during the current transmission opportunity period.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16666978" load-source="patent-office"><!-- EPO <DP n="22"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="154" he="83" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="23"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="165" he="160" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="24"> --><figure id="f0003" num="3,4"><img id="if0003" file="imgf0003.tif" wi="165" he="190" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="25"> --><figure id="f0004" num="5,6,7"><img id="if0004" file="imgf0004.tif" wi="118" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="26"> --><figure id="f0005" num="8,9"><img id="if0005" file="imgf0005.tif" wi="163" he="151" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="165" he="232" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="232" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
