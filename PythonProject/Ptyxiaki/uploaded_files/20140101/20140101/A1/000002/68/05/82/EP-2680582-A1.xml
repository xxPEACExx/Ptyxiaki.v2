<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680582-A1" country="EP" doc-number="2680582" kind="A1" date="20140101" family-id="46720517" file-reference-id="313846" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549106" ucid="EP-2680582-A1"><document-id><country>EP</country><doc-number>2680582</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-12749118-A" is-representative="NO"><document-id mxw-id="PAPP154823029" load-source="docdb" format="epo"><country>EP</country><doc-number>12749118</doc-number><kind>A</kind><date>20120221</date><lang>JA</lang></document-id><document-id mxw-id="PAPP186634465" load-source="docdb" format="original"><country>EP</country><doc-number>12749118.1</doc-number><date>20120221</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140449995" ucid="JP-2012001168-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012001168</doc-number><kind>W</kind><date>20120221</date></document-id></priority-claim><priority-claim mxw-id="PPC140450567" ucid="US-201161445258-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161445258</doc-number><kind>P</kind><date>20110222</date></document-id></priority-claim><priority-claim mxw-id="PPC140445640" ucid="US-201161509167-P" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201161509167</doc-number><kind>P</kind><date>20110719</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-1994220574" load-source="docdb">H04N  19/85        20140101ALI20151125BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1994220575" load-source="docdb">H04N  19/70        20140101ALN20151125BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1994220576" load-source="docdb">H04N  19/46        20140101AFI20151125BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL-1994220577" load-source="docdb">H04N  19/40        20140101ALN20151125BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1718550578" load-source="docdb" scheme="CPC">H04N  19/426       20141101 LI20171219BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1858720541" load-source="docdb" scheme="CPC">H04N  19/184       20141101 FI20170113BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1858720542" load-source="docdb" scheme="CPC">H04N  19/176       20130101 LI20170105BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1858720543" load-source="docdb" scheme="CPC">G06T   9/00        20130101 LI20170113BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1973211209" load-source="docdb" scheme="CPC">H04N  19/46        20130101 LI20160210BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1973218371" load-source="docdb" scheme="CPC">H04N  19/40        20141101 LA20160210BHEP        </classification-cpc><classification-cpc mxw-id="PCL-1999884990" load-source="docdb" scheme="CPC">H04N  19/70        20130101 LA20151016BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2015158800" load-source="docdb" scheme="CPC">H04N  19/44        20141101 LI20151016BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2015161188" load-source="docdb" scheme="CPC">H04N  19/593       20141101 LI20151016BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2015163160" load-source="docdb" scheme="CPC">H04N  19/103       20141101 LI20151016BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2015165602" load-source="docdb" scheme="CPC">H04N  19/85        20141101 LI20151016BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2123405337" load-source="docdb" scheme="CPC">H04N  19/152       20141101 LI20141223BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2123405791" load-source="docdb" scheme="CPC">H04N  19/159       20130101 LI20141223BHEP        </classification-cpc><classification-cpc mxw-id="PCL2065209735" load-source="docdb" scheme="CPC">G06T   9/004       20130101 LI20140328BHEP        </classification-cpc><classification-cpc mxw-id="PCL2125076659" load-source="docdb" scheme="CPC">G11B  20/10        20130101 LA20141009BHEP        </classification-cpc><classification-cpc mxw-id="PCL2125078494" load-source="docdb" scheme="CPC">G11B  20/10527     20130101 LA20141009BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132179802" lang="DE" load-source="patent-office">BILDCODIERUNGSVERFAHREN, BILDDECODIERUNGSVERFAHREN, BILDCODIERUNGSVORRICHTUNG, BILDDECODIERUNGSVORRICHTUNG UND BILDCODIERUNGS-/-DECODIERUNGSVORRICHTUNG</invention-title><invention-title mxw-id="PT132179803" lang="EN" load-source="patent-office">IMAGE ENCODING METHOD, IMAGE DECODING METHOD, IMAGE ENCODING DEVICE, IMAGE DECODING DEVICE, AND IMAGE ENCODING/DECODING DEVICE</invention-title><invention-title mxw-id="PT132179804" lang="FR" load-source="patent-office">PROCÉDÉ DE CODAGE D'IMAGE, PROCÉDÉ DE DÉCODAGE D'IMAGE, DISPOSITIF DE CODAGE D'IMAGE, DISPOSITIF DE DÉCODAGE D'IMAGE ET DISPOSITIF DE CODAGE/DÉCODAGE D'IMAGE</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918162958" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>PANASONIC CORP</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918173071" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>PANASONIC CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR918989442" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Panasonic Corporation</last-name><iid>101295897</iid><address><street>1006, Oaza Kadoma Kadoma-shi</street><city>Osaka 571-8501</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918137205" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>LIM CHONG SOON</last-name><address><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918143699" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>LIM, CHONG SOON</last-name></addressbook></inventor><inventor mxw-id="PPAR918994478" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>LIM, CHONG SOON</last-name><address><street>c/o Panasonic Singapore Laboratories Pte. Ltd. BLK 1022 Tai Seng Avenue nr. 06-3530 Tai Seng Industrial Estate</street><city>Singapore 534415</city><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918167742" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>WAHADANIAH VIKTOR</last-name><address><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918153036" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>WAHADANIAH, VIKTOR</last-name></addressbook></inventor><inventor mxw-id="PPAR918988424" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>WAHADANIAH, VIKTOR</last-name><address><street>c/o Panasonic Singapore Laboratories Pte. Ltd. BLK 1022 Tai Seng Avenue nr. 06-3530 Tai Seng Industrial Estate</street><city>Singapore 534415</city><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918139967" load-source="docdb" sequence="3" format="epo"><addressbook><last-name>NAING SUE MON THET</last-name><address><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918144609" load-source="docdb" sequence="3" format="intermediate"><addressbook><last-name>NAING, SUE MON THET</last-name></addressbook></inventor><inventor mxw-id="PPAR918983982" load-source="patent-office" sequence="3" format="original"><addressbook><last-name>NAING, SUE MON THET</last-name><address><street>c/o Panasonic Singapore Laboratories Pte. Ltd. BLK 1022 Tai Seng Avenue nr. 06-3530 Tai Seng Industrial Estate</street><city>Singapore 534415</city><country>SG</country></address></addressbook></inventor><inventor mxw-id="PPAR918135400" load-source="docdb" sequence="4" format="epo"><addressbook><last-name>NISHI TAKAHIRO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918151270" load-source="docdb" sequence="4" format="intermediate"><addressbook><last-name>NISHI, TAKAHIRO</last-name></addressbook></inventor><inventor mxw-id="PPAR918994337" load-source="patent-office" sequence="4" format="original"><addressbook><last-name>NISHI, TAKAHIRO</last-name><address><street>c/o Panasonic Corporation Intellectual Property Center IP Development Group 7F Twin 21 OBP Panasonic Tower 2-1-61, Shiromi Chuo-ku</street><city>Osaka 540-6207</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918172891" load-source="docdb" sequence="5" format="epo"><addressbook><last-name>SHIBAHARA YOUJI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918171643" load-source="docdb" sequence="5" format="intermediate"><addressbook><last-name>SHIBAHARA, YOUJI</last-name></addressbook></inventor><inventor mxw-id="PPAR918987827" load-source="patent-office" sequence="5" format="original"><addressbook><last-name>SHIBAHARA, YOUJI</last-name><address><street>c/o Panasonic Corporation Intellectual Property Center IP Development Group 7F Twin 21 OBP Panasonic Tower 2-1-61, Shiromi Chuo-ku</street><city>Osaka 540-6207</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918146709" load-source="docdb" sequence="6" format="epo"><addressbook><last-name>SASAI HISAO</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918134234" load-source="docdb" sequence="6" format="intermediate"><addressbook><last-name>SASAI, HISAO</last-name></addressbook></inventor><inventor mxw-id="PPAR918985240" load-source="patent-office" sequence="6" format="original"><addressbook><last-name>SASAI, HISAO</last-name><address><street>c/o Panasonic Corporation Intellectual Property Center IP Development Group 7F Twin 21 OBP Panasonic Tower 2-1-61, Shiromi Chuo-ku</street><city>Osaka 540-6207</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918155167" load-source="docdb" sequence="7" format="epo"><addressbook><last-name>SUGIO TOSHIYASU</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918132355" load-source="docdb" sequence="7" format="intermediate"><addressbook><last-name>SUGIO, TOSHIYASU</last-name></addressbook></inventor><inventor mxw-id="PPAR918981741" load-source="patent-office" sequence="7" format="original"><addressbook><last-name>SUGIO, TOSHIYASU</last-name><address><street>c/o Panasonic Corporation Intellectual Property Center IP Development Group 7F Twin 21 OBP Panasonic Tower 2-1-61, Shiromi Chuo-ku</street><city>Osaka 540-6207</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918992722" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Grünecker, Kinkeldey, Stockmair &amp; Schwanhäusser Anwaltssozietät</last-name><iid>100060488</iid><address><street>Leopoldstrasse 4</street><city>80802 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="JP-2012001168-W"><document-id><country>JP</country><doc-number>2012001168</doc-number><kind>W</kind><date>20120221</date><lang>JA</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012114725-A1"><document-id><country>WO</country><doc-number>2012114725</doc-number><kind>A1</kind><date>20120830</date><lang>JA</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548842208" load-source="docdb">AL</country><country mxw-id="DS548842458" load-source="docdb">AT</country><country mxw-id="DS548842209" load-source="docdb">BE</country><country mxw-id="DS548801310" load-source="docdb">BG</country><country mxw-id="DS548846091" load-source="docdb">CH</country><country mxw-id="DS548802184" load-source="docdb">CY</country><country mxw-id="DS548842459" load-source="docdb">CZ</country><country mxw-id="DS548843630" load-source="docdb">DE</country><country mxw-id="DS548802185" load-source="docdb">DK</country><country mxw-id="DS548802186" load-source="docdb">EE</country><country mxw-id="DS548834953" load-source="docdb">ES</country><country mxw-id="DS548801311" load-source="docdb">FI</country><country mxw-id="DS548801312" load-source="docdb">FR</country><country mxw-id="DS548843631" load-source="docdb">GB</country><country mxw-id="DS548802187" load-source="docdb">GR</country><country mxw-id="DS548843632" load-source="docdb">HR</country><country mxw-id="DS548842460" load-source="docdb">HU</country><country mxw-id="DS548846092" load-source="docdb">IE</country><country mxw-id="DS548802188" load-source="docdb">IS</country><country mxw-id="DS548801313" load-source="docdb">IT</country><country mxw-id="DS548802189" load-source="docdb">LI</country><country mxw-id="DS548842625" load-source="docdb">LT</country><country mxw-id="DS548843049" load-source="docdb">LU</country><country mxw-id="DS548842626" load-source="docdb">LV</country><country mxw-id="DS548842627" load-source="docdb">MC</country><country mxw-id="DS548843050" load-source="docdb">MK</country><country mxw-id="DS548843051" load-source="docdb">MT</country><country mxw-id="DS548801318" load-source="docdb">NL</country><country mxw-id="DS548834954" load-source="docdb">NO</country><country mxw-id="DS548846093" load-source="docdb">PL</country><country mxw-id="DS548843052" load-source="docdb">PT</country><country mxw-id="DS548801319" load-source="docdb">RO</country><country mxw-id="DS548843053" load-source="docdb">RS</country><country mxw-id="DS548846094" load-source="docdb">SE</country><country mxw-id="DS548842461" load-source="docdb">SI</country><country mxw-id="DS548834955" load-source="docdb">SK</country><country mxw-id="DS548846095" load-source="docdb">SM</country><country mxw-id="DS548842628" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669777" lang="EN" load-source="patent-office"><p id="pa01" num="0001">The image coding method can improve coding efficiency by using an adaptive bit-depth. The image coding method is used to code images to generate a coded stream. The image coding method includes: writing (S1001), into a sequence parameter set in the coded stream to be generated, a first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and writing (S1002), into the sequence parameter set, a second parameter which is different from the first parameter and represents a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the images.<img id="iaf01" file="imgaf001.tif" wi="83" he="72" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499150" lang="EN" source="EPO" load-source="docdb"><p>The image coding method can improve coding efficiency by using an adaptive bit-depth. The image coding method is used to code images to generate a coded stream. The image coding method includes: writing (S1001), into a sequence parameter set in the coded stream to be generated, a first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and writing (S1002), into the sequence parameter set, a second parameter which is different from the first parameter and represents a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the images.</p></abstract><description mxw-id="PDES63955207" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>[Technical Field]</b></heading><p id="p0001" num="0001">The present disclosure relates to image coding methods of coding images to generate a coded stream, and image decoding methods of decoding images included in the coded stream.</p><heading id="h0002"><b>[Background Art]</b></heading><p id="p0002" num="0002">In the H.264 standard (see Non-Patent Literature 1), image (including video) coding typically comprises intra coding using spatial prediction methods, and inter coding using temporal prediction methods.</p><p id="p0003" num="0003">Temporal prediction may be performed for a number of different inter-coding block types, such as Inter 16x16, Inter 16x8, Inter 8x16, inter 8x8, inter 8x4, inter 4x8 and Inter 4x4, while spatial prediction may be performed for a number of intra-coding block types, such as Intra 16x16, Intra 8x8 and Intra 4x4. Intra Pulse Code Modulation (IPCM) blocks are one kind of intra coding blocks.</p><p id="p0004" num="0004">IPCM blocks are blocks of uncompressed image samples where raw luma and chroma samples are signaled in the coded stream. They are typically used in the case when the entropy coder produces more bits compared to raw data bits when coding a block of image samples. In general, IPCM blocks are coded as uncompressed data in the coded stream.</p><heading id="h0003"><b>[Citation List]</b></heading><heading id="h0004"><b>[Non Patent Literature]</b></heading><!-- EPO <DP n="2"> --><p id="p0005" num="0005"><ul><li>[NPL 1] ITU-T H.264 03/2010</li></ul></p><heading id="h0005"><b>[Summary of Invention]</b></heading><heading id="h0006"><b>[Technical Problem]</b></heading><p id="p0006" num="0006">However, there is a situation where IPCM blocks prohibit improvement of coding efficiency. A data amount of an IPCM block depends on a size of luma and chroma bit-depth. As a bit-depth is greater, a data amount of an uncompressed IPCM block is larger. Therefore, in the above situation, IPCM blocks prohibit improvement of coding efficiency.</p><p id="p0007" num="0007">In order to address the above, one non-limiting and exemplary embodiment provides an image coding method and an image decoding method by which coding efficiency can be improved by using an adaptive bit-depth.</p><heading id="h0007"><b>[Solution to Problem]</b></heading><p id="p0008" num="0008">In one general aspect of the present disclosure for solving the above problem, there is provided an image coding method of coding images to generate a coded stream, the image coding method including: writing a first parameter into a sequence parameter set in the coded stream to be generated, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and writing a second parameter different from the first parameter into the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the images.</p><p id="p0009" num="0009">Thereby, it is possible to set the bit-depth for IPCM samples separately and independently from the bit-depth for reconstructed samples. Therefore, redundant data of the IPCM samples can be reduced. As a result, coding efficiency can be improved.<!-- EPO <DP n="3"> --></p><p id="p0010" num="0010">Furthermore, the image coding method may include writing the IPCM sample into the coded stream at the second bit-depth.</p><p id="p0011" num="0011">Thereby, IPCM samples are written into the coded stream at the bit-depth set for IPCM samples which is different from the bit-depth set for reconstructed samples. As a result, coding efficiency can be improved.</p><p id="p0012" num="0012">Still further, the image coding method may further include reconstructing a sample at the first bit-depth from a coded sample in the images, so as to generate the reconstructed sample.</p><p id="p0013" num="0013">Thereby, reconstructed samples are generated at the bit-depth set for reconstructed samples which is different from the bit-depth set for IPCM samples. As a result, image quality can be improved.</p><p id="p0014" num="0014">Still further, in the writing of the second parameter, the second parameter representing the second bit-depth that may be equal to or smaller than the first bit-depth is written.</p><p id="p0015" num="0015">Thereby, the bit-depth for IPCM samples is set to be equal to or smaller than the bit-depth for reconstructed samples. Therefore, redundant data of the IPCM samples can be reduced.</p><p id="p0016" num="0016">Still further, the image coding method may further include converting the IPCM sample at the second bit-depth into the reconstructed sample at the first bit-depth.</p><p id="p0017" num="0017">Thereby, even if the bit-depth for IPCM samples is different from the bit-depth for reconstructed samples, IPCM samples can be used as reconstructed samples.</p><p id="p0018" num="0018">Still further, in the writing of the second parameter, the second parameter representing the second bit-depth that may be smaller than<!-- EPO <DP n="4"> --> a third bit-depth is written, the third bit-depth being a bit-depth of an original sample in the images, and the image coding method may further include converting the original sample at the third bit-depth into a sample at the second bit-depth, so as to decrease the bit-depth of the IPCM sample corresponding to the original sample.</p><p id="p0019" num="0019">Thereby, it is possible to reduce redundant data of IPCM samples corresponding to original samples. As a result, coding efficiency can be improved.</p><p id="p0020" num="0020">Still further, in the writing of the first parameter, the first parameter representing the first bit-depth that may be larger than a third bit-depth is written, the third bit-depth being a bit-depth of an original sample in the images, and the image coding method may further include converting the original sample at the third bit-depth into a sample at the first bit-depth, so as to increase the bit-depth of the reconstructed sample corresponding to the original sample.</p><p id="p0021" num="0021">Thereby, it is possible to increase the bit-depth of reconstructed samples corresponding to original samples. As a result, image quality can be improved.</p><p id="p0022" num="0022">Still further, the image coding method may further include writing a coded sample coded using the reconstructed sample at the first bit-depth into the coded stream.</p><p id="p0023" num="0023">Thereby, coded samples coded using reconstructed samples at the bit-depth for reconstructed samples are written to the coded stream.</p><p id="p0024" num="0024">In another aspect of the present disclosure, there is provided an image decoding method of decoding images in a coded stream, the image decoding method including: obtaining a first parameter from a sequence parameter set in the coded stream, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed<!-- EPO <DP n="5"> --> sample in the images; and obtaining a second parameter different from the first parameter from the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the images.</p><p id="p0025" num="0025">Thereby, it is possible to set the bit-depth for IPCM samples separately and independently from the bit-depth for reconstructed samples. Therefore, redundant data of the IPCM samples can be reduced. As a result, coding efficiency can be improved.</p><p id="p0026" num="0026">Furthermore, the image decoding method may further include obtaining the IPCM sample from the coded stream at the second bit-depth.</p><p id="p0027" num="0027">Thereby, IPCM samples are obtained from the coded stream at the bit-depth set for IPCM samples which is different from the bit-depth set for reconstructed samples. As a result, coding efficiency can be improved.</p><p id="p0028" num="0028">Still further, the image decoding method may further include reconstructing a sample at the first bit-depth from a coded sample in the images, so as to generate the reconstructed sample.</p><p id="p0029" num="0029">Thereby, reconstructed samples are generated at the bit-depth set for reconstructed samples which is different from the bit-depth set for IPCM samples. As a result, image quality can be improved.</p><p id="p0030" num="0030">Still further, in the obtaining of the second parameter, the second parameter representing the second bit-depth that may be equal to or smaller than the first bit-depth is obtained.</p><p id="p0031" num="0031">Thereby, the bit-depth for IPCM samples is set to be equal or smaller than the bit-depth for reconstructed samples. Therefore, redundant data of the IPCM samples can be reduced.</p><p id="p0032" num="0032"><!-- EPO <DP n="6"> --> Still further, the image decoding method may further include converting the IPCM sample at the second bit-depth to the reconstructed sample at the first bit-depth.</p><p id="p0033" num="0033">Thereby, even if the bit-depth for IPCM samples is different from the bit-depth for reconstructed samples, IPCM samples can be used as reconstructed samples.</p><p id="p0034" num="0034">Still further, in the obtaining of the second parameter, the second parameter representing the second bit-depth that may be smaller than the first bit-depth is obtained, and the image decoding method may further include converting the IPCM sample at the second bit-depth into a sample at the first bit-depth, so as to increase the bit-depth of the IPCM sample.</p><p id="p0035" num="0035">Thereby, even if the bit-depth for IPCM samples is different from the bit-depth for reconstructed samples, IPCM samples can be used as reconstructed samples.</p><p id="p0036" num="0036">Still further, in the obtaining of the second parameter, the second parameter representing the second bit-depth that may be smaller than a third bit-depth is obtained, the third bit-depth being a bit-depth of an original sample in the images.</p><p id="p0037" num="0037">Thereby, it is possible to appropriately obtain IPCM samples from which redundant data is reduced. As a result, coding efficiency can be improved.</p><p id="p0038" num="0038">Still further, in the obtaining of the first parameter, the first parameter representing the first bit-depth that may be larger than a third bit-depth is obtained, the third bit-depth being a bit-depth of an original sample in the images.</p><p id="p0039" num="0039">Thereby, it is possible to increase the bit-depth of reconstructed samples. As a result, image quality can be improved.<!-- EPO <DP n="7"> --></p><p id="p0040" num="0040">Still further, the image decoding method may further include obtaining a coded sample to be decoded using the reconstructed sample at the first bit-depth from the coded stream.</p><p id="p0041" num="0041">Thereby, it is possible to decode coded samples obtained from the coded stream, by using reconstructed samples at the bit-depth for reconstructed samples.</p><p id="p0042" num="0042">In still another aspect of the present disclosure, there is provided an image coding apparatus that codes images to generate a coded stream, the image coding apparatus including: a first writing unit configured to write a first parameter into a sequence parameter set in the coded stream to be generated, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and a second writing unit configured to write a second parameter different from the first parameter into the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the images.</p><p id="p0043" num="0043">Thereby, the image coding method is implemented as the image coding apparatus.</p><p id="p0044" num="0044">In still another aspect of the present disclosure, there is provided an image decoding apparatus that decodes images in a coded stream, the image decoding apparatus including: a first obtaining unit configured to obtain a first parameter from a sequence parameter set in the coded stream, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and a second obtaining unit configured to obtain a second parameter different from the first parameter from the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the images.<!-- EPO <DP n="8"> --></p><p id="p0045" num="0045">Thereby, the image decoding method is implemented as the image decoding apparatus.</p><p id="p0046" num="0046">In still another aspect of the present disclosure, there is provided an image coding and decoding apparatus including an image coding unit configured to code images to generate a coded stream, wherein the image coding unit includes: a first writing unit configured to write a first parameter into a sequence parameter set in the coded stream to be generated, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and a second writing unit configured to write a second parameter different from the first parameter into the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the images, and the image coding and decoding apparatus further including an image decoding unit configured to decode images in a coded stream, wherein the image decoding unit includes: a first obtaining unit configured to obtain a first parameter from a sequence parameter set in the coded stream, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and a second obtaining unit configured to obtain a second parameter different from the first parameter from the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an IPCM sample in the images.</p><p id="p0047" num="0047">Thereby, the image coding apparatus and the image decoding apparatus are implemented as the image coding and decoding apparatus.</p><heading id="h0008"><b>[Advantageous Effects of Invention]</b></heading><p id="p0048" num="0048">According to the present disclosure, it is possible to set a bit-depth for IPCM samples separately and independently from a bit-depth for reconstructed samples. Therefore, redundant data of<!-- EPO <DP n="9"> --> the IPCM samples can be reduced. As a result, coding efficiency can be improved.</p><heading id="h0009"><b>[Brief Description of Drawings]</b></heading><p id="p0049" num="0049"><ul><li><figref idrefs="f0001">FIG. 1</figref> is a syntax diagram which shows the location of a field parameter in a coded stream.</li><li><figref idrefs="f0002">FIG. 2</figref> is a flowchart which shows a sequence of operations of an image decoding method H.264, Section 7.3.5.</li><li><figref idrefs="f0003">FIG. 3</figref> is a block diagram which shows a structure of an image coding apparatus according to Embodiment 1 of the present disclosure.</li><li><figref idrefs="f0004">FIG. 4</figref> is a syntax diagram which shows of 8-bit-depth conversion according to Embodiment 1.</li><li><figref idrefs="f0005">FIG. 5</figref> is a flowchart which shows a sequence of operations performed by an image coding apparatus according to Embodiment 1.</li><li><figref idrefs="f0006">FIG. 6</figref> is a syntax diagram which shows two field parameters in a coded stream according to Embodiment 1.</li><li><figref idrefs="f0007">FIG. 7</figref> is a block diagram which shows a structure of an image decoding apparatus according to Embodiment 2 of the present disclosure.</li><li><figref idrefs="f0008">FIG. 8</figref> is a flowchart which shows a sequence of operations performed by the image decoding apparatus according to Embodiment 2;</li><li><figref idrefs="f0009">FIG. 9</figref> is a flowchart which shows a coding method of coding an image bitstream according to Embodiment 3 of the present disclosure.</li><li><figref idrefs="f0009">FIG. 10A</figref> is a block diagram which shows a structure of an image coding apparatus according to Embodiment 4 of the present disclosure.</li><li><figref idrefs="f0010">FIG. 10B</figref> is a flowchart which shows operations performed by an image coding apparatus according to Embodiment 4.</li><li><figref idrefs="f0010">FIG. 11A</figref> is a block diagram which shows a structure of an image decoding apparatus according to Embodiment 4.</li><li><figref idrefs="f0011">FIG. 11B</figref> is a flowchart which shows operations performed by the image decoding apparatus according to Embodiment 4.<!-- EPO <DP n="10"> --></li><li><figref idrefs="f0012">FIG. 12</figref> is a block diagram which shows a structure of an image coding apparatus according to Embodiment 5 of the present disclosure.</li><li><figref idrefs="f0013">FIG. 13</figref> is a flowchart which shows operations performed by an image coding apparatus according to Embodiment 5.</li><li><figref idrefs="f0014">FIG. 14</figref> is a block diagram which shows a structure of an image decoding apparatus according to Embodiment 5.</li><li><figref idrefs="f0015">FIG. 15</figref> is a flowchart which shows operations performed by the image decoding apparatus according to Embodiment 5.</li><li><figref idrefs="f0016">FIG. 16</figref> shows an overall configuration of a content providing system for implementing content distribution services.</li><li><figref idrefs="f0017">FIG. 17</figref> shows an overall configuration of a digital broadcasting system.</li><li><figref idrefs="f0018">FIG. 18</figref> shows a block diagram illustrating an example of a configuration of a television.</li><li><figref idrefs="f0019">FIG. 19</figref> shows a block diagram illustrating an example of a configuration of an information reproducing/recording unit that reads and writes information from and on a recording medium that is an optical disk.</li><li><figref idrefs="f0020">FIG. 20</figref> shows an example of a configuration of a recording medium that is an optical disk.</li><li><figref idrefs="f0021">FIG. 21A</figref> shows an example of a cellular phone.</li><li><figref idrefs="f0021">FIG. 21B</figref> is a block diagram showing an example of a configuration of a cellular phone.</li><li><figref idrefs="f0022">FIG. 22</figref> illustrates a structure of multiplexed data.</li><li><figref idrefs="f0023">FIG. 23</figref> schematically shows how each stream is multiplexed in multiplexed data.</li><li><figref idrefs="f0024">FIG. 24</figref> shows how a video stream is stored in a stream of PES packets in more detail.</li><li><figref idrefs="f0025">FIG. 25</figref> shows a structure of TS packets and source packets in the multiplexed data.</li><li><figref idrefs="f0025">FIG. 26</figref> shows a data structure of a PMT.</li><li><figref idrefs="f0026">FIG. 27</figref> shows an internal structure of multiplexed data information.</li><li><figref idrefs="f0027">FIG. 28</figref> shows an internal structure of stream attribute<!-- EPO <DP n="11"> --> information.</li><li><figref idrefs="f0028">FIG. 29</figref> shows steps for identifying video data.</li><li><figref idrefs="f0029">FIG. 30</figref> shows an example of a configuration of an integrated circuit for implementing the moving picture coding method and the moving picture decoding method according to each of Embodiments.</li><li><figref idrefs="f0030">FIG. 31</figref> shows a configuration for switching between driving frequencies.</li><li><figref idrefs="f0031">FIG. 32</figref> shows steps for identifying video data and switching between driving frequencies.</li><li><figref idrefs="f0032">FIG. 33</figref> shows an example of a look-up table in which video data standards are associated with driving frequencies.</li><li><figref idrefs="f0032">FIG. 34A</figref> is a diagram showing an example of a configuration for sharing a module of a signal processing unit.</li><li><figref idrefs="f0032">FIG. 34B</figref> is a diagram showing another example of a configuration for sharing a module of the signal processing unit.</li></ul></p><heading id="h0010"><b>[Detailed Description]</b></heading><p id="p0050" num="0050">The following describes embodiments according to the present disclosure in detail with reference to the drawings. It should be noted that all the embodiments described below are specific examples of the present disclosure. Numerical values, shapes, materials, constituent elements, arrangement positions and the connection configuration of the constituent elements, steps, the order of the steps, and the like described in the following embodiments are merely examples, and are not intended to limit the present disclosure. The present disclosure is characterized by the appended claims. Therefore, among the constituent elements in the following embodiments, constituent elements that are not described in independent claims that show the most generic concept of the present disclosure are described as elements constituting more desirable configurations, although such constituent elements are not necessarily required to achieve the object of the present disclosure.</p><heading id="h0011">(Introduction)</heading><!-- EPO <DP n="12"> --><p id="p0051" num="0051">High Efficiency Video Coding (HEVC) can support bit-depth increase in image decoding. This means that even if the source image is an 8-bit bit-depth image source, a HEVC decoder can support the decoding of the coded image as a 10 bits bit-depth image to improve the coding efficiency. To reduce the memory bandwidth requirement for inter prediction, when decoding a 10 bits bit-depth image, a light compression scheme can be used to compress a block of 10 bits bit-depth image samples for faster memory access.</p><p id="p0052" num="0052">Currently, there are ways to signal the bit-depths of a reconstructed image to the decoder through the coded image bit stream. In H.264, the syntax elements (bit_depth_luma_minus8 and bit_depth_chroma_minus8) in the sequence parameter set specify the bit-depths of reconstructed luma and chroma data respectively for a plurality of profiles such as High profile, High 10 profile and High 4:2:2 profile. For yet other plurality of profiles in H.264, the syntax elements (bit_depth_luma_minus8 and bit_depth_chroma_minus8) are not present in the coded image bit stream, and the bit-depths of reconstructed image data is inferred to be equal to 8.</p><p id="p0053" num="0053">However, one problem is that the signaled bit-depth can be greater than the original image bit-depth before coding process, by increase of the bit-depth. For an IPCM block, coding the raw luma and chroma samples at a bit-depth larger than the original image samples is inefficient and reduces coding efficiency.</p><p id="p0054" num="0054">If the bit-depth of the reconstructed images is greater than the bit-depth of the original images, a light compression scheme may be used to reduce memory bandwidth. However, an IPCM block containing the original image samples cannot be stored directly into the memory at a lower bit-depth as there is a problem differentiating an IPCM reconstructed block and a lightly compressed block in memory. This typically results in error in the inter prediction if a wrong decompression scheme is used for the IPCM constructed image block.<!-- EPO <DP n="13"> --></p><p id="p0055" num="0055"><figref idrefs="f0001">FIG. 1</figref> is a syntax diagram which shows the location of a field parameter in a coded stream. As shown in <figref idrefs="f0001">FIG. 1</figref>, if a field 1 of a parameter indicating "reconstructed samples bit-depth" is present, it is stored in a header of sequence of a bitstream. A bitstream comprises a series of pictures, such as a picture P1 ..., a picture Pi ..., wherein each picture comprises a series of slices. Here, the picture P1 comprises a slice S1 and a slice S2, wherein a macroblock MBi of the slice S1 is an IPCM block.</p><p id="p0056" num="0056">In <figref idrefs="f0001">FIG. 1</figref>, header information is stored in the header of sequence of the bitstream, wherein the header information comprises the field F1 of a parameter indicating reconstructed samples bit-depth. In the scenario of <figref idrefs="f0001">FIG. 1</figref>, whether or not the macroblock MBi is an IPCM block, the field F1 of the fixed length parameter indicating a bit-depth is used for reconstruction purpose (in decoder or encoder).</p><p id="p0057" num="0057"><figref idrefs="f0002">FIG. 2</figref> is a flowchart which shows a sequence of operations of an image decoding method H.264, Section 7.3.5.</p><p id="p0058" num="0058">A control unit determines whether or not a macroblock type (mb_type) is I_PCM (IPCM block) (Step S202). Here, in the case where the control unit determines that the macroblock type is not I_PCM (No in Step S202), the macroblock is processed using other methods for other mb_type values (Step S206).</p><p id="p0059" num="0059">On the other hand, in the case where the control unit determines the mb_type is I_PCM (Yes in Step S202), a byte alignment operation (byte_alignment) is executed on the IPCM macroblock (Step S204). Next, the luma sample values (sample_luma) (for example, 8 bits) of total number of samples [0... Num_of_samples] are read (Step S208).. In H. 264, ONLY one parsing method is available for I_PCM block of size 16x16 (macroblock size).</p><p id="p0060" num="0060"><!-- EPO <DP n="14"> --> Thus, there exists a need for a method and apparatus for coding and decoding images using appropriate bit-depth information. The embodiments described below offer techniques by which coding efficiency can be improved by using an adaptive bit-depth.</p><p id="p0061" num="0061">It should be noted that an IPCM block is a block including IPCM samples. It should also be noted that a IPCM block is treated as one kind of a prediction unit in HEVC. Therefore, an IPCM block is sometimes called an IPCM prediction unit block or an IPCM PU block.</p><heading id="h0012">(Embodiment 1)</heading><p id="p0062" num="0062"><figref idrefs="f0003">FIG. 3</figref> is a block diagram which shows a structure of an image coding apparatus according to Embodiment 1 of the present disclosure. The image coding apparatus 300 shown in <figref idrefs="f0003">FIG. 3</figref> is an apparatus for coding an input image bit stream on a block-by-block basis so as to generate a coded output bitstream.</p><p id="p0063" num="0063">As shown in <figref idrefs="f0003">FIG. 3</figref>, the image coding apparatus 300 includes two N-bit-depth conversion units 302A and 302B, a subtractor 304A, an adder 304B, a transformation unit 306, a quantization unit 308, an inverse quantization unit 310, an inverse transformation unit 312, an inter/intra prediction unit 314, two multiplexers (MUX units) 316A and 316B, a memory 318, a filter unit 319, an entropy coding unit 320, a control unit 322, and an optional processing unit 324.</p><p id="p0064" num="0064">Input images are inputted to the N-bit-depth conversion unit 302A and the optional processing unit 324. After the input image bit stream is inputted to the N-bit-depth conversion unit 302A, the N-bit-depth conversion unit 302A invokes an N-bit-depth conversion on the input images in accordance with a notification determined by the control unit 322, and outputs the resulting N-bit-depth converted values to the subtractor 304A.</p><p id="p0065" num="0065">A subtractor 304A subtracts, from the N-bit-depth values outputted from the N-bit-depth conversion unit 302A, the predicted<!-- EPO <DP n="15"> --> image values outputted from the inter/intra prediction unit 314, and outputs the resulting values to the transformation unit 306. The transformation unit 306 transforms the resulting values into frequency coefficients, and outputs the resulting frequency coefficients to the quantization unit 308. The quantization unit 308 quantizes the inputted frequency coefficients, and outputs the resulting quantized values to the inverse quantization unit 310 and the entropy coding unit 320.</p><p id="p0066" num="0066">The entropy coding unit 320 encodes the quantized values outputted from the quantization unit 308 in accordance with the notification determined by the control unit 322, and outputs the resulting values to the multiplexer 316B. Here, the entropy coding unit 320 may perform variable length coding on parameters and the like.</p><p id="p0067" num="0067">The inverse quantization unit 310 inversely quantizes the quantized valued outputted from the quantization unit 308, and outputs the resulting inversely-quantized values to the inverse transformation unit 312. The inverse transformation unit 312 performs inverse frequency transform on the frequency coefficients so as to transform the frequency coefficients into sample values of the bit stream, and outputs the resulting sample values to the adder 3048. The adder 304B adds the sample values outputted from the inverse transformation unit 312 to the predicted image values outputted from the inter/intra prediction unit 314, and outputs the resulting added values to the multiplexer 316A through the filter unit 319.</p><p id="p0068" num="0068">The filter unit 319 performs filtering, such as deblocking filtering for removing block distortion, on the resulting added values, as necessary.</p><p id="p0069" num="0069">The multiplexer 316A selects values from either the values outputted from the filter unit 319 or the values outputted from the N-bit-depth conversion unit 302B in accordance with the notification<!-- EPO <DP n="16"> --> determined by the control unit 322, and outputs the resulting values to the memory 318 for further prediction. The inter/intra prediction unit 314 searches within reconstructed images stored in the memory 318, and estimates an image area which is e.g. most similar to the input image for prediction.</p><p id="p0070" num="0070">Furthermore, the input images are inputted to the optional processing unit 324. The optional processing unit 324 manipulates image bit streams such as sharpening, smoothing as well as deblocking bit streams, selects raw fixed-length image samples (in a bit-depth of IPCM samples), and outputs the resulting selected value to the N-bit-depth conversion unit 302B. The N-bit-depth conversion unit 302B invokes an N-bit-depth conversion on the raw image samples and outputs the resulting values to the multiplexer 316A in accordance with the notification determined by the control unit 322. The optional processing unit 324 also outputs the resulting value to the multiplexer 316B.</p><p id="p0071" num="0071">It should be noted that the optional processing unit 324, as described above, selects the raw fixed-length image samples at a bit-depth of IPCM samples. More specifically, the optional processing unit 324 adjusts the bit-depth of the input images to the bit-depth for IPCM. For example, the optional processing unit 324 decreases the bit-depth of the input images to the bit-depth for IPCM.</p><p id="p0072" num="0072">The multiplexer 316B can select values from the values outputted from the entropy coding unit 320, or the values outputted from the optional processing unit 324, and output resulting values in accordance with the notification determined by the control unit 322. The output bitstream of the multiplexer 316B is the coded bitstream and is shown later in the syntax diagram in <figref idrefs="f0006">FIG. 6</figref>.</p><p id="p0073" num="0073">The control unit 322 determines a notification for notifying the N-bit-depth conversion units 302A and 302B whether or not to invoke N-bit-depth conversion on the input images. The control unit 322<!-- EPO <DP n="17"> --> also determines a notification for notifying the multiplexer 316A to select values either outputted from the filter unit 319 or outputted from the N-bit-depth conversion unit 3208. Likewise, the control unit 322 also determines a notification for notifying the multiplexer 316B to select values either outputted from the optional processing unit 324 or outputted from the entropy coding unit 320.</p><p id="p0074" num="0074">For example, the control unit 322 can use a predetermined scheme, i.e. comparing the number of coded bits produced by the entropy coding unit 320 with the number of bits of raw fixed-length samples from the optional processing unit 324. If coded bits are fewer than bits of raw fixed-length samples, the control unit 322 notifies the multiplexer 316B to select values outputted from the entropy coding unit 320; otherwise, the control unit 322 notifies the multiplexer 316B to select values outputted from the optional processing unit 324.</p><p id="p0075" num="0075">The control unit 322 further outputs two parameters (1) a bit-depth of IPCM samples and (2) a bit-depth of reconstructed samples to the entropy coding unit 320 which writes the two parameters into the output bitstream.</p><p id="p0076" num="0076">As described above, the N-bit-depth conversion is converting original M-bit data to N-bit data by e.g. inserting padding into the original M-bit data and extending M-bit data to N-bit data or compressing the original M-bit data into N-bit data.</p><p id="p0077" num="0077">If M=N, then each of the N-bit-depth conversion units 302A and 3028 directly outputs M-bit data as the N-bit-depth conversion resulting values. In case that the bits of the input data M &gt; N, then each of the N-bit-depth conversion units 302A and 302B may compress M-bit data into N-bit data and outputs compressed N-bit data. Otherwise, if the bits of the input data M &lt; N, then each of the N-bit-depth conversion units 302A and 302B may insert padding, for example, [0, 0...0] or [1, 0...0] (in total (M - N) bits) in the beginning<!-- EPO <DP n="18"> --> of the original M-bit data or at the end of the original M-bit data or between the original M-bit data, and outputs the padded N-bit data.</p><p id="p0078" num="0078"><figref idrefs="f0004">FIG. 4</figref> is a syntax diagram which shows of 8-bit-depth conversion according to Embodiment 1.</p><p id="p0079" num="0079">In <figref idrefs="f0004">FIG. 4 (a)</figref>, both a bit-depth for luma component of the reconstructed images (402) and a bit-depth for chroma component of the reconstructed images (404) are 8 bits. On the other hand, both a bit-depth for luma component of original IPCM blocks (406) and a bit-depth for chroma component of original IPCM blocks (408) are 8 bits. Thus, the bit-depths of the reconstructed images (8 bits) for both luma component and chroma component are equal to the bit-depths of original IPCM blocks (8 bits) for both luma component and chroma component. As a result, neither bit-increase nor bit-decrease is needed for 8-bit-depth conversion.</p><p id="p0080" num="0080">In <figref idrefs="f0004">FIG. 4 (b)</figref>, both a bit-depth for luma component of the reconstructed images (410) and a bit-depth for chroma component of the reconstructed images (412) are 8 bits. On the other hand, both a bit-depth for luma component of original IPCM blocks (414) and a bit-depth for chroma component of original IPCM blocks (416) are 10 bits. Thus, the bit-depths of the reconstructed image (8 bits) for both luma component and chroma component are smaller than the bit-depths of original IPCM blocks (10 bits) for both luma component and chroma component. The IPCM blocks undergo a decrease in bit-depth to the level equal to the bit-depth of the reconstructed images by means of, for example, compressing 10-bit data into 8-bit data.</p><p id="p0081" num="0081">In <figref idrefs="f0004">FIG. 4 (c)</figref>, both a bit-depth for luma component of the reconstructed images (418) and a bit-depth for chroma component of the reconstructed images (420) are 10 bits. On the other hand, both a bit-depth for luma component of original IPCM blocks (422) and a bit-depth for chroma component of original IPCM blocks (424) are 8<!-- EPO <DP n="19"> --> bits. Thus, the bit-depths of the reconstructed image (10 bits) for both luma component and chroma component are greater than the bit-depths of original IPCM blocks (8 bits) for both luma component and chroma component. The IPCM blocks undergo an increase in bit-depth to the level equal to the bit-depth of the reconstructed images by means of, for example, inserting 2-bit padding into the IPCM blocks.</p><p id="p0082" num="0082">Next, a description is given as to the operations of the image coding apparatus 300 as mentioned above.</p><p id="p0083" num="0083"><figref idrefs="f0005">FIG. 5</figref> is a flowchart which shows a sequence of operations performed by the image coding apparatus 300 according to Embodiment 1.</p><p id="p0084" num="0084">At Step S502, a signal (parameter) sigRec indicating a bit-depth of reconstructed samples and a signal (parameter) SigPcm indicating a bit-depth of IPCM samples are written into the header of image (video) stream. At Step S504, IPCM PU block is written using the bit-depth indicated in the signal sigPcm, e.g. 10 bits. Then, the IPCM PU block is reconstructed by converting the bit-depth indicated in the signal sigPcm to the bit-depth indicated in the signal sigRec, e.g. from 10 bits to 8 bits (Step S506).</p><p id="p0085" num="0085"><figref idrefs="f0006">FIG. 6</figref> is a syntax diagram which shows two field parameters in a coded stream according to Embodiment 1.</p><p id="p0086" num="0086">As shown in <figref idrefs="f0006">FIG. 6</figref>, if a filed 1 for a parameter indicating "bit-depth of reconstructed samples" (e.g. denoted as bit_depth_luma_minus8 and bit_depth_chroma_minus8 shown in <figref idrefs="f0004">FIG. 4</figref>) and a filed F2 for a parameter indicating "bit-depth of IPCM samples" (e.g. denoted as pcm_bit_depth_luma_minus1 and pcm_bit_depth_chroma_minus1 shown in <figref idrefs="f0004">FIG. 4</figref>), are present, they are stored in a header of sequence of a series of pictures. In <figref idrefs="f0006">FIG. 6</figref>, a coded bitstream comprises a series of pictures, such as a picture P1<!-- EPO <DP n="20"> --> ..., a picture Pi ..., wherein each picture comprises a series of slices. Here, the picture P1 comprises a slice S1 and a slice S2, wherein a block Bi of the slice S1 is an IPCM block.</p><p id="p0087" num="0087">In <figref idrefs="f0006">FIG. 6</figref>, header information includes parameters such as a sequence header (sequence parameter set), a picture header (picture parameter set), a slice header, SEI (supplemental enhancement information), NAL (network abstraction layer) etc.</p><p id="p0088" num="0088">The header information is stored in the header of image stream, wherein the sequence header comprises the field F1 for the parameter indicating 8-bit "bit-depth of reconstructed samples" (SigRec) and the field F2 for the parameter indicating 10-bit "bit-depth of IPCM samples" (SigPcm). In <figref idrefs="f0006">FIG. 6</figref>, the block Bi is an IPCM block, so bit-depth parameter in the field F2 (sigPcm) is used for block Bi reconstruction rather than the bit-depth parameter in the field F1 (sigRec).</p><p id="p0089" num="0089">The effect of the present embodiment is coding efficiency improvement of IPCM data in a coded image bitstream. Using the present embodiment, IPCM data is coded at its uncompressed bit-depths, which may differ from the bit-depths of the reconstructed image samples. When the bit-depth of uncompressed samples is smaller than that of the reconstructed samples, the present embodiment removes the redundancy in coding the excess bits. On the other hand, when the bit-depth of the uncompressed samples is larger than that of the reconstructed samples, the present embodiment provides a structure for faithfully keeping the uncompressed bit-depth in IPCM data without losing bit precision.</p><heading id="h0013">(Embodiment 2)</heading><p id="p0090" num="0090"><figref idrefs="f0007">FIG. 7</figref> is a block diagram which shows a structure of an image decoding apparatus according to Embodiment 2 of the present disclosure. The image decoding apparatus 700 shown in <figref idrefs="f0007">FIG. 7</figref> is an apparatus for decoding an input coded bitstream on a block-by-block<!-- EPO <DP n="21"> --> basis and outputting images.</p><p id="p0091" num="0091">The image decoding apparatus 700 includes as shown in <figref idrefs="f0007">FIG. 7</figref>, a demultiplexer (DEMUX unit) 702A, a multiplexer (MUX unit) 702B, an entropy decoding unit 704, an adder 706, an inverse quantization unit 708, an inverse transformation unit 710, a memory 712, an intra/inter prediction unit 714, a control unit 716, a IPCM block parsing unit 718, a filter unit 719, and an N-bit-depth conversion unit 720.</p><p id="p0092" num="0092">An input coded bitstream is inputted to the demultiplexer 702A, and the demultiplexer 702A outputs the resulting values whether to the entropy decoding unit 704 or the IPCM block parsing unit 718 in accordance with a notification determined by the control unit 716.</p><p id="p0093" num="0093">After the input coded bitstream is inputted to the entropy decoding unit 704, the entropy decoding unit 704 decodes the values outputted from demultiplexer 702A, and outputs the decoded values to the inverse quantization unit 708 and the control unit 716. Here, the entropy decoding unit 704 may perform variable length decoding on parameters and the like.</p><p id="p0094" num="0094">The inverse quantization unit 708 inversely quantizes the input values and outputs the resulting inversely-quantized values to the inverse transformation unit 710. The inverse transformation unit 710 performs inverse frequency transform on frequency coefficients to transform the frequency coefficients into sample values, and outputs the resulting pixel values to the adder 706. The adder 706 adds the sample values outputted from the inverse transformation unit 710 to the predicted image values outputted from the inter/intra prediction unit 714, and outputs the resulting values to the multiplexer 702B through the filter unit 719.</p><p id="p0095" num="0095">The filter unit 719 performs filtering such as deblocking filtering for removing block distortion, as necessary.</p><p id="p0096" num="0096"><!-- EPO <DP n="22"> --> The multiplexer 702B selects values from either the values outputted from the filter unit 719 or the values outputted from N-bit-depth conversion unit 720 in accordance with the notification determined by the control unit 716, and outputs the resulting values to the memory 712 for further prediction. The decoded images are outputted to display from the memory 712. In addition, the inter/intra prediction unit 714 searches within images stored in the memory 712, and estimates an image area which is e.g. most similar to the decoded images for prediction.</p><p id="p0097" num="0097">Returning to the IPCM block parsing unit 718 and the N-bit-depth conversion unit 720, the parsing and converting processes rely on two parameters "bit-depth of IPCM samples (sigPcm)" and "bit-depth of reconstructed samples (sigRec)". The two parameters "bit-depth of IPCM samples (sigPcm)" and "bit-depth of reconstructed samples (sigRec)" are obtained from the entropy decoding unit 704 from the header of the input bitstream.</p><p id="p0098" num="0098">The input coded bitstream and the signal sigPcm (e.g. indicating 10 bits) outputted from the control unit 716 are inputted to the IPCM block parsing unit 718, and the IPCM block parsing unit 718 outputs the resulting parsed values to the N-bit-depth conversion unit 720. The N-bit-depth conversion unit 720 invokes an N-bit-depth conversion using the signal sigRec obtained from the control unit 716 and using the parsed value outputted from the IPCM block parsing unit 718, and outputs the resulting converted value to the multiplexer 702B.</p><p id="p0099" num="0099">The multiplexer 702B can select values from either the value outputted form the filter unit 719 or the values outputted from the N-bit-depth conversion unit 720 in accordance with the notification determined by the control unit 716.</p><p id="p0100" num="0100">The control unit 716 determines a notification for notifying the demultiplexer 702A to output whether to the entropy decoding unit<!-- EPO <DP n="23"> --> 704 or to the IPCM block parsing unit 718. The control unit 716 also determines a notification for notifying the multiplexer 702B to select values from either the value outputted from the filter unit 719 or the values outputted from the N-bit-depth conversion unit 720. In addition, the control unit 716 further provides with two signal sigPcm (e.g. 10 bits) and the signal sigRec (N bits) as input values to IPCM block parsing unit 718 and to the N-bit-depth conversion unit 720, respectively.</p><p id="p0101" num="0101">Next, a description is given as to the operations of the image decoding apparatus 700 as mentioned above.</p><p id="p0102" num="0102"><figref idrefs="f0008">FIG. 8</figref> is a flowchart which shows a sequence of operations performed by the image decoding apparatus 700 according to Embodiment 2.</p><p id="p0103" num="0103">At Step S802, a determination is made whether or not the PU_type (prediction unit type) is I_PCM. When the PU_type is not I_PCM, as a result of this determination (No in Step S802), the other methods for other PU_type values are used to decode the block (Step S804).</p><p id="p0104" num="0104">On the other hand, when the PU_type is I_PCM, as a result of this determination (Yes in Step S802), the control unit 716 obtains the signal sigRec and the signal sigPcm from the header of image stream (Step S806). Next, the I_PCM PU block are read using bit-depth of raw fixed-length samples indicated in the sigPcm, e.g. 10 bits (Step S808). Then, it is determined whether or not the bit-depth indicated in the signal sigRec and the bit-depth indicated in the signal sigPcm are different (Step S810). When the bit-depth indicated in the signal sigRec is different from the bit-depth indicated in the signal sigPcm (Yes in Step S810), an N-bit-depth conversion is invoked using the signal sigRec, e.g. from 10 bits to 8 bits (Step S812).</p><p id="p0105" num="0105">As described above, a parameter "bit-depth of IPCM samples" in<!-- EPO <DP n="24"> --> a header of an image sequence can be used to identify the bit-depth of IPCM blocks so that a decoder knows how many bits per sample is required for the parsing of an IPCM block.</p><p id="p0106" num="0106">In the case that the bit-depth of the reconstructed images is greater (smaller) than the bit-depth of IPCM blocks and a light memory compression is used to compress the reconstructed images, the IPCM blocks would undergo an increase (decrease) in bit-depth to the level equal to the bit-depth of the reconstructed image and the same light compression scheme would be applied to the IPCM block as well to maintain consistency in the decompression process for inter prediction. When a light memory compression is used, IPCM samples are treated equally as non-IPCM samples due to the bit-depth conversion process.</p><p id="p0107" num="0107">The effect of the present embodiment is to enable the decoding of a coded video data which is coded in the form of coding efficiency improvement of IPCM data. When the bit-depth of uncompressed samples is smaller than that of the reconstructed samples, the present embodiment removes the redundancy in coding the excess bits. On the other hand, when the bit-depth of the uncompressed samples is larger than that of the reconstructed samples, the present embodiment provides a means for faithfully keeping the uncompressed bit-depth in IPCM data without losing bit precision.</p><p id="p0108" num="0108">Even if bit-depths of IPCM data and non-IPCM data are different, decoding can be appropriately by using the parameter in the coded video data which indicates a bit-depth of IPCM data.</p><heading id="h0014">(Embodiment 3)</heading><p id="p0109" num="0109">In Embodiment 3, a description is given for characteristic operations performed by the image coding apparatus 300 described in Embodiment 1.</p><p id="p0110" num="0110"><figref idrefs="f0009">FIG. 9</figref> is a flowchart which shows a coding method of coding an<!-- EPO <DP n="25"> --> image bitstream according to Embodiment 3 of the present disclosure. At step S902, a first parameter representing a bit-depth of raw fixed-length samples signaled within the image bit stream is written into a header of the image (video) bit stream. At step S904, a second parameter representing a bit-depth of reconstructed samples from the image bit stream is written into the header of the image bit stream. At step S906, a subgroup of raw fixed-length samples is written at bits per sample into the image bit stream based on the first parameter. At Step S908, the subgroup of raw fixed-length samples is reconstructed, wherein the reconstructing includes converting the bit-depth of the subgroup of raw fixed-length samples from the first parameter to the second parameter.</p><heading id="h0015">(Embodiment 4)</heading><p id="p0111" num="0111">The image coding apparatus according to Embodiment 4 includes the characteristic constituent elements in the image coding apparatus 300 described in Embodiment 1. Furthermore, the image decoding apparatus according to Embodiment 4 includes the characteristic constituent elements in the image decoding apparatus 700 described in Embodiment 2.</p><p id="p0112" num="0112"><figref idrefs="f0009">FIG. 10A</figref> is a block diagram which shows a structure of the image coding apparatus according to Embodiment 4 of the present disclosure. The image coding apparatus 1000 shown in <figref idrefs="f0009">FIG. 10A</figref> codes images to generate a coded stream. Then, the image coding apparatus 1000 includes a first writing unit 1001 and a second writing unit 1002. The first writing unit 1001 and the second writing unit 1002 mainly corresponds to the entropy coding unit 320 according to Embodiment 1.</p><p id="p0113" num="0113"><figref idrefs="f0010">FIG. 10B</figref> is a flowchart which shows operations performed by the image coding apparatus 1000 shown in <figref idrefs="f0009">FIG. 10A</figref>.</p><p id="p0114" num="0114">As shown in <figref idrefs="f0010">FIG. 10B</figref>, the first writing unit 1001 writes the first<!-- EPO <DP n="26"> --> parameter representing the first bit-depth that is a bit-depth of reconstructed samples of image, into a sequence parameter set in a coded stream to be generated (S1001). The second writing unit 1002 writes the second parameter, which represents the second bit-depth that is a bit-depth of IPCM samples in image and is different from the first parameter, into the sequence parameter set (S1002).</p><p id="p0115" num="0115">Thereby, it is possible to set a bit-depth of IPCM samples separately and independently from a bit-depth of reconstructed samples. Therefore, redundant data of IPCM samples can be reduced. As a result, coding efficiency can be improved.</p><p id="p0116" num="0116"><figref idrefs="f0010">FIG. 11A</figref> is a block diagram which shows a structure of the image decoding apparatus according to Embodiment 4. The image decoding apparatus 1100 shown in <figref idrefs="f0010">FIG. 11A</figref> decodes the images included in the coded stream. Then, the image decoding apparatus 1100 includes a first obtaining unit 1101 and a second obtaining unit 1102. The first obtaining unit 1101 and the second obtaining unit 1102 mainly correspond to the entropy decoding unit 704 according to Embodiment 2.</p><p id="p0117" num="0117"><figref idrefs="f0011">FIG. 11B</figref> is a flowchart which shows operations performed by the image decoding apparatus 1100 shown in <figref idrefs="f0010">FIG. 11A</figref>.</p><p id="p0118" num="0118">As shown in <figref idrefs="f0011">FIG. 11B</figref>, the first obtaining unit 1101 obtains the first parameter representing the first bit-depth that is a bit-depth of reconstructed samples of image, from the sequence parameter set in the coded stream (S1101). The second obtaining unit 1102 obtains the second parameter, which represents the second bit-depth that is a bit-depth of IPCM samples in image and is different from the first parameter, from the sequence parameter set (S1002).</p><p id="p0119" num="0119">Therefore, it is possible to obtain the bit-depth of IPCM samples separately and independently from the bit-depth of reconstructed samples. Therefore, redundant data of IPCM samples can be reduced.<!-- EPO <DP n="27"> --> As a result, coding efficiency can be improved.</p><heading id="h0016">(Embodiment 5)</heading><p id="p0120" num="0120">The image coding apparatus according to Embodiment 5 of the present disclosure includes characteristic constituent elements in the image coding apparatus 300 described in Embodiment 1. Furthermore, the image decoding apparatus according to Embodiment 5 includes the characteristic constituent elements in the image decoding apparatus 700 described in Embodiment 2. It should be noted that, in Embodiment 5, arbitrarily-addable constituent elements are described in addition to the constituent elements described in Embodiment 4.</p><p id="p0121" num="0121"><figref idrefs="f0012">FIG. 12</figref> is a block diagram which shows a structure of the image coding apparatus according to the present embodiment. The image coding apparatus 1200 shown in <figref idrefs="f0012">FIG. 12</figref> includes a first writing unit 1201, a second writing unit 1202, a third writing unit 1203, a fourth writing unit 1204, a reconstruction unit 1205, a conversion unit 1206, a bit-depth decrease unit 1207, and a bit-depth increase unit 1208.</p><p id="p0122" num="0122">The first writing unit 1201 and the second writing unit 1202 are the same constituent elements as the first writing unit 1001 and the second writing unit 1002 in the image coding apparatus 1000, respectively. The other constituent elements are additional constituent elements, a part or all of which is arbitrarily added.</p><p id="p0123" num="0123">The third writing unit 1203 mainly corresponds to the multiplexer 316B according to Embodiment 1. The fourth writing unit 1204 mainly corresponds to the entropy coding unit 320 according to Embodiment 1. The conversion unit 1206 mainly corresponds to the N-bit-depth conversion unit 302 B according to Embodiment 1. The bit-depth decrease unit 1207 mainly corresponds to the optional processing unit 324 according to Embodiment 1. The bit-depth increase unit 1208 mainly corresponds to the N-bit-depth conversion unit 302A according to Embodiment 1.<!-- EPO <DP n="28"> --></p><p id="p0124" num="0124">The reconstruction unit 1205 mainly corresponds to the adder 304B according to Embodiment 1. The reconstruction unit 1205 may include the inverse quantization unit 310, the inverse transformation unit 312, the filter unit 319, and the inter/intra prediction unit 314 according to Embodiment 1.</p><p id="p0125" num="0125"><figref idrefs="f0013">FIG. 13B</figref> is a flowchart which shows operations performed by the image coding apparatus 1200 shown in <figref idrefs="f0012">FIG. 12</figref>. As shown in <figref idrefs="f0013">FIG. 13</figref>, the first writing unit 1201 writes the first parameter representing the first bit-depth that is a bit-depth of reconstructed samples of image, to a sequence parameter set in a coded stream to be generated (S1301).</p><p id="p0126" num="0126">The second writing unit 1201 writes the second parameter, which represents the second bit-depth that is a bit-depth of IPCM samples in image and is different from the first parameter, into the sequence parameter set (S1302). Here, typically, the second writing unit 1202 writes the second parameter representing the second bit-depth that is equal to or smaller than the first bit-depth.</p><p id="p0127" num="0127">The first writing unit 1201 may write the first parameter representing the first bit-depth that is larger than the third bit-depth that is a bit-depth of original samples of image. In this case, the bit-depth increase unit 1208 converts the original samples at the third bit-depth into samples at the first bit-depth, so as to increase the bit-depth of reconstructed samples corresponding to the original samples (S1303).</p><p id="p0128" num="0128">The second writing unit 1202 may write the second parameter representing the second bit-depth that is smaller than the third bit-depth that is a bit-depth of original samples of image. In this case, the bit-depth decrease unit 1207 converts the original samples at the third bit-depth into samples at the second bit-depth, so as to decrease the bit-depth of IPCM samples corresponding to the original samples<!-- EPO <DP n="29"> --> (S1304).</p><p id="p0129" num="0129">The reconstruction unit 1205 reconstructs samples at the first bit-depth from the coded samples of image, so as to generate reconstructed samples (S1305). Here, the coded samples are generated by performing at least a part of coding processing for the original samples of image. The conversion unit 1206 converts the IPCM samples at the second bit-depth into reconstructed samples at the first bit-depth (S1306).</p><p id="p0130" num="0130">The third writing unit 1203 writes the IPCM samples at the second bit-depth into the coded stream (S1307). The fourth writing unit 1204 writes coded samples, which are coded using the reconstructed samples at the first bit-depth, into the coded stream (S1308).</p><p id="p0131" num="0131">Therefore, the image coding apparatus 1200 can appropriately perform image processing by using the bit-depth of reconstructed samples and the bit-depth of IPCM samples. For example, a large bit-depth is used for reconstructed samples, and a small bit-depth is used for IPCM samples. Therefore, both image quality improvement and coding efficiency improvement can be achieved.</p><p id="p0132" num="0132">It should be noted that an order of steps is not limited to the order shown in <figref idrefs="f0013">FIG. 13</figref>, but may be changed. It should also be noted that it is possible to eliminate a part or all of steps, in particular, steps surrounded by a broken line. It should also be noted that the image coding apparatus 1200 may further include a coding processing unit that codes original samples using reconstructed samples. The coding processing unit mainly corresponds to the inter/intra prediction unit 314, the subtractor 304A, the entropy coding unit 320, the quantization unit 308, the conversion unit 306, and the like according to Embodiment 1.</p><p id="p0133" num="0133"><figref idrefs="f0014">FIG. 14A</figref> is a block diagram which shows a structure of the<!-- EPO <DP n="30"> --> image decoding apparatus according to the present embodiment. The image decoding apparatus 1400 shown in <figref idrefs="f0014">FIG. 14</figref> includes a first obtaining unit 1401, a second obtaining unit 1402, a third obtaining unit 1403, a fourth obtaining unit 1404, a reconstruction unit 1405, a conversion unit 1406, and a bit-depth increase unit 1407.</p><p id="p0134" num="0134">The first obtaining unit 1401 and the second obtaining unit 1402 are the same constituent elements as the first obtaining unit 1101 and the second obtaining unit 1102 in the image decoding apparatus 1100, respectively. The other constituent elements are additional constituent elements, a part or all of which is arbitrarily added.</p><p id="p0135" num="0135">The third obtaining unit 1403 mainly corresponds to the IPCM block parsing unit 718 according to Embodiment 2. The fourth obtaining unit 1404 mainly corresponds to the entropy decoding unit 704 according to Embodiment 2. The conversion unit 1406 mainly corresponds to the N-bit-depth conversion unit 720 according to Embodiment 2. The bit-depth increase unit 1407 mainly corresponds to the N-bit-depth conversion unit 720 according to Embodiment 2.</p><p id="p0136" num="0136">The reconstruction unit 1405 mainly corresponds to the adder 706 according to Embodiment 2. The reconstruction unit 1405 may include the inverse quantization unit 708, the inverse transformation unit 710, the filter unit 719, and the inter/intra prediction unit 714 according to Embodiment 2.</p><p id="p0137" num="0137"><figref idrefs="f0015">FIG. 15</figref> is a flowchart which shows operations performed by the image decoding apparatus 1400 shown in <figref idrefs="f0014">FIG. 14</figref>. As shown in <figref idrefs="f0015">FIG. 15</figref>, the first obtaining unit 1401 obtains the first parameter representing the first bit-depth that is a bit-depth of reconstructed samples of image, from the sequence parameter set in the coded stream (S1501).</p><p id="p0138" num="0138">The second obtaining unit 1402 obtains the second parameter, which represents the second bit-depth that is a bit-depth of IPCM<!-- EPO <DP n="31"> --> samples in image and is different from the first parameter, from the sequence parameter set (S1502). Here, typically, the second obtaining unit 1402 obtains the second parameter representing the second bit-depth that is equal to or smaller than the first bit-depth.</p><p id="p0139" num="0139">The second obtaining unit 1402 may obtain the second parameter representing the second bit-depth that is smaller than the first bit-depth. For example, the second obtaining unit 1402 obtains the second parameter representing the second bit-depth that is smaller than the third bit-depth that is a bit-depth of original samples of image. For example, the first obtaining unit 1401 obtains the first parameter representing the first bit-depth that is larger than the third bit-depth that is a bit-depth of original samples of image.</p><p id="p0140" num="0140">The fourth obtaining unit 1404 obtains coded samples to be decoded using the reconstructed samples at the first bit-depth, from the coded stream (S1503). The third obtaining unit 1403 obtains the IPCM samples at the second bit-depth from the coded stream (S1504). The reconstruction unit 1405 reconstructs samples at the first bit-depth from the coded samples of image, so as to generate reconstructed samples (S1505).</p><p id="p0141" num="0141">When the second obtaining unit 1402 obtains the second parameter representing the second bit-depth that is smaller than the first bit-depth, the bit-depth increase unit 1407 converts IPCM samples at the second bit-depth into samples at the first bit-depth, so as to increase the bit-depth of IPCM samples (S1506) The transformation unit 1406 converts the IPCM samples at the second bit-depth into reconstructed samples at the first bit-depth (S1507).</p><p id="p0142" num="0142">Therefore, the image decoding apparatus 1400 can appropriately perform image processing by using the bit-depth of reconstructed samples and the bit-depth of IPCM samples. For example, a large bit-depth is used for reconstructed samples, and a small bit-depth is used for IPCM samples. Therefore, both image<!-- EPO <DP n="32"> --> quality improvement and coding efficiency improvement can be achieved.</p><p id="p0143" num="0143">It should be noted that an order of steps is not limited to the order shown in <figref idrefs="f0015">FIG. 15</figref>, but may be changed. It should also be noted that it is possible to eliminate a part or all of steps, in particular, steps surrounded by a broken line. It should also be noted that the image decoding apparatus 1400 may further include a decoding processing unit that decodes coded samples by using reconstructed samples. The decoding processing unit mainly corresponds to the inter/intra prediction unit 714, the adder 706, the entropy decoding unit 704, the inverse quantization unit 708, the inverse transformation unit 710, and the like according to Embodiment 2.</p><p id="p0144" num="0144">Although the image coding apparatus and the image decoding apparatus according to the present disclosure have been described with reference to a plurality of embodiments as above, the present disclosure is not limited to these embodiments. Those skilled in the art will be readily appreciated that various modifications and combinations of the constituent elements are possible in the exemplary embodiments. Such modifications and combinations are also embodiments of the present disclosure.</p><p id="p0145" num="0145">For example, a step to be performed by a specific processing unit may be performed by a different processing unit. It should be noted that an order of executing steps may be changed, or a plurality of steps may be executed in parallel.</p><p id="p0146" num="0146">It should also be noted that the image coding apparatus and the image decoding apparatus according to the embodiments of the present disclosure may be implemented as an image coding/decoding apparatus that is a combination of arbitral constituent elements included in the mage coding apparatus and the image decoding apparatus. For example, the image coding/decoding apparatus according to an embodiment of the present disclosure includes: an<!-- EPO <DP n="33"> --> image coding unit that is the image coding apparatus according to one of the embodiments of the present disclosure; and an image decoding unit that is the image decoding apparatus according to one of the embodiments of the present disclosure.</p><p id="p0147" num="0147">It should also be noted that the present disclosure may be implemented not only as the image coding apparatus and the image decoding apparatus, but also as methods including steps performed by the processing units in the image coding apparatus and the image decoding apparatus. For example, these steps are executed by a computer. Furthermore, the present disclosure may be implemented as a program causing a computer to execute the steps included in the methods. Moreover, the present disclosure may be implemented as a non-transitory computer-readable recording medium, such as a CD-ROM, on which the program is recorded.</p><p id="p0148" num="0148">The constituent elements included in the image coding apparatus and the image decoding apparatus may be implemented into a Large Scale Integration (LSI) which is an integrated circuit. These constituent elements may be integrated separately, or a part or all of them may be integrated into a single chip. Here, the integrated circuit is referred to as a LSI, but the integrated circuit can be called an IC, a system LSI, a super LSI or an ultra LSI depending on their degrees of integration.</p><p id="p0149" num="0149">It should be noted that the technique of integrated circuit is not limited to the LSI, and it may be implemented as a dedicated circuit or a general-purpose processor. It is also possible to use a Field Programmable Gate Array (FPGA) that can be programmed after manufacturing the LSI, or a reconfigurable processor in which connection and setting of circuit cells inside the LSI can be reconfigured.</p><p id="p0150" num="0150">Furthermore, if due to the progress of semiconductor technologies or their derivations, new technologies for integrated<!-- EPO <DP n="34"> --> circuits appear to be replaced with the LSIs, it is, of course, possible to use such technologies to implement the constituent elements included in the image coding apparatus and the image decoding apparatus as an integrated circuit.</p><heading id="h0017">(Embodiment 6)</heading><p id="p0151" num="0151">The processing described in each of Embodiments can be simply implemented in an independent computer system, by recording, in a recording medium, a program for implementing the configurations of the moving picture coding method (image coding method) and the moving picture decoding method (image decoding method) described in each of Embodiments. The recording media may be any recording media as long as the program can be recorded, such as a magnetic disk, an optical disk, a magnetic optical disk, an IC card, and a semiconductor memory.</p><p id="p0152" num="0152">Hereinafter, the applications to the moving picture coding method (image coding method) and the moving picture decoding method (image decoding method) described in each of Embodiments and systems using thereof will be described. The system has a feature of having an image coding and decoding apparatus that includes an image encoding apparatus using the image encoding method and an image decoding apparatus using the image decoding method. Other configurations in the system can be changed as appropriate depending on the cases.</p><p id="p0153" num="0153"><figref idrefs="f0016">FIG. 16</figref> illustrates an overall configuration of a content providing system ex100 for implementing content distribution services. The area for providing communication services is divided into cells of desired size, and base stations ex106, ex107, dex108, ex109, and ex110 which are fixed wireless stations are placed in each of the cells.</p><p id="p0154" num="0154">The content providing system ex100 is connected to devices, such as a computer ex111, a personal digital assistant (PDA) ex112, a<!-- EPO <DP n="35"> --> camera ex113, a cellular phone ex114 and a game machine ex115, via the Internet ex101, an Internet service provider ex102, a telephone network ex104, as well as the base stations ex106 to ex110, respectively.</p><p id="p0155" num="0155">However, the configuration of the content providing system ex100 is not limited to the configuration shown in <figref idrefs="f0016">FIG. 16</figref>, and a combination in which any of the elements are connected is acceptable. In addition, each device may be directly connected to the telephone network ex104, rather than via the base stations ex106 to ex110 which are the fixed wireless stations. Furthermore, the devices may be interconnected to each other via a short distance wireless communication and others.</p><p id="p0156" num="0156">The camera ex113, such as a digital video camera, is capable of capturing video. A camera ex116, such as a digital video camera, is capable of capturing both still images and video. Furthermore, the cellular phone ex114 may be the one that meets any of the standards such as Global System for Mobile Communications (GSM), Code Division Multiple Access (CDMA), Wideband-Code Division Multiple Access (W-CDMA), Long Term Evolution (LTE), and High Speed Packet Access (HSPA). Alternatively, the cellular phone ex114 may be a Personal Handyphone System (PHS).</p><p id="p0157" num="0157">In the content providing system ex100, a streaming server ex103 is connected to the camera ex113 and others via the telephone network ex104 and the base station ex109, which enables distribution of images of a live show and others. In such a distribution, a content (for example, video of a music live show) captured by the user using the camera ex113 is coded as described above in each of Embodiments (i.e., the camera functions as the image coding apparatus of the present invention), and the coded content is transmitted to the streaming server ex103. On the other hand, the streaming server ex103 carries out stream distribution of the transmitted content data to the clients upon their requests. The<!-- EPO <DP n="36"> --> clients include the computer ex111, the PDA ex112, the camera ex113, the cellular phone ex114, and the game machine ex115 that are capable of decoding the above-mentioned coded data. Each of the devices that have received the distributed data decodes and reproduces the coded data (i.e., the devices each function as the image decoding apparatus of the present invention).</p><p id="p0158" num="0158">The captured data may be coded by the camera ex113 or the streaming server ex103 that transmits the data, or the coding processes may be shared between the camera ex113 and the streaming server ex103. Similarly, the distributed data may be decoded by the clients or the streaming server ex103, or the decoding processes may be shared between the clients and the streaming server ex103. Furthermore, the data of the still images and video captured by not only the camera ex113 but also the camera ex116 may be transmitted to the streaming server ex103 through the computer ex111. The coding processes may be performed by the camera ex116, the computer ex111, or the streaming server ex103, or shared among them.</p><p id="p0159" num="0159">Furthermore, the coding and decoding processes may be performed by an LSI ex500 generally included in each of the computer ex111 and the devices. The LSI ex500 may be configured of a single chip or a plurality of chips. Software for coding and decoding video may be integrated into some type of a recording medium (such as a CD-ROM, a flexible disk, and a hard disk) that is readable by the computer ex111 and others, and the coding and decoding processes may be performed using the software. Furthermore, when the cellular phone ex114 is equipped with a camera, the image data obtained by the camera may be transmitted. The video data is data coded by the LSI ex500 included in the cellular phone ex114.</p><p id="p0160" num="0160">Furthermore, the streaming server ex103 may be composed of servers and computers, and may decentralize data and process the decentralized data, record, or distribute data.<!-- EPO <DP n="37"> --></p><p id="p0161" num="0161">As described above, the clients may receive and reproduce the coded data in the content providing system ex100. In other words, the clients can receive and decode information transmitted by the user, and reproduce the decoded data in real time in the content providing system ex100, so that the user who does not have any particular right and equipment can implement personal broadcasting.</p><p id="p0162" num="0162">Aside from the example of the content providing system ex100, at least one of the moving picture coding apparatus (image coding apparatus) and the moving picture decoding apparatus (image decoding apparatus) described in each of Embodiments may be implemented in a digital broadcasting system ex200 illustrated in <figref idrefs="f0017">FIG. 17</figref>. More specifically, a broadcast station ex201 communicates or transmits, via radio waves to a broadcast satellite ex202, multiplexed data obtained by multiplexing audio data and others onto video data. The video data is data coded by the moving picture coding method described in each of Embodiments (i.e., data coded by the image coding apparatus of the present invention). Upon receipt of the multiplexed data, the broadcast satellite ex202 transmits radio waves for broadcasting. Then, a home-use antenna ex204 with a satellite broadcast reception function receives the radio waves. Next, a device such as a television (receiver) ex300 and a set top box (STB) ex217 decodes the received multiplexed data, and reproduces the decoded data (i.e., the device functions as the image coding apparatus of the present invention).</p><p id="p0163" num="0163">Furthermore, a reader/recorder ex218 (i) reads and decodes the multiplexed data recorded on a recording media ex215, such as a DVD and a BD, or (i) codes video signals in the recording medium ex215, and in some cases, writes data obtained by multiplexing an audio signal on the coded data. The reader/recorder ex218 can include the moving picture decoding apparatus or the moving picture coding apparatus as shown in each of Embodiments. In this case, the reproduced video signals are displayed on the monitor ex219, and can<!-- EPO <DP n="38"> --> be reproduced by another device or system using the recording medium ex215 on which the multiplexed data is recorded. It is also possible to implement the moving picture decoding apparatus in the set top box ex217 connected to the cable ex203 for a cable television or to the antenna ex204 for satellite and/or terrestrial broadcasting, so as to display the video signals on the monitor ex219 of the television ex300. The moving picture decoding apparatus may be implemented not in the set top box but in the television ex300.</p><p id="p0164" num="0164"><figref idrefs="f0018">FIG. 18</figref> illustrates the television (receiver) ex300 that uses the moving picture coding method and the moving picture decoding method described in each of Embodiments. The television ex300 includes: a tuner ex301 that obtains or provides multiplexed data obtained by multiplexing audio data onto video data, through the antenna ex204 or the cable ex203, etc. that receives a broadcast; a modulation/demodulation unit ex302 that demodulates the received multiplexed data or modulates data into multiplexed data to be supplied outside; and a multiplexing/demultiplexing unit ex303 that demultiplexes the modulated multiplexed data into video data and audio data, or multiplexes video data and audio data coded by a signal processing unit ex306 into data.</p><p id="p0165" num="0165">The television ex300 further includes: a signal processing unit ex306 including an audio signal processing unit ex304 and a video signal processing unit ex305 that decode audio data and video data and code audio data and video data, (which function as the image coding apparatus and the image decoding apparatus), respectively; and an output unit ex309 including a speaker ex307 that provides the decoded audio signal, and a display unit ex308 that displays the decoded video signal, such as a display. Furthermore, the television ex300 includes an interface unit ex317 including an operation input unit ex312 that receives an input of a user operation. Furthermore, the television ex300 includes a control unit ex310 that controls overall each constituent element of the television ex300, and a power supply circuit unit ex311 that supplies power to each of the elements. Other<!-- EPO <DP n="39"> --> than the operation input unit ex312, the interface unit ex317 may include: a bridge ex313 that is connected to an external device, such as the reader/recorder ex218; a slot unit ex314 for enabling attachment of the recording medium ex216, such as an SD card; a driver ex315 to be connected to an external recording medium, such as a hard disk; and a modem ex316 to be connected to a telephone network. Here, the recording medium ex216 can electrically record information using a non-volatile/volatile semiconductor memory element for storage. The constituent elements of the television ex300 are connected to each other through a synchronous bus.</p><p id="p0166" num="0166">First, the configuration in which the television ex300 decodes multiplexed data obtained from outside through the antenna ex204 and others and reproduces the decoded data will be described. In the television ex300, upon a user operation through a remote controller ex220 and others, the multiplexing/demultiplexing unit ex303 demultiplexes the multiplexed data demodulated by the modulation/demodulation unit ex302, under control of the control unit ex310 including a CPU. Furthermore, the audio signal processing unit ex304 decodes the demultiplexed audio data, and the video signal processing unit ex305 decodes the demultiplexed video data, using the decoding method described in each of Embodiments, in the television ex300. The output unit ex309 provides the decoded video signal and audio signal outside, respectively. When the output unit ex309 provides the video signal and the audio signal, the signals may be temporarily stored in buffers ex318 and ex319, and others so that the signals are reproduced in synchronization with each other. Furthermore, the television ex300 may read multiplexed data not through a broadcast and others but from the recording media ex215 and ex216, such as a magnetic disk, an optical disk, and a SD card. Next, a configuration in which the television ex300 codes an audio signal and a video signal, and transmits the data outside or writes the data on a recording medium will be described. In the television ex300, upon a user operation through the remote controller ex220 and others, the audio signal processing unit ex304 codes an audio<!-- EPO <DP n="40"> --> signal, and the video signal processing unit ex305 codes a video signal, under control of the control unit ex310 using the coding method described in each of Embodiments. The multiplexing/demultiplexing unit ex303 multiplexes the coded video signal and audio signal, and provides the resulting signal outside. When the multiplexing/demultiplexing unit ex303 multiplexes the video signal and the audio signal, the signals may be temporarily stored in the buffers ex320 and ex321, and others so that the signals are reproduced in synchronization with each other. Here, the buffers ex318, ex319, ex320, and ex321 may be plural as illustrated, or at least one buffer may be shared in the television ex300. Furthermore, data may be stored in a buffer so that the system overflow and underflow may be avoided between the modulation/demodulation unit ex302 and the multiplexing/demultiplexing unit ex303, for example.</p><p id="p0167" num="0167">Furthermore, the television ex300 may include a configuration for receiving an AV input from a microphone or a camera other than the configuration for obtaining audio and video data from a broadcast or a recording medium, and may code the obtained data. Although the television ex300 can code, multiplex, and provide outside data in the description, it may be capable of only receiving, decoding, and providing outside data but not the coding, multiplexing, and providing outside data.</p><p id="p0168" num="0168">Furthermore, when the reader/recorder ex218 reads or writes multiplexed data from or on a recording medium, one of the television ex300 and the reader/recorder ex218 may decode or code the multiplexed data, and the television ex300 and the reader/recorder ex218 may share the decoding or coding.</p><p id="p0169" num="0169">As an example, <figref idrefs="f0019">FIG. 19</figref> illustrates a configuration of an information reproducing/recording unit ex400 when data is read or written from or on an optical disk. The information reproducing/recording unit ex400 includes constituent elements ex401, ex402, ex403, ex404, ex405, ex406, and ex407 to be<!-- EPO <DP n="41"> --> described hereinafter. The optical head ex401 irradiates a laser spot in a recording surface of the recording medium ex215 that is an optical disk to write information, and detects reflected light from the recording surface of the recording medium ex215 to read the information. The modulation recording unit ex402 electrically drives a semiconductor laser included in the optical head ex401, and modulates the laser light according to recorded data. The reproduction demodulating unit ex403 amplifies a reproduction signal obtained by electrically detecting the reflected light from the recording surface using a photo detector included in the optical head ex401, and demodulates the reproduction signal by separating a signal component recorded on the recording medium ex215 to reproduce the necessary information. The buffer ex404 temporarily holds the information to be recorded on the recording medium ex215 and the information reproduced from the recording medium ex215. The disk motor ex405 rotates the recording medium ex215. The servo control unit ex406 moves the optical head ex401 to a predetermined information track while controlling the rotation drive of the disk motor ex405 so as to follow the laser spot. The system control unit ex407 controls overall the information reproducing/recording unit ex400. The reading and writing processes can be implemented by the system control unit ex407 using various information stored in the buffer ex404 and generating and adding new information as necessary, and by the modulation recording unit ex402, the reproduction demodulating unit ex403, and the servo control unit ex406 that record and reproduce information through the optical head ex401 while being operated in a coordinated manner. The system control unit ex407 includes, for example, a microprocessor, and executes processing by causing a computer to execute a program for read and write.</p><p id="p0170" num="0170">Although the optical head ex401 irradiates a laser spot in the description, it may perform high-density recording using near field light.</p><p id="p0171" num="0171"><!-- EPO <DP n="42"> --><figref idrefs="f0020">FIG. 20</figref> illustrates the recording medium ex215 that is the optical disk. On the recording surface of the recording medium ex215, guide grooves are spirally formed, and an information track ex230 records, in advance, address information indicating an absolute position on the disk according to change in a shape of the guide grooves. The address information includes information for determining positions of recording blocks ex231 that are a unit for recording data. Reproducing the information track ex230 and reading the address information in an apparatus that records and reproduces data can lead to determination of the positions of the recording blocks. Furthermore, the recording medium ex215 includes a data recording area ex233, an inner circumference area ex232, and an outer circumference area ex234. The data recording area ex233 is an area for use in recording the user data. The inner circumference area ex232 and the outer circumference area ex234 that are inside and outside of the data recording area ex233, respectively are for specific use except for recording the user data. The information reproducing/recording unit 400 reads and writes coded audio, coded video data, or multiplexed data obtained by multiplexing the coded audio and video data, from and on the data recording area ex233 of the recording medium ex215.</p><p id="p0172" num="0172">Although an optical disk having a layer, such as a DVD and a BD is described as an example in the description, the optical disk is not limited to such, and may be an optical disk having a multilayer structure and capable of being recorded on a part other than the surface. Furthermore, the optical disk may have a structure for multidimensional recording/reproduction, such as recording of information using light of colors with different wavelengths in the same portion of the optical disk and for recording information having different layers from various angles.</p><p id="p0173" num="0173">Furthermore, a car ex210 having an antenna ex205 can receive data from the satellite ex202 and others, and reproduce video on a display device such as a car navigation system ex211 set in the car<!-- EPO <DP n="43"> --> ex210, in the digital broadcasting system ex200. Here, a configuration of the car navigation system ex211 will be a configuration, for example, including a GPS receiving unit from the configuration illustrated in <figref idrefs="f0018">FIG. 18</figref>. The same will be true for the configuration of the computer ex111, the cellular phone ex114, and others.</p><p id="p0174" num="0174"><figref idrefs="f0021">FIG. 21A</figref> illustrates the cellular phone ex114 that uses the moving picture coding method and the moving picture decoding method described in Embodiments. The cellular phone ex114 includes: an antenna ex350 for transmitting and receiving radio waves through the base station ex110; a camera unit ex365 capable of capturing moving and still images; and a display unit ex358 such as a liquid crystal display for displaying the data such as decoded video captured by the camera unit ex365 or received by the antenna ex350. The cellular phone ex114 further includes: a main body unit including an operation key unit ex366; an audio output unit ex357 such as a speaker for output of audio; an audio input unit ex356 such as a microphone for input of audio; a memory unit ex367 for storing captured video or still pictures, recorded audio, coded or decoded data of the received video, the still pictures, e-mails, or others; and a slot unit ex364 that is an interface unit for a recording medium that stores data in the same manner as the memory unit ex367.</p><p id="p0175" num="0175">Next, an example of a configuration of the cellular phone ex114 will be described with reference to <figref idrefs="f0021">FIG. 21B</figref>. In the cellular phone ex114, a main control unit ex360 designed to control overall each unit of the main body including the display unit ex358 as well as the operation key unit ex366 is connected mutually, via a synchronous bus ex370, to a power supply circuit unit ex361, an operation input control unit ex362, a video signal processing unit ex355, a camera interface unit ex363, a liquid crystal display (LCD) control unit ex359, a modulation/demodulation unit ex352, a multiplexing/demultiplexing unit ex353, an audio signal processing unit ex354, the slot unit ex364, and the memory unit ex367.<!-- EPO <DP n="44"> --></p><p id="p0176" num="0176">When a call-end key or a power key is turned ON by a user's operation, the power supply circuit unit ex361 supplies the respective units with power from a battery pack so as to activate the cell phone ex114.</p><p id="p0177" num="0177">In the cellular phone ex114, the audio signal processing unit ex354 converts the audio signals collected by the audio input unit ex356 in voice conversation mode into digital audio signals under the control of the main control unit ex360 including a CPU, ROM, and RAM. Then, the modulation/demodulation unit ex352 performs spread spectrum processing on the digital audio signals, and the transmitting and receiving unit ex351 performs digital-to-analog conversion and frequency conversion on the data, so as to transmit the resulting data via the antenna ex350. Also, in the cellular phone ex114, the transmitting and receiving unit ex351 amplifies the data received by the antenna ex350 in voice conversation mode and performs frequency conversion and the analog-to-digital conversion on the data. Then, the modulation/demodulation unit ex352 performs inverse spread spectrum processing on the data, and the audio signal processing unit ex354 converts it into analog audio signals, so as to output them via the audio output unit ex357.</p><p id="p0178" num="0178">Furthermore, when an e-mail in data communication mode is transmitted, text data of the e-mail inputted by operating the operation key unit ex366 and others of the main body is sent out to the main control unit ex360 via the operation input control unit ex362. The main control unit ex360 causes the modulation/demodulation unit ex352 to perform spread spectrum processing on the text data, and the transmitting and receiving unit ex351 performs the digital-to-analog conversion and the frequency conversion on the resulting data to transmit the data to the base station ex110 via the antenna ex350. When an e-mail is received, processing that is approximately inverse to the processing for transmitting an e-mail is performed on the received data, and the resulting data is provided to<!-- EPO <DP n="45"> --> the display unit ex358.</p><p id="p0179" num="0179">When video, still images, or video and audio in data communication mode is or are transmitted, the video signal processing unit ex355 compresses and codes video signals supplied from the camera unit ex365 using the moving picture coding method shown in each of Embodiments (i.e., functions as the image coding apparatus of the present invention), and transmits the coded video data to the multiplexing/demultiplexing unit ex353. In contrast, during when the camera unit ex365 captures video, still images, and others, the audio signal processing unit ex354 codes audio signals collected by the audio input unit ex356, and transmits the coded audio data to the multiplexing/demultiplexing unit ex353.</p><p id="p0180" num="0180">The multiplexing/demultiplexing unit ex353 multiplexes the coded video data supplied from the video signal processing unit ex355 and the coded audio data supplied from the audio signal processing unit ex354, using a predetermined method. Then, the modulation/demodulation unit (modulation/demodulation circuit unit) ex352 performs spread spectrum processing on the multiplexed data, and the transmitting and receiving unit ex351 performs digital-to-analog conversion and frequency conversion on the data so as to transmit the resulting data via the antenna ex350.</p><p id="p0181" num="0181">When receiving data of a video file which is linked to a Web page and others in data communication mode or when receiving an e-mail with video and/or audio attached, in order to decode the multiplexed data received via the antenna ex350, the multiplexing/demultiplexing unit ex353 demultiplexes the multiplexed data into a video data bit stream and an audio data bit stream, and supplies the video signal processing unit ex355 with the coded video data and the audio signal processing unit ex354 with the coded audio data, through the synchronous bus ex370. The video signal processing unit ex355 decodes the video signal using a moving picture decoding method corresponding to the moving picture coding<!-- EPO <DP n="46"> --> method shown in each of Embodiments (i.e., functions as the image decoding apparatus of the present invention), and then the display unit ex358 displays, for instance, the video and still images included in the video file linked to the Web page via the LCD control unit ex359. Furthermore, the audio signal processing unit ex354 decodes the audio signal, and the audio output unit ex357 provides the audio.</p><p id="p0182" num="0182">Furthermore, similarly to the television ex300, a terminal such as the cellular phone ex114 probably have 3 types of implementation configurations including not only (i) a transmitting and receiving terminal including both a coding apparatus and a decoding apparatus, but also (ii) a transmitting terminal including only a coding apparatus and (iii) a receiving terminal including only a decoding apparatus. Although the digital broadcasting system ex200 receives and transmits the multiplexed data obtained by multiplexing audio data onto video data in the description, the multiplexed data may be data obtained by multiplexing not audio data but character data related to video onto video data, and may be not multiplexed data but video data itself.</p><p id="p0183" num="0183">As such, the moving picture coding method and the moving picture decoding method in each of Embodiments can be used in any of the devices and systems described. Thus, the advantages described in each of Embodiments can be obtained.</p><p id="p0184" num="0184">Furthermore, the present invention is not limited to Embodiments, and various modifications and revisions are possible without departing from the scope of the present invention.</p><heading id="h0018">(Embodiment 7)</heading><p id="p0185" num="0185">Video data can be generated by switching, as necessary, between (i) the moving picture coding method or the moving picture coding apparatus shown in each of Embodiments and (ii) a moving picture coding method or a moving picture coding apparatus in conformity with a different standard, such as MPEG-2, MPEG4-AVC,<!-- EPO <DP n="47"> --> and VC-1.</p><p id="p0186" num="0186">Here, when a plurality of video data that conforms to the different standards is generated and is then decoded, the decoding methods need to be selected to conform to the different standards. However, since to which standard each of the plurality of the video data to be decoded conform cannot be detected, there is a problem that an appropriate decoding method cannot be selected.</p><p id="p0187" num="0187">In order to solve the problem, multiplexed data obtained by multiplexing audio data and others onto video data has a structure including identification information indicating to which standard the video data conforms. The specific structure of the multiplexed data including the video data generated in the moving picture coding method and by the moving picture coding apparatus shown in each of Embodiments will be hereinafter described. The multiplexed data is a digital stream in the MPEG2-Transport Stream format.</p><p id="p0188" num="0188"><figref idrefs="f0022">FIG. 22</figref> illustrates a structure of the multiplexed data. As illustrated in <figref idrefs="f0022">FIG. 22</figref>, the multiplexed data can be obtained by multiplexing at least one of a video stream, an audio stream, a presentation graphics stream (PG), and an interactive graphics stream. The video stream represents primary video and secondary video of a movie, the audio stream (IG) represents a primary audio part and a secondary audio part to be mixed with the primary audio part, and the presentation graphics stream represents subtitles of the movie. Here, the primary video is normal video to be displayed on a screen, and the secondary video is video to be displayed on a smaller window in the primary video. Furthermore, the interactive graphics stream represents an interactive screen to be generated by arranging the GUI components on a screen. The video stream is coded in the moving picture coding method or by the moving picture coding apparatus shown in each of Embodiments, or in a moving picture coding method or by a moving picture coding apparatus in conformity with a conventional standard, such as MPEG-2, MPEG4-AVC, and VC-1.<!-- EPO <DP n="48"> --> The audio stream is coded in accordance with a standard, such as Dolby-AC-3, Dolby Digital Plus, MLP, DTS, DTS-HD, and linear PCM.</p><p id="p0189" num="0189">Each stream included in the multiplexed data is identified by PID. For example, 0x1011 is allocated to the video stream to be used for video of a movie, 0x1100 to 0x111F are allocated to the audio streams, 0x1200 to 0x121F are allocated to the presentation graphics streams, 0x1400 to 0x141F are allocated to the interactive graphics streams, 0x1B00 to 0x1B1F are allocated to the video streams to be used for secondary video of the movie, and 0x1A00 to 0x1A1F are allocated to the audio streams to be used for the secondary video to be mixed with the primary audio.</p><p id="p0190" num="0190"><figref idrefs="f0023">FIG. 23</figref> schematically illustrates how data is multiplexed. First, a video stream ex235 composed of video frames and an audio stream ex238 composed of audio frames are transformed into a stream of PES packets ex236 and a stream of PES packets ex239, and further into TS packets ex237 and TS packets ex240, respectively. Similarly, data of a presentation graphics stream ex241 and data of an interactive graphics stream ex244 are transformed into a stream of PES packets ex242 and a stream of PES packets ex245, and further into TS packets ex243 and TS packets ex246, respectively. These TS packets are multiplexed into a stream to obtain multiplexed data ex247.</p><p id="p0191" num="0191"><figref idrefs="f0024">FIG. 24</figref> illustrates how a video stream is stored in a stream of PES packets in more detail. The first bar in <figref idrefs="f0024">FIG. 24</figref> shows a video frame stream in a video stream. The second bar shows the stream of PES packets. As indicated by arrows denoted as yy1, yy2, yy3, and yy4 in <figref idrefs="f0024">FIG. 24</figref>, the video stream is divided into pictures as I pictures, B pictures, and P pictures each of which is a video presentation unit, and the pictures are stored in a payload of each of the PES packets. Each of the PES packets has a PES header, and the PES header stores a Presentation Time-Stamp (PTS) indicating a display time of the picture, and a Decoding Time-Stamp (DTS) indicating a decoding time of the picture.<!-- EPO <DP n="49"> --></p><p id="p0192" num="0192"><figref idrefs="f0025">FIG. 25</figref> illustrates a format of TS packets to be finally written on the multiplexed data. Each of the TS packets is a 188-byte fixed length packet including a 4-byte TS header having information, such as a PID for identifying a stream and a 184-byte TS payload for storing data. The PES packets are divided, and stored in the TS payloads, respectively. When a BD ROM is used, each of the TS packets is given a 4-byte TP_Extra_Header, thus resulting in 192-byte source packets. The source packets are written on the multiplexed data. The TP_Extra_Header stores information such as an Arrival_Time_Stamp (ATS). The ATS shows a transfer start time at which each of the TS packets is to be transferred to a PID filter. The source packets are arranged in the multiplexed data as shown at the bottom of <figref idrefs="f0025">FIG. 25</figref>. The numbers incrementing from the head of the multiplexed data are called source packet numbers (SPNs).</p><p id="p0193" num="0193">Each of the TS packets included in the multiplexed data includes not only streams of audio, video, subtitles and others, but also a Program Association Table (PAT), a Program Map Table (PMT), and a Program Clock Reference (PCR). The PAT shows what a PID in a PMT used in the multiplexed data indicates, and a PID of the PAT itself is registered as zero. The PMT stores PIDs of the streams of video, audio, subtitles and others included in the multiplexed data, and attribute information of the streams corresponding to the PIDs. The PMT also has various descriptors relating to the multiplexed data. The descriptors have information such as copy control information showing whether copying of the multiplexed data is permitted or not. The PCR stores STC time information corresponding to an ATS showing when the PCR packet is transferred to a decoder, in order to achieve synchronization between an Arrival Time Clock (ATC) that is a time axis of ATSs, and an System Time Clock (STC) that is a time axis of PTSs and DTSs.</p><p id="p0194" num="0194"><figref idrefs="f0025">FIG. 26</figref> illustrates the data structure of the PMT in detail. A PMT header is disposed at the top of the PMT. The PMT header<!-- EPO <DP n="50"> --> describes the length of data included in the PMT and others. A plurality of descriptors relating to the multiplexed data is disposed after the PMT header. Information such as the copy control information is described in the descriptors. After the descriptors, a plurality of pieces of stream information relating to the streams included in the multiplexed data is disposed. Each piece of stream information includes stream descriptors each describing information, such as a stream type for identifying a compression codec of a stream, a stream PID, and stream attribute information (such as a frame rate or an aspect ratio). The stream descriptors are equal in number to the number of streams in the multiplexed data.</p><p id="p0195" num="0195">When the multiplexed data is recorded on a recording medium and others, it is recorded together with multiplexed data information files.</p><p id="p0196" num="0196">Each of the multiplexed data information files is management information of the multiplexed data as shown in <figref idrefs="f0026">FIG. 27</figref>. The multiplexed data information files are in one to one correspondence with the multiplexed data, and each of the files includes multiplexed data information, stream attribute information, and an entry map.</p><p id="p0197" num="0197">As illustrated in <figref idrefs="f0026">FIG. 27</figref>, the multiplexed data includes a system rate, a reproduction start time, and a reproduction end time. The system rate indicates the maximum transfer rate at which a system target decoder to be described later transfers the multiplexed data to a PID filter. The intervals of the ATSs included in the multiplexed data are set to not higher than a system rate. The reproduction start time indicates a PTS in a video frame at the head of the multiplexed data. An interval of one frame is added to a PTS in a video frame at the end of the multiplexed data, and the PTS is set to the reproduction end time.</p><p id="p0198" num="0198">As shown in <figref idrefs="f0027">FIG. 28</figref>, a piece of attribute information is registered in the stream attribute information, for each PID of each<!-- EPO <DP n="51"> --> stream included in the multiplexed data. Each piece of attribute information has different information depending on whether the corresponding stream is a video stream, an audio stream, a presentation graphics stream, or an interactive graphics stream. Each piece of video stream attribute information carries information including what kind of compression codec is used for compressing the video stream, and the resolution, aspect ratio and frame rate of the pieces of picture data that is included in the video stream. Each piece of audio stream attribute information carries information including what kind of compression codec is used for compressing the audio stream, how many channels are included in the audio stream, which language the audio stream supports, and how high the sampling frequency is. The video stream attribute information and the audio stream attribute information are used for initialization of a decoder before the player plays back the information.</p><p id="p0199" num="0199">In the present embodiment, the multiplexed data to be used is of a stream type included in the PMT. Furthermore, when the multiplexed data is recorded on a recording medium, the video stream attribute information included in the multiplexed data information is used. More specifically, the moving picture coding method or the moving picture coding apparatus described in each of Embodiments includes a step or a unit for allocating unique information indicating video data generated by the moving picture coding method or the moving picture coding apparatus in each of Embodiments, to the stream type included in the PMT or the video stream attribute information. With the configuration, the video data generated by the moving picture coding method or the moving picture coding apparatus described in each of Embodiments can be distinguished from video data that conforms to another standard.</p><p id="p0200" num="0200">Furthermore, <figref idrefs="f0028">FIG. 29</figref> illustrates steps of the moving picture decoding method according to the present embodiment. In Step exS100, the stream type included in the PMT or the video stream attribute information is obtained from the multiplexed data. Next, in<!-- EPO <DP n="52"> --> Step exS101, it is determined whether or not the stream type or the video stream attribute information indicates that the multiplexed data is generated by the moving picture coding method or the moving picture coding apparatus in each of Embodiments. When it is determined that the stream type or the video stream attribute information indicates that the multiplexed data is generated by the moving picture coding method or the moving picture coding apparatus in each of Embodiments, in Step exS102, decoding is performed by the moving picture decoding method in each of Embodiments. Furthermore, when the stream type or the video stream attribute information indicates conformance to the conventional standards, such as MPEG-2, MPEG4-AVC, and VC-1, in Step exS103, decoding is performed by a moving picture decoding method in conformity with the conventional standards.</p><p id="p0201" num="0201">As such, allocating a new unique value to the stream type or the video stream attribute information enables determination whether or not the moving picture decoding method or the moving picture decoding apparatus that is described in each of Embodiments can perform decoding. Even when multiplexed data that conforms to a different standard, an appropriate decoding method or apparatus can be selected. Thus, it becomes possible to decode information without any error. Furthermore, the moving picture coding method or apparatus, or the moving picture decoding method or apparatus in the present embodiment can be used in the devices and systems described above.</p><heading id="h0019">(Embodiment 8)</heading><p id="p0202" num="0202">Each of the moving picture coding method, the moving picture coding apparatus, the moving picture decoding method, and the moving picture decoding apparatus in each of Embodiments is typically achieved in the form of an integrated circuit or a Large Scale Integrated (LSI) circuit. As an example of the LSI, <figref idrefs="f0029">FIG. 30</figref> illustrates a configuration of the LSI ex500 that is made into one chip. The LSI ex500 includes elements ex501, ex502, ex503, ex504, ex505, ex506,<!-- EPO <DP n="53"> --> ex507, ex508, and ex509 to be described below, and the elements are connected to each other through a bus ex510. The power supply circuit unit ex505 is activated by supplying each of the elements with power when the power supply circuit unit ex505 is turned on.</p><p id="p0203" num="0203">For example, when coding is performed, the LSI ex500 receives an AV signal from a microphone ex117, a camera ex113, and others through an AV IO ex509 under control of a control unit ex501 including a CPU ex502, a memory controller ex503, a stream controller ex504, and a driving frequency control unit ex512. The received AV signal is temporarily stored in an external memory ex511, such as an SDRAM. Under control of the control unit ex501, the stored data is segmented into data portions according to the processing amount and speed to be transmitted to a signal processing unit ex507. Then, the signal processing unit ex507 codes an audio signal and/or a video signal. Here, the coding of the video signal is the coding described in each of Embodiments. Furthermore, the signal processing unit ex507 sometimes multiplexes the coded audio data and the coded video data, and a stream IO ex506 provides the multiplexed data outside. The provided multiplexed data is transmitted to the base station ex107, or written on the recording media ex215. When data sets are multiplexed, the data should be temporarily stored in the buffer ex508 so that the data sets are synchronized with each other.</p><p id="p0204" num="0204">Although the memory ex511 is an element outside the LSI ex500, it may be included in the LSI ex500. The buffer ex508 is not limited to one buffer, but may be composed of buffers. Furthermore, the LSI ex500 may be made into one chip or a plurality of chips.</p><p id="p0205" num="0205">Furthermore, although the control unit ex501 includes the CPU ex502, the memory controller ex503, the stream controller ex504, the driving frequency control unit ex512, the configuration of the control unit ex501 is not limited to such. For example, the signal processing unit ex507 may further include a CPU. Inclusion of another CPU in the signal processing unit ex507 can improve the processing speed.<!-- EPO <DP n="54"> --> Furthermore, as another example, the CPU ex502 may serve as or be a part of the signal processing unit ex507, and, for example, may include an audio signal processing unit. In such a case, the control unit ex501 includes the signal processing unit ex507 or the CPU ex502 including a part of the signal processing unit ex507.</p><p id="p0206" num="0206">The name used here is LSI, but it may also be called IC, system LSI, super LSI, or ultra LSI depending on the degree of integration.</p><p id="p0207" num="0207">Moreover, ways to achieve integration are not limited to the LSI, and a special circuit or a general purpose processor and so forth can also achieve the integration. Field Programmable Gate Array (FPGA) that can be programmed after manufacturing LSIs or a reconfigurable processor that allows re-configuration of the connection or configuration of an LSI can be used for the same purpose.</p><p id="p0208" num="0208">In the future, with advancement in semiconductor technology, a brand-new technology may replace LSI. The functional blocks can be integrated using such a technology. The possibility is that the present invention is applied to biotechnology.</p><heading id="h0020">(Embodiment 9)</heading><p id="p0209" num="0209">When video data generated in the moving picture coding method or by the moving picture coding apparatus described in each of Embodiments is decoded, compared to when video data that conforms to a conventional standard, such as MPEG-2, MPEG4-AVC, and VC-1 is decoded, the processing amount probably increases. Thus, the LSI ex500 needs to be set to a driving frequency higher than that of the CPU ex502 to be used when video data in conformity with the conventional standard is decoded. However, when the driving frequency is set higher, there is a problem that the power consumption increases.</p><p id="p0210" num="0210">In order to solve the problem, the moving picture decoding apparatus, such as the television ex300 and the LSI ex500 is<!-- EPO <DP n="55"> --> configured to determine to which standard the video data conforms, and switch between the driving frequencies according to the determined standard. <figref idrefs="f0030">FIG. 31</figref> illustrates a configuration ex800 in the present embodiment. A driving frequency switching unit ex803 sets a driving frequency to a higher driving frequency when video data is generated by the moving picture coding method or the moving picture coding apparatus described in each of Embodiments. Then, the driving frequency switching unit ex803 instructs a decoding processing unit ex801 that executes the moving picture decoding method described in each of Embodiments to decode the video data. When the video data conforms to the conventional standard, the driving frequency switching unit ex803 sets a driving frequency to a lower driving frequency than that of the video data generated by the moving picture coding method or the moving picture coding apparatus described in each of Embodiments. Then, the driving frequency switching unit ex803 instructs the decoding processing unit ex802 that conforms to the conventional standard to decode the video data.</p><p id="p0211" num="0211">More specifically, the driving frequency switching unit ex803 includes the CPU ex502 and the driving frequency control unit ex512 in <figref idrefs="f0029">FIG. 30</figref>. Here, each of the decoding processing unit ex801 that executes the moving picture decoding method described in each of Embodiments and the decoding processing unit ex802 that conforms to the conventional standard corresponds to the signal processing unit ex507 in <figref idrefs="f0029">FIG. 30</figref>. The CPU ex502 determines to which standard the video data conforms. Then, the driving frequency control unit ex512 determines a driving frequency based on a signal from the CPU ex502. Furthermore, the signal processing unit ex507 decodes the video data based on the signal from the CPU ex502. For example, the identification information described in Embodiment 7 is probably used for identifying the video data. The identification information is not limited to the one described in Embodiment 7 but may be any information as long as the information indicates to which standard the video data conforms. For example, when which standard video data conforms to can be determined based on an external signal for<!-- EPO <DP n="56"> --> determining that the video data is used for a television or a disk, etc., the determination may be made based on such an external signal. Furthermore, the CPU ex502 selects a driving frequency based on, for example, a look-up table in which the standards of the video data are associated with the driving frequencies as shown in <figref idrefs="f0032">FIG. 33</figref>. The driving frequency can be selected by storing the look-up table in the buffer ex508 and in an internal memory of an LSI, and with reference to the look-up table by the CPU ex502.</p><p id="p0212" num="0212"><figref idrefs="f0031">FIG. 32</figref> illustrates steps for executing a method in the present embodiment. First, in Step exS200, the signal processing unit ex507 obtains identification information from the multiplexed data. Next, in Step exS201, the CPU ex502 determines whether or not the video data is generated by the coding method and the coding apparatus described in each of Embodiments, based on the identification information. When the video data is generated by the moving picture coding method and the moving picture coding apparatus described in each of Embodiments, in Step exS202, the CPU ex502 transmits a signal for setting the driving frequency to a higher driving frequency to the driving frequency control unit ex512. Then, the driving frequency control unit ex512 sets the driving frequency to the higher driving frequency. On the other hand, when the identification information indicates that the video data conforms to the conventional standard, such as MPEG-2, MPEG4-AVC, and VC-1, in Step exS203, the CPU ex502 transmits a signal for setting the driving frequency to a lower driving frequency to the driving frequency control unit ex512. Then, the driving frequency control unit ex512 sets the driving frequency to the lower driving frequency than that in the case where the video data is generated by the moving picture coding method and the moving picture coding apparatus described in each of Embodiment.</p><p id="p0213" num="0213">Furthermore, along with the switching of the driving frequencies, the power conservation effect can be improved by changing the voltage to be applied to the LSI ex500 or an apparatus<!-- EPO <DP n="57"> --> including the LSI ex500. For example, when the driving frequency is set lower, the voltage to be applied to the LSI ex500 or the apparatus including the LSI, ex500 is probably set to a voltage lower than that in the case where the driving frequency is set higher.</p><p id="p0214" num="0214">Furthermore, when the processing amount for decoding is larger, the driving frequency may be set higher, and when the processing amount for decoding is smaller, the driving frequency may be set lower as the method for setting the driving frequency. Thus, the setting method is not limited to the ones described above. For example, when the processing amount for decoding video data in conformity with MPEG 4 -AVC is larger than the processing amount for decoding video data generated by the moving picture coding method and the moving picture coding apparatus described in each of Embodiments, the driving frequency is probably set in reverse order to the setting described above.</p><p id="p0215" num="0215">Furthermore, the method for setting the driving frequency is not limited to the method for setting the driving frequency lower. For example, when the identification information indicates that the video data is generated by the moving picture coding method and the moving picture coding apparatus described in each of Embodiments, the voltage to be applied to the LSI ex500 or the apparatus including the LSI ex500 is probably set higher. When the identification information indicates that the video data conforms to the conventional standard, such as MPEG-2, MPEG4-AVC, and VC-1, the voltage to be applied to the LSI ex500 or the apparatus including the LSI ex500 is probably set lower. As another example, when the identification information indicates that the video data is generated by the moving picture coding method and the moving picture coding apparatus described in each of Embodiments, the driving of the CPU ex502 does not probably have to be suspended. When the identification information indicates that the video data conforms to the conventional standard, such as MPEG-2, MPEG4-AVC, and VC-1, the driving of the CPU ex502 is probably suspended at a given time because the CPU<!-- EPO <DP n="58"> --> ex502 has extra processing capacity. Even when the identification information indicates that the video data is generated by the moving picture coding method and the moving picture coding apparatus described in each of Embodiments, in the case where the CPU ex502 has extra processing capacity, the driving of the CPU ex502 is probably suspended at a given time. In such a case, the suspending time is probably set shorter than that in the case where when the identification information indicates that the video data conforms to the conventional standard, such as MPEG-2, MPEG4-AVC, and VC-1.</p><p id="p0216" num="0216">Accordingly, the power conservation effect can be improved by switching between the driving frequencies in accordance with the standard to which the video data conforms. Furthermore, when the LSI ex500 or the apparatus including the LSI ex500 is driven using a battery, the battery life can be extended with the power conservation effect.</p><heading id="h0021">(Embodiment 10)</heading><p id="p0217" num="0217">There are cases where a plurality of video data that conforms to different standards, is provided to the devices and systems, such as a television and a mobile phone. In order to enable decoding the plurality of video data that conforms to the different standards, the signal processing unit ex507 of the LSI ex500 needs to conform to the different standards. However, the problems of increase in the scale of the circuit of the LSI, ex500 and increase in the cost arise with the individual use of the signal processing units ex507 that conform to the respective standards.</p><p id="p0218" num="0218">In order to solve the problem, what is conceived is a configuration in which the decoding processing unit for implementing the moving picture decoding method described in each of Embodiments and the decoding processing unit that conforms to the conventional standard, such as MPEG-2, MPEG4-AVC, and VC-1 are partly shared. Ex900 in <figref idrefs="f0032">FIG. 34A</figref> shows an example of the configuration. For example, the moving picture decoding method<!-- EPO <DP n="59"> --> described in each of Embodiments and the moving picture decoding method that conforms to MPEG4-AVC have, partly in common, the details of processing, such as entropy coding, inverse quantization, deblocking filtering, and motion compensated prediction. The details of processing to be shared probably include use of a decoding processing unit ex902 that conforms to MPEG4-AVC. In contrast, a dedicated decoding processing unit ex901 is probably used for other processing unique to the present invention. Since the present invention is characterized by pulse code modulation in particular, for example, the dedicated decoding processing unit ex901 is used for pulse code modulation. Otherwise, the decoding processing unit is probably shared for one of the entropy coding, inverse quantization, deblocking filtering, and motion compensation, or all of the processing. The decoding processing unit for implementing the moving picture decoding method described in each of Embodiments may be shared for the processing to be shared, and a dedicated decoding processing unit may be used for processing unique to that of MPEG4-AVC.</p><p id="p0219" num="0219">Furthermore, ex1000 in <figref idrefs="f0032">FIG. 34B</figref> shows another example in that processing is partly shared. This example uses a configuration including a dedicated decoding processing unit ex1001 that supports the processing unique to the present invention, a dedicated decoding processing unit ex1002 that supports the processing unique to another conventional standard, and a decoding processing unit ex1003 that supports processing to be shared between the moving picture decoding method in the present invention and the conventional moving picture decoding method. Here, the dedicated decoding processing units ex1001 and ex1002 are not necessarily specialized for the processing of the present invention and the processing of the conventional standard, respectively, and may be the ones capable of implementing general processing. Furthermore, the configuration of the present embodiment can be implemented by the LSI ex500.</p><p id="p0220" num="0220">As such, reducing the scale of the circuit of an LSI and reducing<!-- EPO <DP n="60"> --> the cost are possible by sharing the decoding processing unit for the processing to be shared between the moving picture decoding method in the present invention and the moving picture decoding method in conformity with the conventional standard.</p><heading id="h0022"><b>[Industrial Applicability]</b></heading><p id="p0221" num="0221">The image coding method and the image decoding method according to the present disclosure can be applied to various kinds of multimedia data to improve coding efficiency. For example, the image coding method and the image decoding method according to the present disclosure are useful for mobile telephones, DVD apparatuses, personal computers, and the like.</p><heading id="h0023"><b>[Reference Signs List]</b></heading><p id="p0222" num="0222"><dl id="dl0001" compact="compact"><dt>300, 1000, 1200</dt><dd>image coding device</dd><dt>302A, 302B, 720</dt><dd>N-bit-depth conversion unit</dd><dt>304A</dt><dd>subtractor</dd><dt>304B, 706</dt><dd>adder</dd><dt>306</dt><dd>transformation unit</dd><dt>308</dt><dd>quantization unit</dd><dt>310, 708</dt><dd>inverse quantization unit</dd><dt>312, 710</dt><dd>inverse transformation unit</dd><dt>314, 714</dt><dd>inter/intra prediction unit</dd><dt>316A, 316B, 702B</dt><dd>multiplexer (MUX unit)</dd><dt>318, 712</dt><dd>memory</dd><dt>319, 719</dt><dd>filter unit</dd><dt>320</dt><dd>entropy coding unit</dd><dt>322, 716</dt><dd>control unit</dd><dt>324</dt><dd>optional processing unit</dd><dt>700, 1100, 1400</dt><dd>image decoding unit</dd><dt>702A</dt><dd>demultiplexer (DEMUX unit)</dd><dt>704</dt><dd>entropy decoding unit</dd><dt>718</dt><dd>IPCM block parsing unit<!-- EPO <DP n="61"> --></dd><dt>1001, 1201</dt><dd>first writing unit</dd><dt>1002, 1201</dt><dd>second writing unit</dd><dt>1101, 1401</dt><dd>first obtaining unit</dd><dt>1102, 1402</dt><dd>second obtaining unit</dd><dt>1203</dt><dd>third writing unit</dd><dt>1204</dt><dd>fourth writing unit</dd><dt>1205, 1405</dt><dd>reconstruction unit</dd><dt>1206, 1406</dt><dd>conversion unit</dd><dt>1207</dt><dd>bit-depth decrease unit</dd><dt>1208, 1407</dt><dd>bit-depth increase unit</dd><dt>1403</dt><dd>third obtaining unit</dd><dt>1404</dt><dd>fourth obtaining unit</dd></dl></p></description><claims mxw-id="PCLM56976120" lang="EN" load-source="patent-office"><!-- EPO <DP n="62"> --><claim id="c-en-0001" num="0001"><claim-text>An image coding method of coding images to generate a coded stream, said image coding method comprising:
<claim-text>writing a first parameter into a sequence parameter set in the coded stream to be generated, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and</claim-text>
<claim-text>writing a second parameter different from the first parameter into the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the images.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The image coding method according to Claim 1, further comprising<br/>
writing the IPCM sample into the coded stream at the second bit-depth.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The image coding method according to any one of Claims 1 and 2, further comprising<br/>
reconstructing a sample at the first bit-depth from a coded sample in the images, so as to generate the reconstructed sample.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The image coding method according to any one of Claims 1 to 3,<br/>
wherein, in said writing of the second parameter, the second parameter representing the second bit-depth that is equal to or smaller than the first bit-depth is written.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The image coding method according to any one of Claims 1 to 4, further comprising<br/>
converting the IPCM sample at the second bit-depth into the reconstructed sample at the first bit-depth.</claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The image coding method according to any one of Claims 1 to 5,<br/>
wherein, in said writing of the second parameter, the second<!-- EPO <DP n="63"> --> parameter representing the second bit-depth that is smaller than a third bit-depth is written, the third bit-depth being a bit-depth of an original sample in the images, and<br/>
said image coding method further comprises<br/>
converting the original sample at the third bit-depth into a sample at the second bit-depth, so as to decrease the bit-depth of the IPCM sample corresponding to the original sample.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The image coding method according to any one of Claims 1 to 6,<br/>
wherein, in said writing of the first parameter, the first parameter representing the first bit-depth that is larger than a third bit-depth is written, the third bit-depth being a bit-depth of an original sample in the images, and<br/>
said image coding method further comprising<br/>
converting the original sample at the third bit-depth into a sample at the first bit-depth, so as to increase the bit-depth of the reconstructed sample corresponding to the original sample.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The image coding method according to any one of Claims 1 to 7, further comprising<br/>
writing a coded sample coded using the reconstructed sample at the first bit-depth into the coded stream.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>An image decoding method of decoding images in a coded stream, said image decoding method comprising:
<claim-text>obtaining a first parameter from a sequence parameter set in the coded stream, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and</claim-text>
<claim-text>obtaining a second parameter different from the first parameter from the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the images.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>The image decoding method according to Claim 9, further comprising<br/>
<!-- EPO <DP n="64"> -->obtaining the IPCM sample from the coded stream at the second bit-depth.</claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The image decoding method according to any one of Claims 9 and 10, further comprising<br/>
reconstructing a sample at the first bit-depth from a coded sample in the images, so as to generate the reconstructed sample.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The image decoding method according to any one of Claims 9 to 11,<br/>
wherein, in said obtaining of the second parameter, the second parameter representing the second bit-depth that is equal to or smaller than the first bit-depth is obtained.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The image decoding method according to any one of Claims 9 to 12, further comprising<br/>
converting the IPCM sample at the second bit-depth to the reconstructed sample at the first bit-depth.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The image decoding method according to any one of Claims 9 to 13,<br/>
wherein, in said obtaining of the second parameter, the second parameter representing the second bit-depth that is smaller than the first bit-depth is obtained, and<br/>
said image decoding method further comprising<br/>
converting the IPCM sample at the second bit-depth into a sample at the first bit-depth, so as to increase the bit-depth of the IPCM sample.</claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The image decoding method according to any one of Claims 9 to 14,<br/>
wherein, in said obtaining of the second parameter, the second parameter representing the second bit-depth that is smaller than a third bit-depth is obtained, the third bit-depth being a bit-depth of an original sample in the images.<!-- EPO <DP n="65"> --></claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>The image decoding method according to any one of Claims 9 to 15,<br/>
wherein, in said obtaining of the first parameter, the first parameter representing the first bit-depth that is larger than a third bit-depth is obtained, the third bit-depth being a bit-depth of an original sample in the images.</claim-text></claim><claim id="c-en-0017" num="0017"><claim-text>The image decoding method according to any one of Claims 9 to 16, further comprising<br/>
obtaining a coded sample to be decoded using the reconstructed sample at the first bit-depth from the coded stream.</claim-text></claim><claim id="c-en-0018" num="0018"><claim-text>An image coding apparatus that codes images to generate a coded stream, said image coding apparatus comprising:
<claim-text>a first writing unit configured to write a first parameter into a sequence parameter set in the coded stream to be generated, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and</claim-text>
<claim-text>a second writing unit configured to write a second parameter different from the first parameter into the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the images.</claim-text></claim-text></claim><claim id="c-en-0019" num="0019"><claim-text>An image decoding apparatus that decodes images in a coded stream, said image decoding apparatus comprising:
<claim-text>a first obtaining unit configured to obtain a first parameter from a sequence parameter set in the coded stream, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and</claim-text>
<claim-text>a second obtaining unit configured to obtain a second parameter different from the first parameter from the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the<!-- EPO <DP n="66"> --> images.</claim-text></claim-text></claim><claim id="c-en-0020" num="0020"><claim-text>An image coding and decoding apparatus comprising<br/>
an image coding unit configured to code images to generate a coded stream,<br/>
wherein said image coding unit includes:
<claim-text>a first writing unit configured to write a first parameter into a sequence parameter set in the coded stream to be generated, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and</claim-text>
<claim-text>a second writing unit configured to write a second parameter different from the first parameter into the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an Intra Pulse Code Modulation (IPCM) sample in the images, and</claim-text>
<claim-text>said image coding and decoding apparatus further comprising an image decoding unit configured to decode images in a coded stream,</claim-text>
<claim-text>wherein said image decoding unit includes:
<claim-text>a first obtaining unit configured to obtain a first parameter from a sequence parameter set in the coded stream, the first parameter representing a first bit-depth that is a bit-depth of a reconstructed sample in the images; and</claim-text>
<claim-text>a second obtaining unit configured to obtain a second parameter different from the first parameter from the sequence parameter set, the second parameter representing a second bit-depth that is a bit-depth of an IPCM sample in the images.</claim-text></claim-text></claim-text></claim></claims><drawings mxw-id="PDW16666905" load-source="patent-office"><!-- EPO <DP n="67"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="139" he="178" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="68"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="151" he="146" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="69"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="157" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="70"> --><figure id="f0004" num="4(a),4(b),4(c)"><img id="if0004" file="imgf0004.tif" wi="160" he="215" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="71"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="113" he="130" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="72"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="138" he="188" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="73"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="157" he="214" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="74"> --><figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="146" he="185" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="75"> --><figure id="f0009" num="9,10A"><img id="if0009" file="imgf0009.tif" wi="140" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="76"> --><figure id="f0010" num="10B,11A"><img id="if0010" file="imgf0010.tif" wi="114" he="198" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="77"> --><figure id="f0011" num="11B"><img id="if0011" file="imgf0011.tif" wi="117" he="101" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="78"> --><figure id="f0012" num="12"><img id="if0012" file="imgf0012.tif" wi="150" he="181" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="79"> --><figure id="f0013" num="13"><img id="if0013" file="imgf0013.tif" wi="135" he="193" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="80"> --><figure id="f0014" num="14"><img id="if0014" file="imgf0014.tif" wi="156" he="177" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="81"> --><figure id="f0015" num="15"><img id="if0015" file="imgf0015.tif" wi="114" he="182" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="82"> --><figure id="f0016" num="16"><img id="if0016" file="imgf0016.tif" wi="159" he="208" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="83"> --><figure id="f0017" num="17"><img id="if0017" file="imgf0017.tif" wi="160" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="84"> --><figure id="f0018" num="18"><img id="if0018" file="imgf0018.tif" wi="165" he="219" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="85"> --><figure id="f0019" num="19"><img id="if0019" file="imgf0019.tif" wi="155" he="217" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="86"> --><figure id="f0020" num="20"><img id="if0020" file="imgf0020.tif" wi="160" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="87"> --><figure id="f0021" num="21A,21B"><img id="if0021" file="imgf0021.tif" wi="159" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="88"> --><figure id="f0022" num="22"><img id="if0022" file="imgf0022.tif" wi="163" he="154" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="89"> --><figure id="f0023" num="23"><img id="if0023" file="imgf0023.tif" wi="163" he="225" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="90"> --><figure id="f0024" num="24"><img id="if0024" file="imgf0024.tif" wi="139" he="192" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="91"> --><figure id="f0025" num="25,26"><img id="if0025" file="imgf0025.tif" wi="157" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="92"> --><figure id="f0026" num="27"><img id="if0026" file="imgf0026.tif" wi="165" he="130" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="93"> --><figure id="f0027" num="28"><img id="if0027" file="imgf0027.tif" wi="147" he="201" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="94"> --><figure id="f0028" num="29"><img id="if0028" file="imgf0028.tif" wi="153" he="144" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="95"> --><figure id="f0029" num="30"><img id="if0029" file="imgf0029.tif" wi="161" he="196" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="96"> --><figure id="f0030" num="31"><img id="if0030" file="imgf0030.tif" wi="153" he="125" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="97"> --><figure id="f0031" num="32"><img id="if0031" file="imgf0031.tif" wi="147" he="147" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="98"> --><figure id="f0032" num="33,34A,34B"><img id="if0032" file="imgf0032.tif" wi="145" he="233" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="161" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
