<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680646-A1" country="EP" doc-number="2680646" kind="A1" date="20140101" family-id="46929391" file-reference-id="318300" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549424" ucid="EP-2680646-A1"><document-id><country>EP</country><doc-number>2680646</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-11862504-A" is-representative="YES"><document-id mxw-id="PAPP154823347" load-source="docdb" format="epo"><country>EP</country><doc-number>11862504</doc-number><kind>A</kind><date>20111212</date><lang>ZH</lang></document-id><document-id mxw-id="PAPP187510441" load-source="docdb" format="original"><country>EP</country><doc-number>11862504.5</doc-number><date>20111212</date><lang>ZH</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140452390" ucid="CN-2011083834-W" linkage-type="W" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>2011083834</doc-number><kind>W</kind><date>20111212</date></document-id></priority-claim><priority-claim mxw-id="PPC140447130" ucid="CN-201110079885-A" load-source="docdb"><document-id format="epo"><country>CN</country><doc-number>201110079885</doc-number><kind>A</kind><date>20110331</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL-2123399942" load-source="docdb">H04W  16/14        20090101AFI20141217BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-1991053042" load-source="docdb" scheme="CPC">H04W  72/0453      20130101 FI20151212BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2010931720" load-source="docdb" scheme="CPC">H04W  72/00        20130101 LA20151024BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2010934682" load-source="docdb" scheme="CPC">H04W  16/14        20130101 LI20151024BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2010935472" load-source="docdb" scheme="CPC">H04W   8/005       20130101 LA20151024BHEP        </classification-cpc><classification-cpc mxw-id="PCL-2010936061" load-source="docdb" scheme="CPC">H04W  48/16        20130101 LA20151024BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132180756" lang="DE" load-source="patent-office">VERFAHREN ZUR BESTIMMUNG EINER NACHWEISGRENZE UND ERFASSUNG EINER KNOTENVORRICHTUNG</invention-title><invention-title mxw-id="PT132180757" lang="EN" load-source="patent-office">METHOD FOR DETERMINING DETECTION THRESHOLD AND SENSING NODE DEVICE</invention-title><invention-title mxw-id="PT132180758" lang="FR" load-source="patent-office">PROCÉDÉ PERMETTANT DE DÉTERMINER UN SEUIL DE DÉTECTION ET DISPOSITIF CONSTITUANT UN N UD DE DÉTECTION</invention-title></technical-data><parties><applicants><applicant mxw-id="PPAR918132268" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>HUAWEI TECH CO LTD</last-name><address><country>CN</country></address></addressbook></applicant><applicant mxw-id="PPAR918157584" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>HUAWEI TECHNOLOGIES CO., LTD.</last-name></addressbook></applicant><applicant mxw-id="PPAR918978770" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Huawei Technologies Co., Ltd.</last-name><iid>101233704</iid><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen, Guangdong 518129</city><country>CN</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918139074" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>QIU JING</last-name><address><country>CN</country></address></addressbook></inventor><inventor mxw-id="PPAR918162752" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>QIU, JING</last-name></addressbook></inventor><inventor mxw-id="PPAR918979583" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>QIU, JING</last-name><address><street>Huawei Administration Building Bantian Longgang District</street><city>Shenzhen Guangdong 518129</city><country>CN</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918985470" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Thun, Clemens</last-name><iid>101098074</iid><address><street>Mitscherlich &amp; Partner Sonnenstrasse 33</street><city>80331 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><pct-or-regional-filing-data ucid="CN-2011083834-W"><document-id><country>CN</country><doc-number>2011083834</doc-number><kind>W</kind><date>20111212</date><lang>ZH</lang></document-id></pct-or-regional-filing-data><pct-or-regional-publishing-data ucid="WO-2012129932-A1"><document-id><country>WO</country><doc-number>2012129932</doc-number><kind>A1</kind><date>20121004</date><lang>ZH</lang></document-id></pct-or-regional-publishing-data><designated-states><ep-contracting-states><country mxw-id="DS548892450" load-source="docdb">AL</country><country mxw-id="DS548804231" load-source="docdb">AT</country><country mxw-id="DS548892451" load-source="docdb">BE</country><country mxw-id="DS548862202" load-source="docdb">BG</country><country mxw-id="DS548804847" load-source="docdb">CH</country><country mxw-id="DS548880011" load-source="docdb">CY</country><country mxw-id="DS548804232" load-source="docdb">CZ</country><country mxw-id="DS548892452" load-source="docdb">DE</country><country mxw-id="DS548880012" load-source="docdb">DK</country><country mxw-id="DS548880013" load-source="docdb">EE</country><country mxw-id="DS548841041" load-source="docdb">ES</country><country mxw-id="DS548862203" load-source="docdb">FI</country><country mxw-id="DS548862204" load-source="docdb">FR</country><country mxw-id="DS548892453" load-source="docdb">GB</country><country mxw-id="DS548880014" load-source="docdb">GR</country><country mxw-id="DS548892454" load-source="docdb">HR</country><country mxw-id="DS548804233" load-source="docdb">HU</country><country mxw-id="DS548804848" load-source="docdb">IE</country><country mxw-id="DS548880015" load-source="docdb">IS</country><country mxw-id="DS548862205" load-source="docdb">IT</country><country mxw-id="DS548880016" load-source="docdb">LI</country><country mxw-id="DS548869258" load-source="docdb">LT</country><country mxw-id="DS548804250" load-source="docdb">LU</country><country mxw-id="DS548869259" load-source="docdb">LV</country><country mxw-id="DS548869260" load-source="docdb">MC</country><country mxw-id="DS548861331" load-source="docdb">MK</country><country mxw-id="DS548861332" load-source="docdb">MT</country><country mxw-id="DS548862206" load-source="docdb">NL</country><country mxw-id="DS548841046" load-source="docdb">NO</country><country mxw-id="DS548804849" load-source="docdb">PL</country><country mxw-id="DS548861333" load-source="docdb">PT</country><country mxw-id="DS548862207" load-source="docdb">RO</country><country mxw-id="DS548861678" load-source="docdb">RS</country><country mxw-id="DS548804850" load-source="docdb">SE</country><country mxw-id="DS548861679" load-source="docdb">SI</country><country mxw-id="DS548841047" load-source="docdb">SK</country><country mxw-id="DS548804851" load-source="docdb">SM</country><country mxw-id="DS548869261" load-source="docdb">TR</country></ep-contracting-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128670093" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Embodiments of the present invention provide a sensing threshold determining method and a sensor node device. The sensing threshold determining method includes: measuring, by a sensor node, a target frequency band and determining used frequencies in the target frequency band and received signal strength of the sensor node at the used frequencies, where the used frequencies in the target frequency band include frequencies being used or having been used by a primary user transmitter in the target frequency band; and determining, by the sensor node, a sensing threshold for unused frequencies in the target frequency band according to the received signal strength at the used frequencies, where the unused frequencies include frequencies that are not used by the primary user transmitter in the target frequency band. With the embodiments of the present invention, a sensor node can determine a proper sensing threshold for unused frequencies.<img id="iaf01" file="imgaf001.tif" wi="115" he="90" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499466" lang="EN" source="EPO" load-source="docdb"><p>Embodiments of the present invention provide a sensing threshold determining method and a sensor node device. The sensing threshold determining method includes: measuring, by a sensor node, a target frequency band and determining used frequencies in the target frequency band and received signal strength of the sensor node at the used frequencies, where the used frequencies in the target frequency band include frequencies being used or having been used by a primary user transmitter in the target frequency band; and determining, by the sensor node, a sensing threshold for unused frequencies in the target frequency band according to the received signal strength at the used frequencies, where the unused frequencies include frequencies that are not used by the primary user transmitter in the target frequency band. With the embodiments of the present invention, a sensor node can determine a proper sensing threshold for unused frequencies.</p></abstract><description mxw-id="PDES63955523" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>FIELD OF THE INVENTION</b></heading><p id="p0001" num="0001">Embodiments of the present invention relate to the field of communication technologies, and in particular, to a sensing threshold determining method and a sensor node device.</p><heading id="h0002"><b>BACKGROUND OF THE INVENTION</b></heading><p id="p0002" num="0002">With the fast increase of radio communication service requirements, spectrum resources available currently are becoming fewer and fewer. Large quantities of spectrum tests, however, prove that the "shortage" of spectrum resources is not a result of the lack of spectrum resources but a result of the insufficient utilization of the spectrum resources caused by the current fixed spectrum management policy. Cognitive radio (Cognitive Radio, CR hereinafter) can sense the radio communication environment, dynamically detect and efficiently utilize idle spectrum resources, and allow a secondary user to have multidimensional spectrum reuse with a primary user in time, frequency, and space. This greatly relieves the constraint of spectrum and bandwidth restriction on the development of radio technologies. This technology is believed to be one of the hottest radio technologies in the future.</p><p id="p0003" num="0003">Spectrum sensing is a key technology of cognitive radio. The purpose of spectrum sensing is to monitor and detect activities of the primary user signals in a specific frequency band: When an idle spectrum is detected, the cognitive radio system can use the frequency band; and when a primary user signal is detected, the cognitive radio system must exit the<!-- EPO <DP n="2"> --> frequency band in a specified duration. The performance of spectrum sensing mainly depends on the following factors:</p><p id="p0004" num="0004">Sensing threshold: it is the minimum primary user signal strength that a sensor node needs to detect. If, at a frequency, the sensor node detects that the primary user signal strength exceeds the sensing threshold, it can be considered that the primary user appears at the frequency; otherwise, it can be determined that the frequency is idle and can be used.</p><p id="p0005" num="0005">Primary user protection time: it is the maximum interference time allowed for the primary user, which is the time from when the primary user appears to when the secondary system is detected and exits the frequency.</p><p id="p0006" num="0006">Sensing performance: it includes detection probability and false alarm probability, where, when the detection probability is higher, the protection for the primary user is better and when the false alarm probability is lower, the service continuity of the secondary system is more benefited.</p><p id="p0007" num="0007">In the prior art, the sensing threshold determining method is to calculate the received signal strength at a specific location as the actual sensing threshold in the location by using the transmit power of the primary user and based on a certain channel model.</p><p id="p0008" num="0008">Conventional channel models are all general channel models specific to a certain landform, where, with regard to a certain landform (such as urban area, suburban area, opening area, and mountain area), as long as the distance to the primary user transmitter is the same, whatever geographic environment the sensor node is located in, the sensor node has the same sensing threshold. This will result in the inconformity between the calculated sensing threshold and the actual sensing threshold. If the sensing threshold is determined based on the conventional method, the sensing threshold may be set too high, so that the detection probability is lower, or the sensing threshold is set too low, so that the sensing overhead is increased and the false alarm probability is higher. Therefore, the conventional sensing threshold determining method has great defects.</p><p id="p0009" num="0009">When the conventional method is adopted to determine the sensing threshold, it is necessary to learn information, such as the location of the television (Television, TV hereinafter) transmitter and the transmit power, but such information is not available at will in any county and region. If the information is not learned in advance, it is hard to determine the<!-- EPO <DP n="3"> --> sensing threshold in the location of the sensor node and a uniform low sensing threshold has to be adopted to restrain the behaviors of the sensor node, thereby resulting in a too low sensing threshold.</p><heading id="h0003"><b>SUMMARY OF THE INVENTION</b></heading><p id="p0010" num="0010">Embodiments of the present invention provide a sensing threshold determining method and a sensor node device, so that a sensor node determines a proper sensing threshold for unused frequencies by measuring the received signal strength of frequencies used by a primary user transmitter.</p><p id="p0011" num="0011">An embodiment of the present invention provides a sensing threshold determining method, including:
<ul><li>measuring, by a sensor node, a target frequency band and determining used frequencies in the target frequency band and received signal strength of the sensor node at the used frequencies, where the used frequencies in the target frequency band include frequencies being used or having been used by a primary user transmitter in the target frequency band; and</li><li>determining, by the sensor node, a sensing threshold for unused frequencies in the target frequency band according to the received signal strength at the used frequencies, where the unused frequencies include frequencies that are not used by the primary user transmitter in the target frequency band.</li></ul></p><p id="p0012" num="0012">An embodiment of the present invention provides a sensor node device, including:
<ul><li>a measuring module, configured to measure a target frequency band and determine used frequencies in the target frequency band and received signal strength of the sensor node device at the used frequencies, where the used frequencies in the target frequency band include frequencies being used or having been used by a primary user transmitter in the target frequency band; and</li><li>a determining module, configured to determine a sensing threshold for unused frequencies in the target frequency band according to the received signal strength at the used<!-- EPO <DP n="4"> --> frequencies determined by the measuring module, where the unused frequencies include frequencies that are not used by the primary user transmitter in the target frequency band.</li></ul></p><p id="p0013" num="0013">In the embodiments of the present invention, the sensor node measures the target frequency band, determines the received signal strength at the used frequencies in the target frequency band, and determines the sensing threshold for the unused frequencies according to the received signal strength at the used frequencies, so that the sensor node can determine a proper sensing threshold for the unused frequencies.</p><heading id="h0004"><b>BRIEF DESCRIPTION OF THE DRAWINGS</b></heading><p id="p0014" num="0014">To better explain the technical solutions of the embodiments of the present invention, the accompanying drawings required in the description of the embodiments of the present invention are briefly described hereunder. Apparently, the accompanying drawings illustrate only some exemplary embodiments of the present invention and persons of ordinary skill in the art can derive other drawings from these drawings without creative efforts.</p><p id="p0015" num="0015"><figref idrefs="f0001">FIG. 1</figref> is a flowchart of a sensing threshold determining method according to an embodiment of the present invention;</p><p id="p0016" num="0016"><figref idrefs="f0001">FIG. 2</figref> is a schematic diagram of path loss difference curves according to an embodiment of the present invention;</p><p id="p0017" num="0017"><figref idrefs="f0002">FIG. 3</figref> is a flowchart of a sensing threshold determining method according to another embodiment of the present invention;</p><p id="p0018" num="0018"><figref idrefs="f0002">FIG. 4</figref> is a flowchart of a sensing threshold determining method according to still another embodiment of the present invention;</p><p id="p0019" num="0019"><figref idrefs="f0003">FIG. 5</figref> is a schematic structural diagram of a sensor node device according to an embodiment of the present invention; and</p><p id="p0020" num="0020"><figref idrefs="f0003">FIG. 6</figref> is a schematic structural diagram of a sensor node device according to another embodiment of the present invention.<!-- EPO <DP n="5"> --></p><heading id="h0005"><b>DETAILED DESCRIPTION OF THE EMBODIMENTS</b></heading><p id="p0021" num="0021">To better explain the purposes, technical solutions, and advantages of the embodiments of the present invention, the technical solutions of the embodiments of the present invention are hereinafter described clearly and completely with reference to the accompanying drawing. Apparently, the embodiments to be described are only some embodiments of the present invention rather than all embodiments of the present invention. Based on the embodiments of the present invention, other embodiments derived by persons of ordinary skill in the art without creative efforts shall fall within the protection scope of the present invention.</p><p id="p0022" num="0022"><figref idrefs="f0001">FIG. 1</figref> is a flowchart of a sensing threshold determining method in an embodiment of the present invention. The following is an application scenario of the embodiment:</p><p id="p0023" num="0023">The same transmit power is adopted each time when the same primary user transmitter uses the same frequency; the transmit power of the transmit signals of the same mode of the same primary user transmitter is the same at all frequencies. The application scenario of the sensing threshold determining method provided in the embodiment is to sense primary user signals, such as TV signals.</p><p id="p0024" num="0024">As shown in <figref idrefs="f0001">FIG. 1</figref>, the sensing threshold determining method may include the following steps:</p><p id="p0025" num="0025">Step 101: A sensor node measures a target frequency band and determines used frequencies in the target frequency band and the received signal strength of the sensor node at the used frequencies, where the used frequencies in the target frequency band include frequencies being used or having been used by the primary user transmitter in the target frequency band.</p><p id="p0026" num="0026">Step 102: The sensor node determines a sensing threshold for unused frequencies in the target frequency band according to the received signal strength at the used frequencies, where the unused frequencies include frequencies not used by the primary user transmitter in the frequency band.</p><p id="p0027" num="0027">Specifically, the sensor node may calculate the path loss difference of the primary user transmitter between the used frequencies and the unused frequencies and then calculate a<!-- EPO <DP n="6"> --> sum of the received signal strength at the used frequencies, the path loss difference of the primary user transmitter between the used frequencies and the unused frequencies and the transmit power difference of the primary user transmitter between the used frequencies and the unused frequencies, where the sum of the received signal strength, the path loss difference, and the transmit power difference is used as a sensing threshold for the unused frequencies in the target frequency band.</p><p id="p0028" num="0028">In an implementation manner of the embodiment, the calculating the path loss difference of the primary user transmitter between the used frequencies and the unused frequencies may be as follows: The sensor node determines a channel model formula between the primary user transmitter and the sensor node, and calculates the path loss difference of the primary user transmitter between the used frequencies and the unused frequencies according to the formula.</p><p id="p0029" num="0029">In another implementation manner of the embodiment, the calculating the path loss difference of the primary user transmitter between the used frequencies and the unused frequencies may be as follows: The sensor node determines two transmit antenna height reference values in the empirical field strength values of a channel model between the primary user transmitter and the sensor node according to the actual height of the transmit antenna of the primary user transmitter and obtains the field strength values corresponding to the used frequencies and the unused frequencies at the heights corresponding to the two transmit antenna height reference values through frequency interpolation; then according to the above field strength values corresponding to the used frequencies and the unused frequencies, the sensor node obtains the field strength values corresponding to the used frequencies and the unused frequencies at the actual height through interpolation of the actual height of the transmit antenna of the primary user transmitter; then, the sensor node may calibrate a field strength curve with respect to the difference between the actual height of the receive antenna of the sensor node and a receive antenna height reference value in the empirical field strength values and obtain the calibration values corresponding to the used frequencies and the unused frequencies; finally, the sensor node may calculate the path loss corresponding to the used frequencies according to the field strength values corresponding to the used frequencies and the calibration values corresponding to the used frequencies at the actual height and calculate<!-- EPO <DP n="7"> --> the path loss corresponding to the unused frequencies according to the field strength values corresponding to the unused frequencies and the calibration values corresponding to the unused frequencies at the actual height, and then calculate the path loss difference of the primary user transmitter between the used frequencies and the unused frequencies according to the path loss corresponding to the used frequencies and the path loss corresponding to the unused frequencies.</p><p id="p0030" num="0030">The implementation process of the sensing threshold determining method provided in the embodiment is described hereunder through a specific example.</p><p id="p0031" num="0031">1. It is assumed that f<sub>1</sub> is a used frequency in a target frequency band, that is, f<sub>1</sub> is a frequency being used or having been used by a primary user transmitter in the target frequency. When the primary user transmitter is using f<sub>1</sub>, a sensor node measures f<sub>1</sub> and determines that the received signal strength of the sensor node at f<sub>1</sub> is S<sub>1</sub>. Then, S<sub>1</sub> can be used as the sensing threshold of f<sub>1</sub>, that is, <maths id="math0001" num="(1)"><math display="block"><mi>Sensing threshold</mi><mspace width="1em"/><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub></mfenced><mo>=</mo><msub><mi mathvariant="normal">S</mi><mn mathvariant="normal">1</mn></msub></math><img id="ib0001" file="imgb0001.tif" wi="144" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0032" num="0032">Hereinafter, Sensing threshold (f<sub>1</sub>) is used to indicate the sensing threshold of f<sub>1</sub>.</p><p id="p0033" num="0033">2. It is assumed that f<sub>2</sub> is an unused frequency, that is, f<sub>2</sub> is a frequency that has not been used by the primary user transmitter in the target frequency band, and the sensor node does not learn when the primary user transmitter will use f<sub>2</sub>. Through the method provided in the embodiment of the present invention illustrated in <figref idrefs="f0001">FIG. 1</figref>, the sensor node may determine the sensing threshold of f<sub>2</sub> according to the received signal strength S<sub>1</sub> at f<sub>1</sub>. In the description hereinafter, the sensing threshold of f<sub>2</sub> is described as "Sensing threshold (f<sub>2</sub>)". Specifically, <maths id="math0002" num="(2)"><math display="block"><mi>Sensing threshold</mi><mspace width="1em"/><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>=</mo><mi>Sensing threshold</mi><mspace width="1em"/><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub></mfenced><mo>+</mo><mi mathvariant="normal">ΔL</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>+</mo><mi mathvariant="normal">ΔP</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced></math><img id="ib0002" file="imgb0002.tif" wi="145" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0034" num="0034">In equation (2), ΔL(f<sub>1</sub>,f<sub>2</sub>) represents the path loss difference of the same primary user transmitter between f<sub>1</sub> and f<sub>2</sub>; ΔP(f<sub>1</sub>,f<sub>2</sub>) represents the transmit power difference of the same primary user transmitter between f<sub>1</sub> and f<sub>2</sub>, and with regard to a TV signal, if a TV signal mode is the same at f<sub>1</sub> and f<sub>2</sub>, ΔP(f<sub>1</sub>,f<sub>2</sub>)=0.</p><p id="p0035" num="0035">The following describes how the sensor node calculates the sensing threshold of f<sub>2</sub> according to sensing threshold (f<sub>1</sub>) by taking two channel models as an example.<!-- EPO <DP n="8"> --></p><p id="p0036" num="0036">a. If the channel model between the primary user transmitter and the sensor node has a specific formula, the sensor node may calculate the sensing threshold of f2 directly by using the formula.</p><p id="p0037" num="0037">Taking the Okumura-Hata channel model as an example, the empirical formulas of the Okumura-Hata channel model are as follows:<br/>
Urban area <maths id="math0003" num="(3)"><math display="block"><mi mathvariant="normal">L</mi><mo>=</mo><mn mathvariant="normal">69.55</mn><mo>+</mo><mn mathvariant="normal">26.16</mn><mo>⁢</mo><mi>lg</mi><mfenced><mi mathvariant="normal">f</mi></mfenced><mo>-</mo><mn mathvariant="normal">13.82</mn><mo>⁢</mo><mi>lg</mi><mfenced><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">t</mi></msub></mfenced><mo>-</mo><mi mathvariant="normal">α</mi><mfenced><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub></mfenced><mo>+</mo><mfenced open="[" close="]" separators=""><mn mathvariant="normal">44.9</mn><mo>-</mo><mn mathvariant="normal">6.55</mn><mo>⁢</mo><mi>lg</mi><mfenced><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">t</mi></msub></mfenced></mfenced><mo>⁢</mo><mi>lg</mi><mfenced><mi mathvariant="normal">d</mi></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="145" he="11" img-content="math" img-format="tif"/></maths> <maths id="math0004" num="(4)"><math display="block"><mi>Suburban area L</mi><mo>=</mo><msub><mi mathvariant="normal">L</mi><mi>Urban area</mi></msub><mo>-</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><msup><mfenced open="[" close="]" separators=""><mi>lg</mi><mfenced separators=""><mi mathvariant="normal">f</mi><mo>/</mo><mn mathvariant="normal">28</mn></mfenced></mfenced><mn mathvariant="normal">2</mn></msup><mo>-</mo><mn mathvariant="normal">5.4</mn></math><img id="ib0004" file="imgb0004.tif" wi="145" he="12" img-content="math" img-format="tif"/></maths> <maths id="math0005" num="(5)"><math display="block"><mi>Rural area L</mi><mo>=</mo><msub><mi mathvariant="normal">L</mi><mi>Urban area</mi></msub><mo>-</mo><mn mathvariant="normal">4.78</mn><mo>⁢</mo><msup><mfenced><mi>logf</mi></mfenced><mn mathvariant="normal">2</mn></msup><mo>+</mo><mn mathvariant="normal">18.33</mn><mo>⁢</mo><mi>log</mi><mfenced><mi mathvariant="normal">f</mi></mfenced><mo>-</mo><mn mathvariant="normal">40.98</mn></math><img id="ib0005" file="imgb0005.tif" wi="145" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0038" num="0038">In equations (3) to (5), f represents a carrier frequency; h<sub>t</sub> and h<sub>r</sub> represent the height of a transmit antenna and the height of a receive antenna, respectively; d is the distance between a transmitter and a receiver; α(h<sub>r</sub>) is a mobile antenna calibration factor and its value depends on an environment as follows: <maths id="math0006" num=""><math display="block"><mi mathvariant="normal">α</mi><mfenced><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub></mfenced><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mn mathvariant="normal">3.2</mn><mo>⁢</mo><msup><mfenced separators=""><mi>lg</mi><mo>⁢</mo><mn mathvariant="normal">11.75</mn><mo>⁢</mo><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub></mfenced><mn mathvariant="normal">2</mn></msup><mo>-</mo><mn mathvariant="normal">4.97</mn><mspace width="1em"/><mi mathvariant="normal">f</mi><mo>≥</mo><mn mathvariant="normal">300</mn><mo>⁢</mo><mi>MHz metropolis</mi></mtd></mtr><mtr><mtd><mn mathvariant="normal">8.29</mn><mo>⁢</mo><msup><mfenced separators=""><mi>lg</mi><mo>⁢</mo><mn mathvariant="normal">1.54</mn><mo>⁢</mo><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub></mfenced><mn mathvariant="normal">2</mn></msup><mo>-</mo><mn mathvariant="normal">1.1</mn><mspace width="1em"/><mi mathvariant="normal">f</mi><mo>&lt;</mo><mn mathvariant="normal">300</mn><mo>⁢</mo><mi>MHz metropolis</mi></mtd></mtr><mtr><mtd><mfenced separators=""><mn mathvariant="normal">1.1</mn><mo>⁢</mo><mi>lgf</mi><mo>-</mo><mn mathvariant="normal">0.7</mn></mfenced><mo>⁢</mo><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub><mo>-</mo><mfenced separators=""><mn mathvariant="normal">1.56</mn><mo>⁢</mo><mi>lgf</mi><mo>-</mo><mn mathvariant="normal">0.8</mn></mfenced><mspace width="1em"/><mi>small and medium</mi><mo>-</mo><mi>sized cities</mi></mtd></mtr></mtable></mrow></math><img id="ib0006" file="imgb0006.tif" wi="127" he="24" img-content="math" img-format="tif"/></maths></p><p id="p0039" num="0039">According to the above channel model, in different environments, for a primary user transmitter and sensor node, the path loss difference caused by frequency difference is:<br/>
Urban area <maths id="math0007" num=""><math display="block"><mi mathvariant="normal">ΔL</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mn mathvariant="normal">26.16</mn><mo>⁢</mo><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced></mtd><mtd><mi>metropolis</mi></mtd></mtr><mtr><mtd><mfenced separators=""><mn mathvariant="normal">27.72</mn><mo>-</mo><mn mathvariant="normal">1.1</mn><mo>⁢</mo><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub></mfenced><mo>⁢</mo><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced></mtd><mtd><mi>small and medium</mi><mo>-</mo><mi>sized cities</mi></mtd></mtr></mtable></mrow></math><img id="ib0007" file="imgb0007.tif" wi="123" he="19" img-content="math" img-format="tif"/></maths><br/>
Suburban area <maths id="math0008" num=""><math display="block"><mi mathvariant="normal">ΔL</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mn mathvariant="normal">26.16</mn><mo>⁢</mo><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>-</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><msup><mfenced open="[" close="]" separators=""><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mo>/</mo><mn mathvariant="normal">28</mn></mfenced></mfenced><mn mathvariant="normal">2</mn></msup><mo>+</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><msup><mfenced open="[" close="]" separators=""><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><mo>/</mo><mn mathvariant="normal">28</mn></mfenced></mfenced><mn mathvariant="normal">2</mn></msup></mtd><mtd><mi>metropolis</mi></mtd></mtr><mtr><mtd><mfenced separators=""><mn mathvariant="normal">27.72</mn><mo>-</mo><mn mathvariant="normal">1.1</mn><mo>⁢</mo><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub></mfenced><mo>⁢</mo><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>-</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><msup><mfenced open="[" close="]" separators=""><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mo>/</mo><mn mathvariant="normal">28</mn></mfenced></mfenced><mn mathvariant="normal">2</mn></msup><mo>+</mo><mn mathvariant="normal">2</mn><mo>⁢</mo><msup><mfenced open="[" close="]" separators=""><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><mo>/</mo><mn mathvariant="normal">28</mn></mfenced></mfenced><mn mathvariant="normal">2</mn></msup></mtd><mtd><mi>small and medium</mi><mo>-</mo><mi>sized cities</mi></mtd></mtr></mtable></mrow></math><img id="ib0008" file="imgb0008.tif" wi="163" he="18" img-content="math" img-format="tif"/></maths><br/>
Rural area <maths id="math0009" num=""><math display="block"><mi mathvariant="normal">ΔL</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left"><mtr><mtd><mn mathvariant="normal">44.49</mn><mo>⁢</mo><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>-</mo><mn mathvariant="normal">4.78</mn><mo>⁢</mo><msup><mfenced separators=""><mi>lg</mi><mo>⁢</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub></mfenced><mn mathvariant="normal">2</mn></msup><mo>+</mo><mn mathvariant="normal">4.78</mn><mo>⁢</mo><msup><mfenced separators=""><mi>lg</mi><mo>⁢</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mn>2</mn></msup></mtd><mtd><mi>metropolis</mi></mtd></mtr><mtr><mtd><mfenced separators=""><mn>46.05</mn><mo>-</mo><mn mathvariant="normal">1.1</mn><mo>⁢</mo><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub></mfenced><mo>⁢</mo><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>-</mo><mn>4.78</mn><mo>⁢</mo><msup><mfenced separators=""><mi>lg</mi><mo>⁢</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub></mfenced><mn>2</mn></msup><mo>+</mo><mn mathvariant="normal">4.78</mn><mo>⁢</mo><msup><mfenced separators=""><mi>lg</mi><mo>⁢</mo><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mn>2</mn></msup></mtd><mtd><mi>small and medium</mi><mo>-</mo><mi>sized cities</mi></mtd></mtr></mtable></mrow></math><img id="ib0009" file="imgb0009.tif" wi="157" he="18" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="9"> --></p><p id="p0040" num="0040">Based on the above formulas, the corresponding sensing threshold for a primary user transmitter at f<sub>2</sub> can be calculated as follows: <maths id="math0010" num=""><math display="block"><mi>Sensing threshold</mi><mspace width="1em"/><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>=</mo><mi>Sensing threshold</mi><mspace width="1em"/><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub></mfenced><mo>+</mo><mi mathvariant="normal">ΔL</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced></math><img id="ib0010" file="imgb0010.tif" wi="98" he="4" img-content="math" img-format="tif"/></maths></p><p id="p0041" num="0041">b. If the channel model between the primary user transmitter and the sensor node cannot be expressed in a uniform formula, for example, the ITU-R P.1546-4 channel model, the empirical field strength values in different landforms at several typical frequencies (100MHz, 600MHz, or 2000MHz) are given. When the channel model is used to determine the sensing threshold of f<sub>2</sub>, the following steps can be adopted:</p><p id="p0042" num="0042">Step 1: Select two proper transmit antenna height reference values h<sub>ref1</sub> and h<sub>ref2</sub> from the empirical field strength values of the above channel model according to the actual height of the transmit antenna of the primary user transmitter and obtain the field strength values corresponding to f<sub>1</sub> and f<sub>2</sub> at the two heights through frequency interpolation. <maths id="math0011" num="(6)"><math display="block"><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mrow></msub></mfenced><mo>=</mo><msub><mi mathvariant="normal">E</mi><mrow><mi>inf</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mrow></msub></mrow></msub><mo>+</mo><mfenced separators=""><msub><mi mathvariant="normal">E</mi><mrow><mi>sup</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mrow></msub></mrow></msub><mo>-</mo><msub><mi mathvariant="normal">E</mi><mrow><mi>inf</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mrow></msub></mrow></msub></mfenced><mo>⁢</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mi>inf</mi></msub></mfenced><mo>/</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mi>sup</mi></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mi>inf</mi></msub></mfenced></math><img id="ib0011" file="imgb0011.tif" wi="142" he="12" img-content="math" img-format="tif"/></maths> <maths id="math0012" num="(7)"><math display="block"><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mrow></msub></mfenced><mo>=</mo><msub><mi mathvariant="normal">E</mi><mrow><mi>inf</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mrow></msub></mrow></msub><mo>+</mo><mfenced separators=""><msub><mi mathvariant="normal">E</mi><mrow><mi>sup</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mrow></msub></mrow></msub><mo>-</mo><msub><mi mathvariant="normal">E</mi><mrow><mi>inf</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mrow></msub></mrow></msub></mfenced><mo>⁢</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mi>inf</mi></msub></mfenced><mo>/</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mi>sup</mi></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mi>inf</mi></msub></mfenced></math><img id="ib0012" file="imgb0012.tif" wi="142" he="12" img-content="math" img-format="tif"/></maths> <maths id="math0013" num="(8)"><math display="block"><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mrow></msub></mfenced><mo>=</mo><msub><mi mathvariant="normal">E</mi><mrow><mi>inf</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mrow></msub></mrow></msub><mo>+</mo><mfenced separators=""><msub><mi mathvariant="normal">E</mi><mrow><mi>sup</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mrow></msub></mrow></msub><mo>-</mo><msub><mi mathvariant="normal">E</mi><mrow><mi>inf</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mrow></msub></mrow></msub></mfenced><mo>⁢</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mi>inf</mi></msub></mfenced><mo>/</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mi>sup</mi></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mi>inf</mi></msub></mfenced></math><img id="ib0013" file="imgb0013.tif" wi="142" he="12" img-content="math" img-format="tif"/></maths> <maths id="math0014" num="(9)"><math display="block"><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mrow></msub></mfenced><mo>=</mo><msub><mi mathvariant="normal">E</mi><mrow><mi>inf</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mrow></msub></mrow></msub><mo>+</mo><mfenced separators=""><msub><mi mathvariant="normal">E</mi><mrow><mi>sup</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mrow></msub></mrow></msub><mo>-</mo><msub><mi mathvariant="normal">E</mi><mrow><mi>inf</mi><mo>,</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">2</mn></mrow></msub></mrow></msub></mfenced><mo>⁢</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mi>inf</mi></msub></mfenced><mo>/</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">f</mi><mi>sup</mi></msub><mo>/</mo><msub><mi mathvariant="normal">f</mi><mi>inf</mi></msub></mfenced></math><img id="ib0014" file="imgb0014.tif" wi="142" he="11" img-content="math" img-format="tif"/></maths></p><p id="p0043" num="0043">Step 2: Obtain the field strength values corresponding to f<sub>1</sub> and f<sub>2</sub> at the actual height through the interpolation of the actual height of the transmit antenna of the primary user transmitter according to the field strength values obtained through equations (6) to (9). <maths id="math0015" num="(10)"><math display="block"><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">t</mi></msub></mfenced><mo>=</mo><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn>1</mn></mrow></msub></mfenced><mo>+</mo><mfenced separators=""><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn>2</mn></mrow></msub></mfenced><mo>-</mo><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn>1</mn></mrow></msub></mfenced></mfenced><mo>⁢</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">t</mi></msub><mo>/</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mrow></msub></mfenced><mo>/</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn>2</mn></mrow></msub><mo>/</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn>1</mn></mrow></msub></mfenced></math><img id="ib0015" file="imgb0015.tif" wi="145" he="12" img-content="math" img-format="tif"/></maths> <maths id="math0016" num="(11)"><math display="block"><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn>2</mn></msub><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">t</mi></msub></mfenced><mo>=</mo><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn>1</mn></mrow></msub></mfenced><mo>+</mo><mfenced separators=""><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn>2</mn></mrow></msub></mfenced><mo>-</mo><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn>1</mn></mrow></msub></mfenced></mfenced><mo>⁢</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">t</mi></msub><mo>/</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn mathvariant="normal">1</mn></mrow></msub></mfenced><mo>/</mo><mi>log</mi><mfenced separators=""><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn>2</mn></mrow></msub><mo>/</mo><msub><mi mathvariant="normal">h</mi><mrow><mi>ref</mi><mo>⁢</mo><mn>1</mn></mrow></msub></mfenced></math><img id="ib0016" file="imgb0016.tif" wi="145" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0044" num="0044">Step 3: Perform field strength curve calibration with respect to the difference between the actual height h<sub>r</sub> of the receive antenna of the sensor node and the receive antenna height reference value h<sub>ref</sub> in the empirical field strength values to obtain the calibration values corresponding to f<sub>1</sub> and f<sub>2</sub>, respectively. <maths id="math0017" num="(12)"><math display="block"><mi mathvariant="normal">ΔC</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub></mfenced><mo>=</mo><mfenced separators=""><mn mathvariant="normal">3.2</mn><mo>+</mo><mn mathvariant="normal">6.2</mn><mo>⁢</mo><mi>lg</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub></mfenced></mfenced><mo>*</mo><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub><mo>/</mo><msub><mi mathvariant="normal">h</mi><mi>ref</mi></msub></mfenced></math><img id="ib0017" file="imgb0017.tif" wi="145" he="9" img-content="math" img-format="tif"/></maths><!-- EPO <DP n="10"> --> <maths id="math0018" num="(13)"><math display="block"><mi mathvariant="normal">ΔC</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn>2</mn></msub><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub></mfenced><mo>=</mo><mfenced separators=""><mn mathvariant="normal">3.2</mn><mo>+</mo><mn mathvariant="normal">6.2</mn><mo>⁢</mo><mi>lg</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced></mfenced><mo>*</mo><mi>lg</mi><mfenced separators=""><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub><mo>/</mo><msub><mi mathvariant="normal">h</mi><mi>ref</mi></msub></mfenced></math><img id="ib0018" file="imgb0018.tif" wi="144" he="12" img-content="math" img-format="tif"/></maths></p><p id="p0045" num="0045">Step 4: Calculate the path loss corresponding to f<sub>1</sub> and f<sub>2</sub>, respectively, and the path loss difference between f<sub>1</sub> and f<sub>2</sub>. <maths id="math0019" num="(14)"><math display="block"><mi mathvariant="normal">L</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub></mfenced><mo>=</mo><mn mathvariant="normal">139.3</mn><mo>-</mo><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">t</mi></msub></mfenced><mo>-</mo><mi mathvariant="normal">ΔC</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub></mfenced><mo>+</mo><mn mathvariant="normal">20</mn><mo>⁢</mo><mi>lg</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub></mfenced></math><img id="ib0019" file="imgb0019.tif" wi="143" he="11" img-content="math" img-format="tif"/></maths> <maths id="math0020" num="(15)"><math display="block"><mi mathvariant="normal">L</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn>2</mn></msub></mfenced><mo>=</mo><mn mathvariant="normal">139.3</mn><mo>-</mo><mi mathvariant="normal">E</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">t</mi></msub></mfenced><mo>-</mo><mi mathvariant="normal">ΔC</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><msub><mi mathvariant="normal">h</mi><mi mathvariant="normal">r</mi></msub></mfenced><mo>+</mo><mn mathvariant="normal">20</mn><mo>⁢</mo><mi>lg</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced></math><img id="ib0020" file="imgb0020.tif" wi="143" he="13" img-content="math" img-format="tif"/></maths> <maths id="math0021" num="(16)"><math display="block"><mi mathvariant="normal">ΔL</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>=</mo><mi mathvariant="normal">L</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub></mfenced><mo>-</mo><mi mathvariant="normal">L</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced></math><img id="ib0021" file="imgb0021.tif" wi="143" he="10" img-content="math" img-format="tif"/></maths></p><p id="p0046" num="0046"><figref idrefs="f0001">FIG. 2</figref> is a schematic diagram of a path loss difference curve in an embodiment of the present invention. In <figref idrefs="f0001">FIG. 2</figref>, the path loss difference curves of two groups of different frequencies are given in a scenario where the actual height of the transmit antenna of the primary user transmitter (for example, a TV transmitter) h<sub>t</sub>= 200 m, and the actual height of the receive antenna of the sensor node h<sub>r</sub>= 30 m. The path loss difference changes with the distance between a transmitter and a receiver. But when the difference between two frequencies is small, for example, two frequencies 800 MHz and 772 MHz in <figref idrefs="f0001">FIG. 2</figref>, the path loss differences of the two frequencies in different locations will not exceed 0.5 dB. With the increase of the frequency difference, the loss difference is gradually larger.</p><p id="p0047" num="0047">Step 5: Calculate the sensing threshold at the target frequency f2 in the location (d) of the sensor node as follows: <maths id="math0022" num=""><math display="block"><mi>Sensing threshold</mi><mspace width="1em"/><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub></mfenced><mo>=</mo><mi>Sensing threshold</mi><mspace width="1em"/><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub></mfenced><mo>+</mo><mi mathvariant="normal">ΔL</mi><mfenced><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">1</mn></msub><msub><mi mathvariant="normal">f</mi><mn mathvariant="normal">2</mn></msub><mi mathvariant="normal">d</mi></mfenced></math><img id="ib0022" file="imgb0022.tif" wi="123" he="9" img-content="math" img-format="tif"/></maths></p><p id="p0048" num="0048">In the foregoing embodiment, the sensor node measures the target frequency band, determines the received signal strength at the used frequency in the target frequency band, and determines the sensing threshold of the unused frequency according to the received signal strength at the used frequencies, so that the sensor node can determine a proper sensing threshold for the unused frequency and the sensing threshold can be set according to the actual environment of the sensor node without the need to learn the transmit power of the primary user transmitter in advance. Factors, such as landform information, may also be effectively screened, thereby avoiding the defect of round planning in the prior art. In addition, with the method provided in the embodiment, the sensing threshold can be simply set and optimized without prior information of the primary user transmitter. Moreover, based on the<!-- EPO <DP n="11"> --> existing prior information of primary user transmitters, the sensing thresholds of multiple primary user transmitters can be set and optimized simultaneously.</p><p id="p0049" num="0049"><figref idrefs="f0002">FIG. 3</figref> is a flowchart of a sensing threshold determining method in another embodiment of the present invention. In the embodiment, the sensing threshold determining method in a scenario where prior information of primary user transmitters can be obtained is described. At present, in some countries, for example, most countries in Europe and America, the utilization information of TV signals is open. That is, the location of each TV tower and frequencies used by each TV tower and the transmit power corresponding to each TV tower are all known and the transmit power of the same TV tower is the same at all frequencies, which means ΔP(f<sub>1</sub>,f<sub>2</sub>)=0 in equation (2). Therefore, for a TV frequency being used, the sensor node can always measure, according to the open prior information, the received signal strength at the frequency being used.</p><p id="p0050" num="0050">As shown in <figref idrefs="f0002">FIG. 3</figref>, the sensing threshold determining method may include the following steps:</p><p id="p0051" num="0051">Step 301: The sensor node queries a database to obtain information, such as the site location, used frequencies, signal mode, and transmit power of a primary user transmitter.</p><p id="p0052" num="0052">Step 302: The sensor node measures the frequencies used by the primary user transmitter to obtain the received signal strength of the sensor node at the used frequencies and determines the correspondence between the received signal strength of the sensor node at the used frequencies and the used frequencies of the primary user transmitter.</p><p id="p0053" num="0053">Step 303: The sensor node determines a sensing threshold for unused frequencies in the target frequency band according to the received signal strength of the sensor node at the used frequencies.</p><p id="p0054" num="0054">Specifically, in an implementation manner of the embodiment, the sensor node queries the database to determine the primary user transmitter that uses the unused frequencies in the target frequency band, and according the received signal strength of the sensor node at the used frequencies, determines the sensing threshold when the primary user transmitter uses the unused frequencies in the target frequency band.</p><p id="p0055" num="0055">In another implementation manner of the embodiment, when the sensor node cannot determine the primary user transmitter that uses the unused frequencies in the target<!-- EPO <DP n="12"> --> frequency band, the sensor node may determine, according to the received signal strength of the sensor node at the used frequencies, the sensing thresholds when all primary user transmitters around the sensor node use the unused frequencies in the target frequency band, and may select a lowest sensing threshold in the determined sensing thresholds as the sensing threshold for the unused frequencies in the target frequency band.</p><p id="p0056" num="0056">For the sensing threshold determining method, reference can be made to the method provided in the embodiment of the present invention shown in <figref idrefs="f0001">FIG. 1</figref>, and details are not repeated herein.</p><p id="p0057" num="0057">In the embodiment, if the signals received by the sensor node at a frequency are superposed signals from multiple primary user transmitters, the sensor node cannot differentiate the respective received signal strength of different primary user transmitters at the frequency, and therefore, cannot determine the sensing threshold of the unused frequencies in the target frequency band.</p><p id="p0058" num="0058">In the embodiment, when the sensor node can obtain the prior information of primary user transmitters, the sensor node can learn which primary user transmitters around the location of the sensor node use the same frequency. the sensor node measures the frequencies used by the primary user transmitters to obtain the received signal strength of the sensor node at the used frequencies of the primary user transmitters, which can adopt one of the following manners:</p><p id="p0059" num="0059">(1) When the sensor node determines that there is at least one common frequency in the frequencies used by at least two primary user transmitters and there is at least one frequency in addition to the common frequency in the frequencies used by the at least two primary user transmitters, the sensor node measures the frequencies other than the common frequency in the frequencies used by the at least two primary user transmitters to determine the received signal strength of the sensor node at the frequencies other than the common frequency for the at least two primary user transmitters.</p><p id="p0060" num="0060">For example, it is assumed that the frequencies used by primary user transmitter 1 are f<sub>1</sub>, f<sub>2</sub>, and f<sub>3</sub>, that is, &lt;primary user transmitter 1, (f<sub>1</sub>, f<sub>2</sub>, f<sub>3</sub>), (S<sub>1</sub>, S<sub>2</sub>, ?)&gt;, where S<sub>1</sub> and S<sub>2</sub> are the received signal strength of the sensor node at f<sub>1</sub> and f<sub>2</sub>, respectively; it is assumed the frequencies used by primary user transmitter 2 are f<sub>3</sub>, f<sub>4</sub>, and f<sub>5</sub>, that is, &lt;primary user<!-- EPO <DP n="13"> --> transmitter 2, (f<sub>3</sub>, f<sub>4</sub>, f<sub>5</sub>), (?, S<sub>4</sub>, S<sub>5</sub>)&gt;, where S<sub>4</sub> and S<sub>5</sub> are the received signal strength of the sensor node at f<sub>4</sub> and f<sub>5</sub>, respectively. In this case, the sensor node may not measure the common frequency f<sub>3</sub>. With regard to primary user transmitter 1, the sensor node may measure f<sub>2</sub> or f<sub>3</sub> to determine the received signal strength of the sensor node at f<sub>2</sub> or f<sub>3</sub>; with regard to primary user transmitter 2, the sensor node may measure f<sub>4</sub> or f<sub>5</sub> to determine the received signal strength of the sensor node at f<sub>4</sub> or f<sub>5</sub>.</p><p id="p0061" num="0061">(2) When the sensor node determines, according to the used frequencies of the primary user transmitter, that all frequencies used by a first primary user transmitter around the sensor node are the same as a portion of frequencies used by a second primary user transmitter around the sensor node, the sensor node measures any of the frequencies used by the second primary user transmitter that are different from the frequencies used by the first primary user transmitter to determine the received signal strength of the sensor node at the above any used frequency for the second primary user transmitter; according to the received signal strength at the above any used frequency, the sensor node uses the method provided in the embodiment of the present invention shown in <figref idrefs="f0001">FIG. 1</figref> to determine the received signal strength of the sensor node at the same used frequencies as the first primary user transmitter for the second primary user transmitter and then subtracts the received signal strength of the sensor node at the same used frequencies as the first primary user transmitter for the second primary user transmitter from the superposed signal strength received by the sensor node at the same frequencies used by the first primary user transmitter and the second primary user transmitter to obtain the received signal strength of the sensor node at the same used frequencies for the first primary user transmitter.</p><p id="p0062" num="0062">For example, it is assumed that the frequencies used by primary user transmitter 1 are f<sub>1</sub> and f<sub>2</sub>, that is, &lt;primary user transmitter 1, (f<sub>1</sub>, f<sub>2</sub>), (?, ?)&gt;; it is assumed that the frequencies used by primary user transmitter 2 are f<sub>1</sub>, f<sub>2</sub>, and f<sub>3</sub>, that is, &lt;primary user transmitter 2, (f<sub>1</sub>, f<sub>2</sub>, f<sub>3</sub>), (?, ?, S<sub>3</sub>)&gt;, where S<sub>3</sub> is the received signal strength of the sensor node at f<sub>3</sub>. In this case, the sensor node measures f<sub>3</sub> to determine the received signal strength of the sensor node at f<sub>3</sub> for primary user transmitter 2; then according to the received signal strength of the sensor node at f<sub>3</sub> for primary user transmitter 2, the sensor node uses the method provided in the embodiment of the present invention shown in <figref idrefs="f0001">FIG. 1</figref> to determine the<!-- EPO <DP n="14"> --> received signal strength of the sensor node at f<sub>1</sub> and f<sub>2</sub> for primary user transmitter 2; then the sensor node subtracts the received signal strength of the sensor node at f<sub>1</sub> for primary user transmitter 2 from the superposed signal strength received by the sensor node at f1 to obtain the received signal strength of the sensor node at f<sub>1</sub> for primary user transmitter 1 and likewise, subtracts the received signal strength of the sensor node at f<sub>2</sub> for primary user transmitter 2 from the superposed signal strength received by the sensor node at f<sub>2</sub> to obtain the received signal strength of the sensor node at f<sub>2</sub> for primary user transmitter 1.</p><p id="p0063" num="0063">(3) When the sensor node determines, according to the used frequencies of the primary user transmitter, that at least two of the primary user transmitters around the sensor node use the same frequencies, the sensor node cannot differentiate the received signal strength corresponding to each primary user transmitter. In this case, the sensor node can only set the sensing threshold to the lowest value defined in a protocol. For example, the lowest TV signal sensing threshold defined in the Federal Communication Commission (Federal Communication Commission, abbreviated to FCC) is -114 dBm.</p><p id="p0064" num="0064">In the foregoing embodiment, the sensor node can determine a proper sensing threshold for an unused frequency, and the sensing threshold can be set according to the actual environment of the sensor node without the need to learn the transmit power of the primary user transmitter in advance. Factors, such as landform information, can also be effectively screened, thereby avoiding the defect of round planning in the prior art. In addition, with the method provided in the embodiment, the sensing threshold can be simply set and optimized without prior information of the primary user transmitter. Moreover, based on the existing prior information of primary user transmitters, the sensing thresholds of multiple primary user transmitters can be set and optimized simultaneously.</p><p id="p0065" num="0065"><figref idrefs="f0002">FIG. 4</figref> is a flowchart of a sensing threshold determining method in still another embodiment of the present invention. In the embodiment, the sensing threshold determining method in a scenario where the prior information of primary user transmitters cannot be obtained is described. At present, in some countries and regions, China for example, the utilization information of TV signals is not open, that is, the sensor node cannot correctly learn in advance information, such as the locations, used frequencies, and transmit power of all TV towers. The sensor node needs to measure the entire frequency band of a primary user<!-- EPO <DP n="15"> --> transmitter to find out which frequencies are being used and the received signal strength of the sensor node at these frequencies, so as to further determine the sensing thresholds of unused frequencies in the target frequency band in the location of the sensor node.</p><p id="p0066" num="0066">As shown in <figref idrefs="f0002">FIG. 4</figref>, the sensing threshold determining method may include the following steps:</p><p id="p0067" num="0067">Step 401: The sensor node measures the target frequency band, determines the frequencies used by a primary user transmitter in the current location of the sensor node and the received signal strength of the sensor node at the used frequencies, and determines the correspondence between the received signal strength of the sensor node at the used frequencies and the used frequencies of the primary user transmitter.</p><p id="p0068" num="0068">Step 402: The sensor node determines a sensing threshold for unused frequencies in the target frequency band according to the received signal strength of the sensor node at the used frequencies.</p><p id="p0069" num="0069">In the embodiment, because the sensor node cannot determine the primary user transmitter that uses the unused frequencies in the target frequency band, the sensor node needs to determine, according to the received signal strength of the sensor node at the used frequencies, the sensing thresholds when all primary user transmitters around the sensor node use the unused frequencies in the target frequency band, and selects a lowest sensing threshold in the determined sensing thresholds as the sensing threshold for the unused frequencies in the target frequency band.</p><p id="p0070" num="0070">For the sensing threshold determining method, reference can be made to the method provided in the embodiment of the present invention shown in <figref idrefs="f0001">FIG. 1</figref>, and details are not repeated herein.</p><p id="p0071" num="0071">If the signals received by the sensor node at a frequency are superposed signals from multiple primary user transmitters, the sensor node cannot differentiate the respective received signal strength of different primary user transmitters at the frequency, and therefore, cannot determine the sensing threshold of the unused frequencies in the target frequency band. In the embodiment, because the sensor node cannot obtain prior information of primary user transmitters, the sensor node can only set the sensing threshold to the lowest value that is<!-- EPO <DP n="16"> --> defined in a protocol. For example, the lowest TV signal sensing threshold defined in the FCC is -114 dBm.</p><p id="p0072" num="0072">In the foregoing embodiment, the sensor node can determine a proper sensing threshold for an unused frequency, and the sensing threshold can be set according to the actual environment of the sensor node without the need to learn the transmit power of the primary user transmitter in advance. Factors, such as landform information, can also be effectively screened, thereby avoiding the defect of round planning in the prior art. In addition, with the method provided in the embodiment, the sensing threshold can be simply set and optimized without prior information of the primary user transmitter. Moreover, based on the existing prior information of primary user transmitters, the sensing thresholds of multiple primary user transmitters can be set and optimized simultaneously.</p><p id="p0073" num="0073">Persons of ordinary skill in the art can understand that all or part of the steps in the method embodiment can be implemented by a program instructing relevant hardware. The program is stored in a computer readable storage medium and when the program is executed, the steps in the method embodiment are executed. The storage medium is any medium that can store program codes, such as a ROM, a RAM, a magnetic disk, or a CD-ROM.</p><p id="p0074" num="0074"><figref idrefs="f0003">FIG. 5</figref> is a schematic structural diagram of a sensor node device in an embodiment of the present invention. In the embodiment, the sensor node device can implement the procedure of the embodiment of the present invention shown in <figref idrefs="f0001">FIG. 1</figref>. As shown in <figref idrefs="f0003">FIG. 5</figref>, the sensor node device includes:
<ul><li>a measuring module 51, configured to measure a target frequency band and determine used frequencies in the target frequency band and the received signal strength of the sensor node device at the used frequencies, where the used frequencies in the target frequency band include frequencies being used or having been used by a primary user transmitter in the target frequency band; and</li><li>a determining module 52, configured to determine a sensing threshold for unused frequencies in the target frequency band according to the received signal strength at the used frequencies determined by the measuring module 51, where the unused frequencies include frequencies that are not used by the primary user transmitter in the frequency band.</li></ul><!-- EPO <DP n="17"> --></p><p id="p0075" num="0075">In the embodiment, the measuring module 51 measures the target frequency band and determines the received signal strength at the used frequencies in the target frequency band, and the determining module 52 determines the sensing threshold of the unused frequencies according to the received signal strength at the used frequencies determined by the measuring module, so that the sensor node device can determine a proper sensing threshold for the unused frequencies and the sensing threshold can be set according to the actual environment of the sensor node device without the need to learn the transmit power of the primary user transmitter in advance. Factors, such as landform information, can also be effectively screened, thereby avoiding the defect of round planning in the prior art. In addition, with the sensor node device provided in the embodiment, the sensing threshold can be simply set and optimized without prior information of the primary user transmitter. Moreover, based on the existing prior information of primary user transmitters, the sensing thresholds of multiple primary user transmitters can be set and optimized simultaneously.</p><p id="p0076" num="0076"><figref idrefs="f0003">FIG. 6</figref> is a schematic structural diagram of a sensor node device in another embodiment of the present invention. The sensor node device in the embodiment can implement the procedures of the embodiments shown in <figref idrefs="f0001">FIG. 1</figref>, <figref idrefs="f0002">FIG. 3, and FIG. 4</figref>. Compared with the sensor node device shown in <figref idrefs="f0003">FIG. 5</figref>, the difference lies in that, in the sensor node device shown in <figref idrefs="f0003">FIG. 6</figref>, the determining module 52 may calculate the path loss difference of the primary user transmitter between the used frequencies and the unused frequencies and calculate a sum of the received signal strength at the used frequencies, the path loss difference of the primary user transmitter between the used frequencies and the unused frequencies, and the transmit power difference of the primary user transmitter between the used frequencies and the unused frequencies, where the sum of the received signal strength, the path loss difference, and the transmit power difference is used as the sensing threshold of the unused frequencies in the target frequency band.</p><p id="p0077" num="0077">Specifically, in an implementation manner of the embodiment, the determining module 52 may first determine a channel model formula between the primary user transmitter and the sensor node device and then calculate the path loss difference of the primary user transmitter between the used frequencies and the unused frequencies according to the formula.<!-- EPO <DP n="18"> --></p><p id="p0078" num="0078">In another implementation manner of the embodiment, the determining module 52 may include:
<ul><li>a field strength value obtaining submodule 521, configured to determine two transmit antenna height reference values from the empirical field strength values of a channel model between the primary user transmitter and the sensor node device according to the actual height of the transmit antenna of the primary user transmitter, and obtain the field strength values corresponding to the used frequencies and the unused frequencies at the heights corresponding to the two transmit antenna height reference values through frequency interpolation; and according to the above field strength values corresponding to the used frequencies and the unused frequencies, obtain the field strength values corresponding to the used frequencies and the unused frequencies at the actual height through the interpolation of the actual height of the transmit antenna of the primary user transmitter;</li><li>a calibrating submodule 522, configured to perform field strength curve calibration with respect to the difference between the actual height of the receive antenna of the sensor node device and the receive antenna height reference value in the empirical field strength values, and obtain the calibration values corresponding to the used frequencies and the unused frequencies; and</li><li>a calculating submodule 523, configured to calculate the path loss corresponding to the used frequencies according to the field strength values that are corresponding to the used frequencies and are obtained by the field strength value obtaining submodule 521 and the calibration values that are corresponding to the used frequencies and are obtained by the calibrating submodule 522; calculate the path loss corresponding to the unused frequencies according to the field strength values that are corresponding to the unused frequencies and are obtained by the field strength value obtaining submodule 521 and the calibration values that are corresponding to the unused frequencies and are obtained by the calibrating submodule 522; and calculate the path loss difference of the primary user transmitter between the used frequencies and the unused frequencies according to the path loss corresponding to the used frequencies and the path loss corresponding to the unused frequencies; and calculate a sum of the received signal strength at the used frequencies determined by the measuring module 51, the path loss difference of the primary user transmitter between the used frequencies and the<!-- EPO <DP n="19"> --> unused frequencies, and the transmit power difference of the primary user transmitter between the used frequencies and the unused frequencies, where the sum of the received signal strength, the path loss difference, and the transmit power difference is used as the sensing threshold of the unused frequencies in the target frequency band.</li></ul></p><p id="p0079" num="0079">Further, in the embodiment, the sensor node device may also include:
<ul><li>a querying module 53, configured to query a database to obtain the site location, used frequencies, signal mode, and transmit power of the primary user transmitter; then, the measuring module 51 may measure the frequencies used by the primary user transmitter to obtain the received signal strength of the sensor node device at the used frequencies.</li></ul></p><p id="p0080" num="0080">In addition, the querying module 53 may query the database to determine the primary user transmitter using the unused frequencies in the target frequency band, and the determining module 52 may determine, according to the received signal strength of the sensor node device at the used frequencies, the sensing threshold when the primary user transmitter uses the unused frequencies in the target frequency band.</p><p id="p0081" num="0081">In addition, the determining module 52 may measure the target frequency band and determine the frequencies used by the primary user transmitter in the current location of the sensor node device and the received signal strength of the sensor node device at the used frequencies.</p><p id="p0082" num="0082">In the embodiment, when the primary user transmitter that uses the unused frequencies in the target frequency band cannot be determined, the determining module 52 may determine, according to the received signal strength of the sensor node device at the used frequencies, the sensing thresholds when all primary user transmitters around the sensor node device use the unused frequencies in the target frequency band, and may select a lowest sensing threshold in the determined sensing thresholds as the sensing threshold for the unused frequencies in the target frequency band.</p><p id="p0083" num="0083">In the embodiment, when it is determined according to the used frequencies of the primary user transmitter that there is at least one common frequency in the frequencies used by at least two primary user transmitters and there is at least one frequency in addition to the common frequency in the frequencies used by the at least two primary user transmitters, the measuring module 51 may measure the frequencies other than the common frequency in the<!-- EPO <DP n="20"> --> frequencies used by the at least two primary user transmitters to determine the received signal strength of the sensor node device at the frequencies other than the common frequency for the at least two primary user transmitters; or, when it is determined according to the used frequencies of the primary user transmitter that all frequencies used by a first primary user transmitter around the sensor node device are the same as a portion of frequencies used by a second primary user transmitter around the sensor node device, the measuring module 51 may measure any of the frequencies used by the second primary user transmitter that are different from the frequencies used by the first primary user transmitter to determine the received signal strength of the sensor node device at the above any used frequency for the second primary user transmitter; the measuring module 51 determines the received signal strength of the sensor node device at the same used frequencies as the first primary user transmitter for the second primary user transmitter according to the received signal strength at the above any used frequency, and then subtracts the received signal strength of the sensor node at the same used frequencies as the first primary user transmitter for the second primary user transmitter from the superposed signal strength received by the sensor node at the same frequencies used by the first primary user transmitter and the second primary user transmitter to obtain the received signal strength of the sensor node at the same used frequencies for the first primary user transmitter.</p><p id="p0084" num="0084">The sensor node device can determine a proper sensing threshold for an unused frequency and the sensing threshold can be set according to the actual environment of the sensor node device without the need to learn the transmit power of the primary user transmitter in advance. Factors, such as landform information, can also be effectively screened, thereby avoiding the defect of round planning in the prior art. In addition, with the sensor node device provided in the embodiment, the sensing threshold can be simply set and optimized without prior information of the primary user transmitter. Moreover, based on the existing prior information of primary user transmitters, the sensing thresholds of multiple primary user transmitters can be set and optimized simultaneously.</p><p id="p0085" num="0085">Those skilled in the art should understand that the accompanying drawings illustrate the exemplary embodiments of the present invention and the modules or procedures<!-- EPO <DP n="21"> --> in the accompanying drawings may probably not be necessary for the implementation manner of the present invention.</p><p id="p0086" num="0086">Those skilled in the art understand the modules of the device in the embodiments may be disposed in the apparatuses as described in the embodiments or disposed in one or more apparatuses other than the apparatuses in the embodiments. The modules in the embodiments may be combined into one module or further decomposed to several submodules.</p><p id="p0087" num="0087">Finally, it should be noted that the above embodiments are used only to describe the technical solutions of the present invention instead of limiting the present invention. Although the present invention is described in detail with reference to the embodiments, those of ordinary skill in the art should understand that they can still make modifications to the technical solutions described in the embodiments or make equivalent substitutions to some technical features thereof without departing from the spirit and scope of the technical solutions of the embodiments of the present invention.</p></description><claims mxw-id="PCLM56976441" lang="EN" load-source="patent-office"><!-- EPO <DP n="22"> --><claim id="c-en-0001" num="0001"><claim-text>A sensing threshold determining method, comprising:
<claim-text>measuring, by a sensor node, a target frequency band and determining a used frequency in the target frequency band and received signal strength of the sensor node at the used frequency, wherein the used frequency in the target frequency band comprises a frequency being used or having been used by a primary user transmitter in the target frequency band; and</claim-text>
<claim-text>determining, by the sensor node, a sensing threshold for an unused frequency in the target frequency band according to the received signal strength at the used frequency, wherein the unused frequency comprises a frequency not used by the primary user transmitter in the target frequency band.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method according to claim 1, wherein the determining, by the sensor node, the sensing threshold for the unused frequency in the target frequency band according to the received signal strength at the used frequency comprises:
<claim-text>calculating, by the sensor node, a path loss difference of the primary user transmitter between the used frequency and the unused frequency; and</claim-text>
<claim-text>calculating, by the sensor node, a sum of the received signal strength at the used frequency, the path loss difference of the primary user transmitter between the used frequency and the unused frequency, and a transmit power difference of the primary user transmitter between the used frequency and the unused frequency, wherein the sum of the received signal strength, the path loss difference, and the transmit power difference is used as the sensing threshold for the unused frequency in the target frequency band.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method according to claim 2, wherein the calculating the path loss difference of the primary user transmitter between the used frequency and the unused frequency comprises:
<claim-text>determining, by the sensor node, a channel model formula between the primary user transmitter and the sensor node; and<!-- EPO <DP n="23"> --></claim-text>
<claim-text>calculating, by the sensor node, the path loss difference of the primary user transmitter between the used frequency and the unused frequency according to the formula.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method according to claim 2 or 3, wherein the calculating the path loss difference of the primary user transmitter between the used frequency and the unused frequency comprises:
<claim-text>determining, by the sensor node, two transmit antenna height reference values from empirical field strength values of a channel model between the primary user transmitter and the sensor node according to an actual height of a transmit antenna of the primary user transmitter and obtaining field strength values corresponding to the used frequency and the unused frequency at heights corresponding to the two transmit antenna height reference values through frequency interpolation;</claim-text>
<claim-text>obtaining, according to the field strength values corresponding to the used frequency and the unused frequency, field strength values corresponding to the used frequency and the unused frequency at the actual height through interpolation of the actual height of the transmit antenna of the primary user transmitter;</claim-text>
<claim-text>performing field strength curve calibration with respect to a difference between an actual height of a receive antenna of the sensor node and a receive antenna height reference value in the empirical field strength values and obtaining the calibration values corresponding to the used frequency and the unused frequency, respectively;</claim-text>
<claim-text>calculating path loss corresponding to the used frequency according to a field strength value corresponding to the used frequency at the actual height and a calibration value corresponding to the used frequency; calculating path loss corresponding to the unused frequency according to a field strength value corresponding to the unused frequency at the actual height and a calibration value corresponding to the unused frequency; and</claim-text>
<claim-text>calculating the path loss difference of the primary user transmitter between the used frequency and the unused frequency according to the path loss corresponding to the used frequency and the path loss corresponding to the unused frequency.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method according to claim 1, wherein before the measuring, by the sensor node, the target frequency band and determining the used frequency in the target frequency band<!-- EPO <DP n="24"> --> and the received signal strength of the sensor node at the used frequency, the method further comprises:
<claim-text>querying, by the sensor node, a database to obtain a site location, a used frequency, a signal mode, and transmit power of the primary user transmitter;</claim-text>
<claim-text>the measuring, by the sensor node, the target frequency band and determining the used frequency in the target frequency band and the received signal strength of the sensor node at the used frequency comprise:
<claim-text>measuring, by the sensor node, the frequency used by the primary user transmitter to obtain the received signal strength of the sensor node at the used frequency.</claim-text></claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method according to claim 5, wherein the determining, by the sensor node, the sensing threshold for the unused frequency in the target frequency band according to the received signal strength at the used frequency comprises:
<claim-text>querying, by the sensor node, the database to determine a primary user transmitter that uses the unused frequency in the target frequency band, and according the received signal strength of the sensor node at the used frequency, determining the sensing threshold when the primary user transmitter uses the unused frequency in the target frequency band.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method according to claim 1, wherein the measuring, by the sensor node, the target frequency band and determining the used frequency in the target frequency band and the received signal strength of the sensor node at the used frequency comprise:
<claim-text>measuring, by the sensor node, the target frequency band and determining the frequency used by the primary user transmitter in a current location of the sensor node and the received signal strength of the sensor node at the used frequency.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method according to claim 5 or 7, wherein the determining, by the sensor node, the sensing threshold for the unused frequency in the target frequency band according to the received signal strength at the used frequency comprises:
<claim-text>when the sensor node cannot determine a primary user transmitter that uses the unused frequency in the target frequency band, determining, by the sensor node according to the received signal strength of the sensor node at the used frequency, sensing thresholds when all primary user transmitters around the sensor node use the unused frequencies in the target<!-- EPO <DP n="25"> --> frequency band and selecting a lowest sensing threshold in the determined sensing thresholds as the sensing threshold for the unused frequency in the target frequency band.</claim-text></claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method according to claim 5, wherein the measuring, by the sensor node, the target frequency band and determining the used frequency in the target frequency band and the received signal strength of the sensor node at the used frequency comprise:
<claim-text>when the sensor node determines, according to a used frequency of a primary user transmitter, that there is at least one common frequency in frequencies used by at least two primary user transmitters and there is at least one frequency in addition to the common frequency in the frequencies used by the at least two primary user transmitters, measuring, by the sensor node, a frequency other than the common frequency in the frequencies used by the at least two primary user transmitters to determine received signal strength of the sensor node at the frequency other than the common frequency for the at least two primary user transmitters; or</claim-text>
<claim-text>when the sensor node determines, according to a used frequency of a primary user transmitter, that all frequencies used by a first primary user transmitter around the sensor node are the same as a portion of frequencies used by a second primary user transmitter around the sensor node, measuring, by the sensor node, any of the frequencies used by the second primary user transmitter that are different from the frequencies used by the first primary user transmitter to determine received signal strength of the sensor node at the above any used frequency for the second primary user transmitter; determining received signal strength of the sensor node at same used frequencies as the first primary user transmitter for the second primary user transmitter according to the received signal strength at the above any used frequency, and subtracting the received signal strength of the sensor node at the same used frequencies as the first primary user transmitter for the second primary user transmitter from superposed signal strength received by the sensor node at the same frequencies used by the first primary user transmitter and the second primary user transmitter to obtain received signal strength of the sensor node at the same used frequencies for the first primary user transmitter.</claim-text></claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A sensor node device, comprising:
<claim-text>a measuring module, configured to measure a target frequency band and determine a used frequency in the target frequency band and received signal strength of the sensor node<!-- EPO <DP n="26"> --> device at the used frequency, wherein the used frequency in the target frequency band comprises a frequency being used or having been used by a primary user transmitter in the target frequency band; and</claim-text>
<claim-text>a determining module, configured to determine a sensing threshold for an unused frequency in the target frequency band according to the received signal strength at the used frequency determined by the measuring module, wherein the unused frequency comprises a frequency not used by the primary user transmitter in the target frequency band.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The device according to claim 10, wherein the determining module is specifically configured to calculate a path loss difference of the primary user transmitter between the used frequency and the unused frequency and calculate a sum of the received signal strength at the used frequency, the path loss difference of the primary user transmitter between the used frequency and the unused frequency, and a transmit power difference of the primary user transmitter between the used frequency and the unused frequency, where the sum of the received signal strength, the path loss difference, and the transmit power difference is used as the sensing threshold for the unused frequency in the target frequency band.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The device according to claim 11, wherein the determining module is specifically configured to determine a channel model formula between the primary user transmitter and the sensor node device and calculate the path loss difference of the primary user transmitter between the used frequency and the unused frequency according to the formula.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The device according to claim 11 or 12, wherein the determining module comprises:
<claim-text>a field strength value obtaining submodule, configured to determine two transmit antenna height reference values from empirical field strength values of a channel model between the primary user transmitter and the sensor node device according to an actual height of a transmit antenna of the primary user transmitter and obtain field strength values corresponding to the used frequency and the unused frequency at heights corresponding to the two transmit antenna height reference values through frequency interpolation; and according to the field strength values corresponding to the used frequency and the unused frequency, obtain field strength values corresponding to the used frequency and the unused frequency at the actual height through interpolation of the actual height of the transmit antenna of the primary user transmitter;<!-- EPO <DP n="27"> --></claim-text>
<claim-text>a calibrating submodule, configured to perform field strength curve calibration with respect to a difference between an actual height of a receive antenna of the sensor node device and a receive antenna height reference value in the empirical field strength values and obtain the calibration values corresponding to the used frequency and the unused frequency, respectively; and</claim-text>
<claim-text>a calculating submodule, configured to calculate path loss corresponding to the used frequency according to a field strength value corresponding to the used frequency and obtained by the field strength value obtaining submodule and a calibration value corresponding to the used frequency and obtained by the calibrating submodule; calculate path loss corresponding to the unused frequency according to a field strength value corresponding to the unused frequency and obtained by the field strength value obtaining submodule and a calibration value corresponding to the unused frequency and obtained by the calibrating submodule; and calculate the path loss difference of the primary user transmitter between the used frequency and the unused frequency according to the path loss corresponding to the used frequency and the path loss corresponding to the unused frequency; and calculate a sum of the received signal strength at the used frequency, the path loss difference of the primary user transmitter between the used frequency and the unused frequency, and the transmit power difference of the primary user transmitter between the used frequency and the unused frequency, wherein the sum of the received signal strength, the path loss difference, and the transmit power difference is used as the sensing threshold for the unused frequency in the target frequency band.</claim-text></claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>The device according to claim 10, further comprising:
<claim-text>a querying module, configured to query a database to obtain a site location, a used frequency, a signal mode, and transmit power of the primary user transmitter; wherein</claim-text>
<claim-text>the measuring module is specifically configured to measure the frequency used by the primary user transmitter to obtain the received signal strength of the sensor node device at the used frequency.</claim-text></claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The device according to claim 14, wherein:
<claim-text>the querying module is further configured to query the database to determine a primary user transmitter that uses the unused frequency in the target frequency band; and<!-- EPO <DP n="28"> --></claim-text>
<claim-text>the determining module is specifically configured to determine, according to the received signal strength of the sensor node device at the used frequency, the sensing threshold when the primary user transmitter uses the unused frequency in the target frequency band.</claim-text></claim-text></claim><claim id="c-en-0016" num="0016"><claim-text>The device according to claim 10, wherein the determining module is specifically configured to measure the target frequency band and determine the frequency used by the primary user transmitter in a current location of the sensor node device and the received signal strength of the sensor node device at the used frequency.</claim-text></claim><claim id="c-en-0017" num="0017"><claim-text>The device according to claim 14 or 16, wherein the determining module is specifically configured to determine, according to the received signal strength of the sensor node device at the used frequency when a primary user transmitter that uses the unused frequency in the target frequency band cannot be determined, sensing thresholds when all primary user transmitters around the sensor node device use the unused frequencies in the target frequency band, and select a lowest sensing threshold in the determined sensing thresholds as the sensing threshold for the unused frequency in the target frequency band.</claim-text></claim><claim id="c-en-0018" num="0018"><claim-text>The device according to claim 14, wherein:
<claim-text>the measuring module is specifically configured to, when it is determined according to a used frequency of a primary user transmitter that there is at least one common frequency in frequencies used by at least two primary user transmitters and there is at least one frequency in addition to the common frequency in the frequencies used by the at least two primary user transmitters, measure a frequency other than the common frequency in the frequencies used by the at least two primary user transmitters to determine received signal strength of the sensor node at the frequency other than the common frequency for the at least two primary user transmitters; or</claim-text>
<claim-text>the measuring module is specifically configured to, when it is determined according to a used frequency of a primary user transmitter that all frequencies used by a first primary user transmitter around the sensor node device are the same as a portion of frequencies used by a second primary user transmitter around the sensor node device, measure any of the frequencies used by the second primary user transmitter that are different from the frequencies used by the first primary user transmitter to determine received signal strength of the sensor node device at the above any used frequency for the second primary user transmitter;<!-- EPO <DP n="29"> --> determine received signal strength of the sensor node device at same used frequencies as the first primary user transmitter for the second primary user transmitter according to the received signal strength at the above any used frequency and subtract the received signal strength of the sensor node device at the same used frequencies as the first primary user transmitter for the second primary user transmitter from superposed signal strength received by the sensor node device at the same frequencies used by the first primary user transmitter and the second primary user transmitter to obtain received signal strength of the sensor node device at the same used frequencies for the first primary user transmitter.</claim-text></claim-text></claim></claims><drawings mxw-id="PDW16667221" load-source="patent-office"><!-- EPO <DP n="30"> --><figure id="f0001" num="1,2"><img id="if0001" file="imgf0001.tif" wi="141" he="166" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0002" num="3,4"><img id="if0002" file="imgf0002.tif" wi="144" he="199" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0003" num="5,6"><img id="if0003" file="imgf0003.tif" wi="152" he="139" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="163" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="165" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
