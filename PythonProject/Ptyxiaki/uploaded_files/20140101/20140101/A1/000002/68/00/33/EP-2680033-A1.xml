<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680033-A1" country="EP" doc-number="2680033" kind="A1" date="20140101" family-id="48692240" file-reference-id="284560" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549536" ucid="EP-2680033-A1"><document-id><country>EP</country><doc-number>2680033</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13003155-A" is-representative="YES"><document-id mxw-id="PAPP154823459" load-source="docdb" format="epo"><country>EP</country><doc-number>13003155</doc-number><kind>A</kind><date>20130620</date><lang>EN</lang></document-id><document-id mxw-id="PAPP186634467" load-source="docdb" format="original"><country>EP</country><doc-number>13003155.2</doc-number><date>20130620</date></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140451553" ucid="US-201213538376-A" load-source="docdb"><document-id format="epo"><country>US</country><doc-number>201213538376</doc-number><kind>A</kind><date>20120629</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988096862" load-source="docdb">G01S   5/12        20060101ALI20130919BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988117223" load-source="docdb">G01S  13/87        20060101AFI20130919BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL1988112816" load-source="docdb" scheme="CPC">G01S  13/878       20130101 LI20130918BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988920575" load-source="docdb" scheme="CPC">G01S   5/12        20130101 FI20140103BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988927467" load-source="docdb" scheme="CPC">G01S  13/876       20130101 LI20140103BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132181092" lang="DE" load-source="patent-office">Positionsbestimmung mittels Umlaufverzögerung und Ankunftswinkel</invention-title><invention-title mxw-id="PT132181093" lang="EN" load-source="patent-office">Position determination using round-trip delay and angle-of-arrival</invention-title><invention-title mxw-id="PT132181094" lang="FR" load-source="patent-office">Détermination de position à l'aide de l'angle d'arrivée et du temps de propagation aller-retour</invention-title><citations><patent-citations><patcit mxw-id="PCIT364780770" load-source="docdb" ucid="EP-1094335-A1"><document-id format="epo"><country>EP</country><doc-number>1094335</doc-number><kind>A1</kind><date>20010425</date></document-id><sources><source name="SEA" category="XI" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT364780772" load-source="docdb" ucid="US-20080274753-A1"><document-id format="epo"><country>US</country><doc-number>20080274753</doc-number><kind>A1</kind><date>20081106</date></document-id><sources><source name="SEA" category="XI" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242652630" load-source="docdb" ucid="US-20100177681-A1"><document-id format="epo"><country>US</country><doc-number>20100177681</doc-number><kind>A1</kind><date>20100715</date></document-id><sources><source name="SEA" category="I" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT364780771" load-source="docdb" ucid="WO-2002063327-A2"><document-id format="epo"><country>WO</country><doc-number>2002063327</doc-number><kind>A2</kind><date>20020815</date></document-id><sources><source name="SEA" category="XI" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>None</text><sources><source mxw-id="PNPL45131190" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918142575" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>BROADCOM CORP</last-name><address><country>US</country></address></addressbook></applicant><applicant mxw-id="PPAR918144979" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>BROADCOM CORPORATION</last-name></addressbook></applicant><applicant mxw-id="PPAR918993646" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Broadcom Corporation</last-name><iid>100956827</iid><address><street>5300 California Avenue</street><city>Irvine, CA 92617</city><country>US</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918155434" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>VAN DIGGELEN FRANK</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918165390" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>VAN DIGGELEN, FRANK</last-name></addressbook></inventor><inventor mxw-id="PPAR918982850" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>VAN DIGGELEN, FRANK</last-name><address><street>1269 Echo Valley Drive</street><city>San Jose, CA 95120</city><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918158657" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>BELOV VLADIMIR</last-name><address><country>US</country></address></addressbook></inventor><inventor mxw-id="PPAR918166744" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>BELOV, VLADIMIR</last-name></addressbook></inventor><inventor mxw-id="PPAR918988019" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>BELOV, VLADIMIR</last-name><address><street>33300 Mission Blvd, Apt 162</street><city>Union City, CA 94587</city><country>US</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918991944" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Jehle, Volker Armin</last-name><iid>101075865</iid><address><street>Bosch Jehle Patentanwaltsgesellschaft mbH Flüggenstrasse 13</street><city>80639 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548805510" load-source="docdb">AL</country><country mxw-id="DS548873888" load-source="docdb">AT</country><country mxw-id="DS548805512" load-source="docdb">BE</country><country mxw-id="DS548843721" load-source="docdb">BG</country><country mxw-id="DS548806645" load-source="docdb">CH</country><country mxw-id="DS548871144" load-source="docdb">CY</country><country mxw-id="DS548873889" load-source="docdb">CZ</country><country mxw-id="DS548805513" load-source="docdb">DE</country><country mxw-id="DS548871145" load-source="docdb">DK</country><country mxw-id="DS548871146" load-source="docdb">EE</country><country mxw-id="DS548888513" load-source="docdb">ES</country><country mxw-id="DS548843722" load-source="docdb">FI</country><country mxw-id="DS548867594" load-source="docdb">FR</country><country mxw-id="DS548805514" load-source="docdb">GB</country><country mxw-id="DS548871147" load-source="docdb">GR</country><country mxw-id="DS548805515" load-source="docdb">HR</country><country mxw-id="DS548873894" load-source="docdb">HU</country><country mxw-id="DS548806658" load-source="docdb">IE</country><country mxw-id="DS548871148" load-source="docdb">IS</country><country mxw-id="DS548867595" load-source="docdb">IT</country><country mxw-id="DS548871149" load-source="docdb">LI</country><country mxw-id="DS548843723" load-source="docdb">LT</country><country mxw-id="DS548897337" load-source="docdb">LU</country><country mxw-id="DS548843724" load-source="docdb">LV</country><country mxw-id="DS548843725" load-source="docdb">MC</country><country mxw-id="DS548897346" load-source="docdb">MK</country><country mxw-id="DS548897347" load-source="docdb">MT</country><country mxw-id="DS548888518" load-source="docdb">NL</country><country mxw-id="DS548873895" load-source="docdb">NO</country><country mxw-id="DS548897348" load-source="docdb">PL</country><country mxw-id="DS548871150" load-source="docdb">PT</country><country mxw-id="DS548888519" load-source="docdb">RO</country><country mxw-id="DS548871151" load-source="docdb">RS</country><country mxw-id="DS548897349" load-source="docdb">SE</country><country mxw-id="DS548805516" load-source="docdb">SI</country><country mxw-id="DS548873896" load-source="docdb">SK</country><country mxw-id="DS548897350" load-source="docdb">SM</country><country mxw-id="DS548806659" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128670205" lang="EN" load-source="patent-office"><p id="pa01" num="0001">Embodiments provide systems and methods for position determination. In an embodiment, position is estimated using round-trip delay measurements based on one or more received signals. In another embodiment, position is estimated by further using angle-of-arrival measurements based on one or more received signals. Embodiments may be used by a fixed or mobile device to self-learn its position and to assist other nearby devices learn their positions.
<img id="iaf01" file="imgaf001.tif" wi="151" he="116" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499578" lang="EN" source="EPO" load-source="docdb"><p>Embodiments provide systems and methods for position determination. In an embodiment, position is estimated using round-trip delay measurements based on one or more received signals. In another embodiment, position is estimated by further using angle-of-arrival measurements based on one or more received signals. Embodiments may be used by a fixed or mobile device to self-learn its position and to assist other nearby devices learn their positions.</p></abstract><description mxw-id="PDES63955635" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001"><b>Field of the Invention</b></heading><p id="p0001" num="0001">The present disclosure relates generally to positioning systems.</p><heading id="h0002">BACKGROUND</heading><heading id="h0003"><b>Background Art</b></heading><p id="p0002" num="0002">A common positioning solution, particularly for indoor environments, relies on fixed access points (e.g., WiFi access points) assisting mobile devices, such as cellular handsets, to determine their positions. This solution requires that the access points know their positions. Today, access points are pre-configured with their positions upon installation, which makes this solution both expensive and time consuming.</p><heading id="h0004">BRIEF SUMMARY OF THE INVENTION</heading><p id="p0003" num="0003">According to an aspect, a method for position estimation comprises:
<ul><li>receiving, at a device, first, second, and third signals, the first, second, and third signals transmitted from first, second, and third locations, respectively;</li><li>calculating first, second, and third round-trip delays from the first, second, and third signals, respectively;</li><li>calculating first, second, and third distance estimates based on the first, second, and third round-trip delays, respectively, wherein the first, second, and third distance estimates estimate distances from the device to the first, second, and third locations, respectively; and<!-- EPO <DP n="2"> --></li><li>computing a position estimate of the device based on the first, second, and third distance estimates.</li></ul></p><p id="p0004" num="0004">Advantageously, the device is a fixed access point or a mobile device.</p><p id="p0005" num="0005">Advantageously, at least one of the first, second, and third signals is transmitted by a mobile device.</p><p id="p0006" num="0006">Advantageously, the first, second, and third signals are transmitted by a same mobile device.</p><p id="p0007" num="0007">Advantageously, at least one of the first, second, and third signals is transmitted by a fixed access point.</p><p id="p0008" num="0008">Advantageously, the device is a fixed access point, and wherein at least one of the first, second, and third signals is transmitted by another fixed access point.</p><p id="p0009" num="0009">Advantageously, at least one of the first, second, and third signals includes a wireless local area network (WLAN) frame.</p><p id="p0010" num="0010">Advantageously, the first, second, and third signals include respectively first, second, and third position estimates, the first, second, and third position estimates associated respectively with the first, second, and third locations.<!-- EPO <DP n="3"> --></p><p id="p0011" num="0011">Advantageously, computing the position estimate of the device comprises computing the position estimate based on the first, second, and third distance estimates and the first, second, and third position estimates.</p><p id="p0012" num="0012">According to an aspect, a method for position estimation comprises:
<ul><li>receiving, at a device, first and second signals, the first and second signals transmitted from first and second locations, respectively;</li><li>calculating first and second round-trip delays from the first and second signals, respectively;</li><li>calculating first and second distance estimates based on the first and second round-trip delays, respectively, wherein the first and second distance estimates estimate distances from the device to the first and second locations, respectively;</li><li>calculating first and second angles of arrival from the first and second signals, respectively; and</li><li>computing a position estimate of the device based on the first and second distance estimates and the first and second angles of arrival.</li></ul></p><p id="p0013" num="0013">Advantageously, the first and second signals include respectively first and second position estimates, the first and second position estimates associated respectively with the first and second locations.</p><p id="p0014" num="0014">Advantageously, computing the position estimate of the device comprises computing an azimuth angle of the device based on the first and second position estimates and the first and second angles of arrival.<!-- EPO <DP n="4"> --></p><p id="p0015" num="0015">Advantageously, computing the position estimate of the device comprises computing the position estimate based on the azimuth angle, the first position estimate, and the first angle of arrival.</p><p id="p0016" num="0016">Advantageously, the method further comprises:
<ul><li>receiving a third signal, the third signal transmitted from a third location by another device;</li><li>calculating a third round-trip delay from the third signal;</li><li>calculating a third distance estimate based on the third round-trip delay, wherein the third distance estimate estimates a distance from the device to the third location;</li><li>calculating a third angle of arrival from the third signal; and</li><li>computing a third position estimate of the third location based on the azimuth angle, the third distance estimate, and the third angle of arrival.</li></ul></p><p id="p0017" num="0017">Advantageously, the device is a fixed access point or a mobile device.</p><p id="p0018" num="0018">Advantageously, at least one of the first and second signals is transmitted by a mobile device or by a fixed access point.</p><p id="p0019" num="0019">Advantageously, the first and second signals are transmitted by a same mobile device.</p><p id="p0020" num="0020">Advantageously, the first and second signals are transmitted by different mobile devices.<!-- EPO <DP n="5"> --></p><p id="p0021" num="0021">According to an aspect, a positioning network comprises:
<ul><li>a first device configured to receive a first signal from a mobile device and to calculate a first distance estimate to the mobile device;</li><li>a second device configured to receive a second signal from the mobile device and to calculate a second distance estimate to the mobile device; and</li><li>a third device configured to receive a third signal from the mobile device and to calculate a third distance estimate to the mobile device,</li><li>wherein the first device is further configured to compute a position estimate of the mobile device based on the first, second, and third distance estimates and position estimates of the first, second, and third devices.</li></ul></p><p id="p0022" num="0022">Advantageously, the first device is further configured to communicate the position estimate to the mobile device.</p><heading id="h0005">BRIEF DESCRIPTION OF THE DRAWINGS/FIGURES</heading><p id="p0023" num="0023">The accompanying drawings, which are incorporated herein and form a part of the specification, illustrate the present disclosure and, together with the description, further serve to explain the principles of the disclosure and to enable a person skilled in the pertinent art to make and use the disclosure.</p><p id="p0024" num="0024"><figref idrefs="f0001">FIG. 1</figref> illustrates an example embodiment of the present disclosure.</p><p id="p0025" num="0025"><figref idrefs="f0002">FIG. 2</figref> illustrates an example embodiment of the present disclosure.</p><p id="p0026" num="0026"><figref idrefs="f0003">FIG. 3</figref> illustrates an example embodiment of the present disclosure.</p><p id="p0027" num="0027"><figref idrefs="f0004">FIG. 4</figref> illustrates an example embodiment of the present disclosure.</p><p id="p0028" num="0028"><figref idrefs="f0005">FIG. 5</figref> illustrates an example embodiment of the present disclosure.</p><p id="p0029" num="0029"><figref idrefs="f0006">FIG. 6</figref> is a process flowchart of a method according to an embodiment of the present disclosure.<!-- EPO <DP n="6"> --></p><p id="p0030" num="0030"><figref idrefs="f0007">FIG. 7</figref> is a process flowchart of a method according to an embodiment of the present disclosure.</p><p id="p0031" num="0031"><figref idrefs="f0008">FIG. 8</figref> is a process flowchart of a method according to an embodiment of the present disclosure.</p><p id="p0032" num="0032"><figref idrefs="f0009">FIG. 9</figref> illustrates an example computer system that can be used to implement aspects of the present disclosure.</p><p id="p0033" num="0033">The present disclosure will be described with reference to the accompanying drawings. Generally, the drawing in which an element first appears is typically indicated by the leftmost digit(s) in the corresponding reference number.</p><heading id="h0006">DETAILED DESCRIPTION OF EMBODIMENTS</heading><p id="p0034" num="0034"><figref idrefs="f0001">FIG. 1</figref> illustrates an example 100 of an embodiment of the present disclosure. Example 100 is provided for the purpose of illustration only and is not limiting. As shown in <figref idrefs="f0001">FIG. 1</figref>, example 100 includes a device 102 and a plurality of mobile devices 104a-c, in the vicinity of a location 106. Location 106 may be an indoor location, such as a shopping area, office environment, etc., or an outdoor location. Devices 104a-c may be different devices or may represent the same device at different times and locations.</p><p id="p0035" num="0035">Device 102 may be any device capable of wireless communication. For example, device 102 may communicate according to a wireless local area network (WLAN) protocol, such as the IEEE 802.11 protocol, or Bluetooth. Other wireless radio technologies may also be used by device 102, including any technology with communication ranges that can enable embodiments of the present disclosure as described herein. Device 102 may be fixed or mobile. For example, device 102 may be a WLAN or Bluetooth access point, which may or may not be connected to a network such as the Internet.</p><p id="p0036" num="0036">In embodiments, device 102 may be configured to assist in enabling a positioning solution in the vicinity of location 106. In one embodiment, device 102 is a fixed device and is pre-configured with its position. Device 102 may be further configured to transmit a signal that includes its position to other<!-- EPO <DP n="7"> --> devices in the vicinity of location 106. The other devices may use the signal to estimate their own positions using techniques such as triangulation, multi-lateration, etc.</p><p id="p0037" num="0037">In another embodiment, device 102 is fixed or mobile and is configured to self-learn its position. After learning its position, device 102 may assist other devices in determining their positions as described above. Specifically, device 102 may be configured to receive one or more signals transmitted from one or more locations and to use the signals to determine its own position. The one or more signals may be transmitted by one or more fixed or mobile devices. In an embodiment, the one or more signals each includes a position estimate of the location from which it is transmitted.</p><p id="p0038" num="0038">According to embodiments, device 102 may rely on any number of signals to determine its position. A better position estimate is obtained when more signals are received, and an exact position can be determined when signals transmitted from at least three different locations are received by device 102. For example, as shown in <figref idrefs="f0001">FIG. 1</figref>, device 102 may receive a signal from each of mobile devices 104a-c, located at three different locations in the vicinity of location 106. It is noted that the signals may be received from the same device or from different devices. For example, in <figref idrefs="f0001">FIG. 1</figref>, mobile devices 104a-c may represent the same device or two or more devices around device 102.</p><p id="p0039" num="0039">The signal includes a position estimate of the mobile device at the time that the signal is transmitted. The position estimate of the mobile device may be obtained through a variety of positioning techniques, including Global Navigation Satellite System (GNSS) (e.g., Global Positioning System (GPS), GLONASS, etc.), cellular triangulation, and WLAN triangulation, for example. The position estimate may be current or a last known position of the mobile device.</p><p id="p0040" num="0040">In an embodiment, the signal received from a mobile device 104 may be part of a signal exchange between device 102 and mobile device 104. For example, the signal may be part of a negotiation process undertaken while mobile device 104 attempts to connect to a wireless network advertised by device 102. In an embodiment, the signal includes a WLAN frame, such as an<!-- EPO <DP n="8"> --> IEEE 802.11 frame. The WLAN frame may be modified to include the position estimate of the mobile device.</p><p id="p0041" num="0041">In an embodiment, device 102 uses two or more frames included in the signal exchange between itself and a mobile device 104 to estimate a round-trip signal propagation delay to the mobile device. For example, device 102 may transmit a first frame to mobile device 104 and store a first timestamp value at, or immediately before, the time of transmission. Mobile device 104 may respond to the first frame by transmitting a second frame to device 102. Device 102 determines a second timestamp value at the time of reception of the second frame and estimates the round-trip delay as the difference between the second timestamp value and the first timestamp value. Device 102 may also account for known constant processing delays at device 102 (e.g., time delay between the setting of the first timestamp value and the actual transmission of the first frame, time delay between the actual reception of the second frame and the setting of the second timestamp value, etc.) and mobile device 104 (e.g., processing time between the reception of the first frame and the transmission of the second frame).</p><p id="p0042" num="0042">In other embodiments, the round-trip delay is estimated over more than two frames exchanged between device 102 and mobile device 104. Further, device 102 may perform several round-trip delay estimate measurements, each performed using two or more frames as described above, and then determine the round-trip delay estimate as the average of the several measurements.</p><p id="p0043" num="0043">Using the round-trip delay estimate, device 102 may estimate its distance to mobile device 104. In an embodiment, the distance, d, between device 102 and mobile device 104 is estimated as (RTD*c)/2, where RTD is the round-trip delay estimate and c is the speed of light. With at least three signals transmitted from three different locations, as shown in <figref idrefs="f0001">FIG. 1</figref>, for example, device 102 may determine at least three distance estimates d<sub>1</sub>, d<sub>2</sub>, and d<sub>3</sub>, which estimate the distances between device 102 and at least three different locations. The at least three distance estimates, together with the at least three position estimates of the three locations included in the at least three signals, allow device 102 to estimate its own position.<!-- EPO <DP n="9"> --></p><p id="p0044" num="0044">In embodiments, device 102 may use any number of received signals to estimate its position. For example, device 102 may receive a first signal transmitted from a first location by device 104a. Device 102 may use the first signal to determine distance estimate d<sub>1</sub> to the first location. This places device 102 anywhere on a circle centered at the first location and having a radius equal to d<sub>1</sub>. Subsequently, device 102 may receive a second signal transmitted from a second location by mobile device 104b. The second signal allows device 102 to determine distance estimate d<sub>2</sub> to the second location and to further refine its knowledge of its position. Specifically, device 102 may now determine that it is positioned at either one of two points of intersection (or at the point of tangency) of two circles centered at the first and second locations and having radii equal to d<sub>1</sub> and d<sub>2</sub>, respectively. Then, device 102 may receive a third signal transmitted from a third location by mobile device 104c. The third signal allows device 102 to determine distance estimate d<sub>3</sub> to the third location and to now determine a position estimate by triangulation, for example, based on distance estimates d<sub>1</sub>, d<sub>2</sub>, and d<sub>3</sub>. As subsequent signals are received from other locations, device 102 may continue to refine its position estimate by performing a multi-lateration process, for example.</p><p id="p0045" num="0045">In an embodiment, after learning its position (e.g., determining a position estimate), device 102 may assist other devices in determining their own positions. This is illustrated in <figref idrefs="f0002">FIG. 2</figref>, which shows an example 200 according to an embodiment of the present disclosure. Specifically, example 200 illustrates three devices 202a-c with learned positions (either pre-configured or self-learned) assisting a fourth device 202d to determine its position. Devices 202a-d may be similar to device 102 described above.</p><p id="p0046" num="0046">In an embodiment, device 202d may perform similar position determination algorithms (e.g., based on round-trip delay measurements) as described above with respect to device 102. Accordingly, device 202d may determine its position based on signals received from devices 202a-c.</p><p id="p0047" num="0047">In another embodiment, device 202d may not support round-trip delay based position determination. Accordingly, devices 202a-c may cooperate to determine the position of device 202d. For example, devices 202a-c may individually estimate their respective distances to device 202d (e.g., using<!-- EPO <DP n="10"> --> round-trip delay measurement) and then share the distance estimates and their own position estimates with each other. In an embodiment, the distance estimates and the position estimates of devices 202a-c are all gathered at one of devices 202a-c (e.g., device 202a), which calculates a position estimate of device 202d and then transmits the position estimate to device 202d. In a similar fashion, devices 202a-c may cooperate to enable a mobile device 302 learn its position, as illustrated in example 300 of <figref idrefs="f0003">FIG. 3</figref>.</p><p id="p0048" num="0048">In an embodiment, devices 202a-d may be part of a fixed access point network that spans one or more indoor and/or outdoor locations. As soon as three access points (e.g., devices 202a-c) of the network learn their positions (either through pre-configuration or by self-learning), position learning may propagate to other access points (e.g., device 202d) in the network. In an embodiment, the access point network may extend over several adjacent buildings, with position learning starting in one building with three access points (e.g., devices 202a-c) learning their respective positions and then spreading to other nearby access points in the same building or in an adjacent building, for example.</p><p id="p0049" num="0049">An access point in the network may re-compute its position as desired. In an embodiment, the access point may periodically determine the validity of its position, and if its position is no longer valid may attempt to compute a new position estimate. For example, the access point may store the received positions of neighboring access points. Subsequently, the access point may (periodically, for example) compute the positions of the neighboring access points based on its current position estimate and subsequent signal exchanges with the neighboring access points. If the access point determines that all neighboring access points appear to have moved (e.g., the re-computed position does not match the stored position for every neighboring access point), then the access point infers that it has been moved and attempts to re-calculate its position. Otherwise, if some, but not all, of the neighboring access points appear to have moved, then the access point infers that some of the neighboring access points have been moved but that it has not been moved.</p><p id="p0050" num="0050">In other embodiments of the present disclosure, a device, such as device 102 or devices 202a-c, for example, further includes the ability to calculate the<!-- EPO <DP n="11"> --> angle-of-arrival (AOA) of a received signal. With this ability, the device may estimate its position with signals received from only two different locations (instead of three different locations).</p><p id="p0051" num="0051">An example 400 of such embodiments is provided in <figref idrefs="f0004">FIG. 4</figref>, which shows a device 402 and two mobile devices 408a and 408b in communication range of each other. Device 402 may be like device 102 described above in <figref idrefs="f0001">FIG. 1</figref>. In particular, device 402 may estimate distances to other devices based on signal exchanges with the other devices as described above, and more specifically, in an embodiment, based on round-trip delay measurements to the other devices.</p><p id="p0052" num="0052">In addition, device 402 includes an antenna array, including at least two antennas 404a and 404b. The antenna array allows device 402 to determine the angle-of-arrival of a received signal by calculating at least one phase difference (or time difference) between multiple versions of the signal received by the at least two antennas 404a and 404b. In an embodiment, the angle-of-arrival of a received signal is measured relative to a reference axis 406 of device 402.</p><p id="p0053" num="0053">In an embodiment, device 402 may perform a signal exchange with each of mobile devices 408a and 408b located at first and second different locations. Based on the signal exchanges, device 402 estimates distances d<sub>1</sub> and d<sub>2</sub> to the first and second locations and receives position estimates of the first and second locations, in a similar manner as described above with respect to device 102 in <figref idrefs="f0001">FIG. 1</figref>. In addition, based on one or more signals from each signal exchange, device 402 estimates an angle-of-arrival α<sub>1</sub> for signals received from mobile device 408a and an angle-of-arrival α<sub>2</sub> for signals received from mobile device 408b. In an embodiment, α<sub>1</sub> and α<sub>2</sub> are determined relative to reference axis 406 of device 402.</p><p id="p0054" num="0054">Device 402 may then compute an estimate of its position using the position estimates of the first and second locations, distance estimates d<sub>1</sub> and d<sub>2</sub>, and angles of arrival α<sub>1</sub> and α<sub>2</sub>. In an embodiment, device 402 first computes an azimuth angle, which represents the orientation of device 402 relative to the magnetic North according to the formula: <maths id="math0001" num="(1)"><math display="block"><mi mathvariant="italic">az</mi><mo>=</mo><mi>arcsin</mi><mfenced><mfrac><mrow><msub><mi mathvariant="italic">lat</mi><mn>1</mn></msub><mo>-</mo><msub><mi mathvariant="italic">lat</mi><mn>2</mn></msub></mrow><mi>S</mi></mfrac></mfenced><mo>-</mo><mi>arcsin</mi><mspace width="1em"/><mfenced><mfrac><mrow><msub><mi>d</mi><mn>2</mn></msub><mspace width="1em"/><mi mathvariant="italic">sin</mi><mspace width="1em"/><msub><mi>α</mi><mn>2</mn></msub><mo>-</mo><msub><mi>d</mi><mn>1</mn></msub><mspace width="1em"/><mi mathvariant="italic">sin</mi><mspace width="1em"/><msub><mi>α</mi><mn>1</mn></msub></mrow><mi>S</mi></mfrac></mfenced></math><img id="ib0001" file="imgb0001.tif" wi="165" he="17" img-content="math" img-format="tif"/></maths><br/>
<!-- EPO <DP n="12"> -->where <maths id="math0002" num=""><math display="inline"><mi>s</mi><mo>=</mo><msqrt><msubsup><mi>d</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>d</mi><mn>2</mn><mn>2</mn></msubsup><mo>-</mo><mn>2</mn><mo>⁢</mo><msub><mi>d</mi><mn>1</mn></msub><mo>⁢</mo><msub><mi>d</mi><mn>2</mn></msub><mo>⁢</mo><mi>cos</mi><mfenced separators=""><msub><mi>α</mi><mn>1</mn></msub><mo>-</mo><msub><mi>α</mi><mn>2</mn></msub></mfenced></msqrt><mo>,</mo></math><img id="ib0002" file="imgb0002.tif" wi="67" he="14" img-content="math" img-format="tif" inline="yes"/></maths> <i>lat</i><sub>1</sub> is the latitude of the first location, and <i>lat</i><sub>2</sub> is the latitude of the second location.</p><p id="p0055" num="0055">Then, device 402 may estimate its own position using the equations: <maths id="math0003" num="(2)"><math display="block"><msub><mi mathvariant="italic">lat</mi><mn>0</mn></msub><mo>=</mo><msub><mi mathvariant="italic">lat</mi><mn>1</mn></msub><mo>+</mo><msub><mi>d</mi><mn>1</mn></msub><mspace width="1em"/><mi>cos</mi><mfenced separators=""><msub><mi>α</mi><mn>1</mn></msub><mo>+</mo><mi mathvariant="italic">az</mi></mfenced><mspace width="1em"/><mi>and</mi><mspace width="1em"/><msub><mi mathvariant="italic">lon</mi><mn>0</mn></msub><mo>=</mo><msub><mi mathvariant="italic">lon</mi><mn>1</mn></msub><mo>+</mo><msub><mi mathvariant="normal">d</mi><mn>1</mn></msub><mspace width="1em"/><mi>sin</mi><mspace width="1em"/><mfenced separators=""><msub><mi>α</mi><mn>1</mn></msub><mo>+</mo><mi mathvariant="italic">az</mi></mfenced></math><img id="ib0003" file="imgb0003.tif" wi="165" he="9" img-content="math" img-format="tif"/></maths><br/>
where <i>lat</i><sub>0</sub> and <i>lon</i><sub>0</sub> are the latitude and longitude of device 402 respectively. Alternatively, device 402 may use the latitude and longitude of the second location, distance estimate d<sub>2</sub>, and angle-of-arrival α<sub>2</sub> in equations (2) to estimate its position.</p><p id="p0056" num="0056">As would be understood by a person of skill in the art based on the teachings herein, the azimuth angle and the position estimate may be computed using any coordinate system (e.g., latitude/longitude, x,y coordinates referenced to an origin point, local polar coordinate system, etc.) according to embodiments of the present disclosure. A person of skill in the art would appreciate that equations (1) and (2) above can readily transformed to use any other coordinate system.</p><p id="p0057" num="0057">In other embodiments, device 402 may have prior knowledge of its azimuth angle. For example, device 402 may include a magnetometer that provides the orientation of device 402 relative to the magnetic North, may be pre-configured with its orientation, or may have already computed its azimuth angle based on two received signals as described above. In such embodiments, device 402 may estimate its position by performing a signal exchange with only one of mobile devices 408a and 408b. For example, device 402 may perform a signal exchange with mobile device 408a to learn a position estimate of mobile device 408a, and to estimate the distance d<sub>1</sub> to mobile device 408a and the angle-of-arrival α<sub>1</sub> for signals received from mobile device 408a. Then, device 402 may use equation (2) above to estimate its position based on the position estimate of mobile device 408a, the distance d<sub>1</sub>, and the angle-of-arrival α<sub>1</sub>.</p><p id="p0058" num="0058">In an embodiment, after learning its position and orientation, device 402 may assist other devices in determining their own positions. This is illustrated in <figref idrefs="f0005">FIG. 5</figref>, which shows an example 500 according to an embodiment of the present disclosure. Specifically, example 500 illustrates three devices 502a-c, which may be fixed or mobile, and a mobile device 504. Devices 502a and<!-- EPO <DP n="13"> --> 502b have knowledge of their respective positions and orientations (either pre-configured or self-learned).</p><p id="p0059" num="0059">In an embodiment, device 502c may perform similar position determination algorithms (e.g., based on round-trip delay and angle-of-arrival measurements) as described above with respect to device 402. Accordingly, device 502c may determine its position and orientation based on signal exchanges with each of devices 502a and 502b.</p><p id="p0060" num="0060">In another embodiment, device 502c may not support position determination algorithms. In such embodiment, device 502a and/or device 502b, which know their respective positions and orientations, may assist device 502c to learn its position. In an embodiment, device 502a (or 502b) may perform a signal exchange with device 502c to estimate a distance to device 502c and an angle-of-arrival for signals received from device 502c. Then, device 502a (or 502b) may use equations (2) above to determine the coordinates of device 502c. Device 502a (or 502b) may then share the determined coordinates with device 502c. In a similar fashion, device 502a may assist a mobile device 504 determine its position.</p><p id="p0061" num="0061">In an embodiment, devices 502a-c may be part of a fixed access point network that spans one or more indoor and/or outdoor locations. As soon as one access point (e.g., device 502a) of the network learns its position and orientation (either through pre-configuration or by self-learning), position learning may propagate to other access points (e.g., device 502c) in the network. In an embodiment, the access point network may extend over several adjacent buildings, with position learning starting in one building with a single access point (e.g., devices 502a) learning its position and orientation and then spreading to other nearby access points in the same building or in an adjacent building, for example.</p><p id="p0062" num="0062"><figref idrefs="f0006">FIG. 6</figref> is a process flowchart 600 of a method for position estimation according to an embodiment of the present disclosure. Process 600 may be performed by a fixed device, such as an access point (e.g., WLAN access point), or by a mobile device, such as a cellular handset.</p><p id="p0063" num="0063">As shown in <figref idrefs="f0006">FIG. 6</figref>, process 600 begins in step 602, which includes receiving, at a device, first, second, and third signals transmitted from first,<!-- EPO <DP n="14"> --> second, and third locations, respectively. The first, second, and third signals include respectively first, second, and third position estimates, associated respectively with the first, second, and third locations. In embodiments, the first, second, and third signals may be transmitted by any combination of fixed and mobile devices. For example, the first signal may be transmitted by a mobile device, and the second and third signals may be transmitted by fixed devices. Two or more of the first, second, and third signals may also be transmitted by the same mobile device. In an embodiment, at least one of the first, second, and third signals includes a wireless local area network (WLAN) frame, such as a 802.11 frame.</p><p id="p0064" num="0064">Subsequently, process 600 proceeds to step 604, which includes calculating first, second, and third round-trip delays from the first, second, and third signals, respectively. In an embodiment, the first, second, and third signals are received in step 602 following one or more signal exchanges between the device and each of the transmitting devices at the first, second, and third locations. For example, the first signal may be received from a first mobile device in response to a previous signal transmitted from the device to the mobile device. The first signal may include a timestamp that can be used to estimate the round-trip signal propagation delay between the device and the first mobile device. In an embodiment, at least one of the first, second, and third round-trip delays is calculated as an average of multiple round-trip delay measurements.</p><p id="p0065" num="0065">Process 600 then proceeds to step 606, which includes calculating first, second, and third distance estimates based on the first, second, and third round-trip delays, respectively. The first, second, and third distance estimates estimate distances from the device to the first, second, and third locations, respectively. In an embodiment, the first, second, and third distance estimates are calculated based on the first, second, and third round-trip delays and the speed of light. For example, the first/second/third distance estimate may be calculated as the first/second/third round-trip delay, divided by two, and multiplied by the speed of light.</p><p id="p0066" num="0066">Process 600 terminates in step 608, which includes computing a position estimate of the device based on the first, second, and third distance estimates.<!-- EPO <DP n="15"> --> In an embodiment, step 608 includes computing the position estimate of the device based on the first, second, and third distance estimates and the first, second, and third position estimates.</p><p id="p0067" num="0067"><figref idrefs="f0007">FIG. 7</figref> is a process flowchart 700 of a method for position estimation according to an embodiment of the present disclosure. Process 700 may be performed by a fixed device, such as an access point (e.g., WLAN access point), or by a mobile device, such as a cellular handset.</p><p id="p0068" num="0068">As shown in <figref idrefs="f0007">FIG. 7</figref>, process 700 begins in step 702, which includes receiving, at a device, first and second signals transmitted from first and second locations, respectively. The first and second signals include respectively first and second position estimates, associated respectively with the first and second locations. In embodiments, the first and second signals may be transmitted by any combination of fixed and mobile devices. For example, the first signal may be transmitted by a mobile device, and the second signal may be transmitted by a fixed device. The first and second signals may also be transmitted by the same mobile device. In an embodiment, at least one of the first and second signals includes a wireless local area network (WLAN) frame, such as a 802.11 frame.</p><p id="p0069" num="0069">Process 700 then proceeds to step 704, which includes calculating first and second round-trip delays from the first and second signals, respectively. In an embodiment, the first and second signals are received in step 702 following one or more signal exchanges between the device and each of the transmitting devices at the first and second locations. For example, the first signal may be received from a first mobile device in response to a previous signal transmitted from the device to the mobile device. The first signal may include a timestamp that can be used to estimate the round-trip signal propagation delay between the device and the first mobile device. In an embodiment, at least one of the first and second round-trip delays is calculated as an average of multiple round-trip delay measurements.</p><p id="p0070" num="0070">At the same or at a different time, in step 706, process 700 includes calculating first and second angles of arrival from the first and second signals, respectively. In an embodiment, calculating the first/second angle of arrival<!-- EPO <DP n="16"> --> includes calculating at least one phase difference between multiple versions of the first/second signal received by multiple antennas of the device.</p><p id="p0071" num="0071">After step 704, process 700 includes, in step 708, calculating first and second distance estimates based on the first and second round-trip delays. The first and second distance estimates estimate distances from the device to the first and second locations, respectively. In an embodiment, the first and second distance estimates are calculated based on the first and second round-trip delays and the speed of light. For example, the first/second distance estimate may be calculated as the first/second round-trip delay, divided by two, and multiplied by the speed of light.</p><p id="p0072" num="0072">Process 700 terminates in step 710, which includes computing a position estimate and/or an orientation of the device based on the first and second distance estimates and the first and second angles of arrival. In an embodiment, step 710 further includes computing an azimuth angle of the device based on the first and second position estimates and the first and second angles of arrival, and then computing the position estimate based on the azimuth angle, the first (or second) position estimate, and the first (or second) angle of arrival. In an embodiment, the azimuth angle represents an angular separation of a reference axis of the device (relative to which the first and second angles of arrival are measured) relative to the magnetic North.</p><p id="p0073" num="0073">At the end of process 700, the device has an estimate of its position (e.g., latitude, longitude) and its orientation (azimuth angle). With this information, the device may assist other devices to obtain position estimates. This is illustrated in <figref idrefs="f0008">FIG. 8</figref>, which shows a process flowchart 800 of a method according to an embodiment of the present disclosure. Process 800 may be performed by a fixed device, such as an access point (e.g., WLNA access point), or by a mobile device, such as a cellular handset.</p><p id="p0074" num="0074">As shown in <figref idrefs="f0008">FIG. 8</figref>, process 800 begins in step 802, which includes receiving, at the device, a first signal transmitted from a first location. The first signal is transmitted by another device located at the first location and that is trying to determine its position.</p><p id="p0075" num="0075">Subsequently, in step 804, process 800 includes calculating a first round-trip delay and a first angle-of-arrival based on the first signal. In an<!-- EPO <DP n="17"> --> embodiment, the first signal is received in step 802 following one or more signal exchanges between the device and the other device at the first location. For example, the first signal may be received from a mobile device in response to a previous signal transmitted from the device to the mobile device. The first signal may include a timestamp that can be used to estimate the round-trip signal propagation delay between the device and the mobile device. In an embodiment, the first round-trip delay is calculated as an average of multiple round-trip delay measurements. In an embodiment, step 804 further includes calculating a first distance estimate to the first location based on the first round-trip delay.</p><p id="p0076" num="0076">Process 800 terminates in step 806, which includes computing a position estimate of the first location based on the first round-trip delay and the first angle-of-arrival. In an embodiment, step 806 further includes using the known position and azimuth angle of the device and the first distance estimate to the first location to compute the position estimate. The device may then communicate the position estimate to the other device located at the first location.</p><p id="p0077" num="0077">It will be apparent to persons skilled in the relevant art(s) that various elements and features of the present disclosure, as described herein, can be implemented in hardware using analog and/or digital circuits, in software, through the execution of instructions by one or more general purpose or special-purpose processors, or as a combination of hardware and software.</p><p id="p0078" num="0078">The following description of a general purpose computer system is provided for the sake of completeness. Embodiments of the present disclosure can be implemented in hardware, or as a combination of software and hardware. Consequently, embodiments of the disclosure may be implemented in the environment of a computer system or other processing system. An example of such a computer system 900 is shown in <figref idrefs="f0009">FIG. 9</figref>. Embodiments described in <figref idrefs="f0001 f0002 f0003 f0004 f0005">FIGs. 1-5</figref> may execute on one or more computer systems 900. Furthermore, each of the steps of the processes depicted in <figref idrefs="f0006">FIGs. 6</figref>, <figref idrefs="f0007">7</figref>, and <figref idrefs="f0008">8</figref> can be implemented on one or more computer systems 900.</p><p id="p0079" num="0079">Computer system 900 includes one or more processors, such as processor 904. Processor 904 can be a special purpose or a general purpose<!-- EPO <DP n="18"> --> digital signal processor. Processor 904 is connected to a communication infrastructure 902 (for example, a bus or network). Various software implementations are described in terms of this exemplary computer system. After reading this description, it will become apparent to a person skilled in the relevant art(s) how to implement the disclosure using other computer systems and/or computer architectures.</p><p id="p0080" num="0080">Computer system 900 also includes a main memory 906, preferably random access memory (RAM), and may also include a secondary memory 908. Secondary memory 908 may include, for example, a hard disk drive 910 and/or a removable storage drive 912, representing a floppy disk drive, a magnetic tape drive, an optical disk drive, or the like. Removable storage drive 912 reads from and/or writes to a removable storage unit 916 in a well-known manner. Removable storage unit 916 represents a floppy disk, magnetic tape, optical disk, or the like, which is read by and written to by removable storage drive 912. As will be appreciated by persons skilled in the relevant art(s), removable storage unit 916 includes a computer usable storage medium having stored therein computer software and/or data.</p><p id="p0081" num="0081">In alternative implementations, secondary memory 908 may include other similar means for allowing computer programs or other instructions to be loaded into computer system 900. Such means may include, for example, a removable storage unit 918 and an interface 914. Examples of such means may include a program cartridge and cartridge interface (such as that found in video game devices), a removable memory chip (such as an EPROM, or PROM) and associated socket, a thumb drive and USB port, and other removable storage units 918 and interfaces 914 which allow software and data to be transferred from removable storage unit 918 to computer system 900.</p><p id="p0082" num="0082">Computer system 900 may also include a communications interface 920. Communications interface 920 allows software and data to be transferred between computer system 900 and external devices. Examples of communications interface 920 may include a modem, a network interface (such as an Ethernet card), a communications port, a PCMCIA slot and card, etc. Software and data transferred via communications interface 920 are in the form of signals which may be electronic, electromagnetic, optical, or other signals<!-- EPO <DP n="19"> --> capable of being received by communications interface 920. These signals are provided to communications interface 920 via a communications path 922. Communications path 922 carries signals and may be implemented using wire or cable, fiber optics, a phone line, a cellular phone link, an RF link and other communications channels.</p><p id="p0083" num="0083">As used herein, the terms "computer program medium" and "computer readable medium" are used to generally refer to tangible storage media such as removable storage units 916 and 918 or a hard disk installed in hard disk drive 910. These computer program products are means for providing software to computer system 900.</p><p id="p0084" num="0084">Computer programs (also called computer control logic) are stored in main memory 906 and/or secondary memory 908. Computer programs may also be received via communications interface 920. Such computer programs, when executed, enable the computer system 900 to implement the present disclosure as discussed herein. In particular, the computer programs, when executed, enable processor 904 to implement the processes of the present disclosure, such as any of the methods described herein. Accordingly, such computer programs represent controllers of the computer system 900. Where the disclosure is implemented using software, the software may be stored in a computer program product and loaded into computer system 900 using removable storage drive 912, interface 914, or communications interface 920.</p><p id="p0085" num="0085">In another embodiment, features of the disclosure are implemented primarily in hardware using, for example, hardware components such as application-specific integrated circuits (ASICs) and gate arrays. Implementation of a hardware state machine so as to perform the functions described herein will also be apparent to persons skilled in the relevant art(s).</p><p id="p0086" num="0086">Embodiments have been described above with the aid of functional building blocks illustrating the implementation of specified functions and relationships thereof. The boundaries of these functional building blocks have been arbitrarily defined herein for the convenience of the description. Alternate boundaries can be defined so long as the specified functions and relationships thereof are appropriately performed.<!-- EPO <DP n="20"> --></p><p id="p0087" num="0087">The foregoing description of the specific embodiments will so fully reveal the general nature of the disclosure that others can, by applying knowledge within the skill of the art, readily modify and/or adapt for various applications such specific embodiments, without undue experimentation, without departing from the general concept of the present disclosure. Therefore, such adaptations and modifications are intended to be within the meaning and range of equivalents of the disclosed embodiments, based on the teaching and guidance presented herein. It is to be understood that the phraseology or terminology herein is for the purpose of description and not of limitation, such that the terminology or phraseology of the present specification is to be interpreted by the skilled artisan in light of the teachings and guidance.</p><p id="p0088" num="0088">The breadth and scope of embodiments of the present disclosure should not be limited by any of the above-described exemplary embodiments, but should be defined only in accordance with the following claims and their equivalents.</p></description><claims mxw-id="PCLM56976554" lang="EN" load-source="patent-office"><!-- EPO <DP n="21"> --><claim id="c-en-0001" num="0001"><claim-text>A method for position estimation, comprising:
<claim-text>receiving, at a device, first, second, and third signals, the first, second, and third signals transmitted from first, second, and third locations, respectively;</claim-text>
<claim-text>calculating first, second, and third round-trip delays from the first, second, and third signals, respectively;</claim-text>
<claim-text>calculating first, second, and third distance estimates based on the first, second, and third round-trip delays, respectively, wherein the first, second, and third distance estimates estimate distances from the device to the first, second, and third locations, respectively; and</claim-text>
<claim-text>computing a position estimate of the device based on the first, second, and third distance estimates.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The method of claim 1, wherein the device is a fixed access point or a mobile device.</claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The method of claim 1 or 2, wherein at least one of the first, second, and third signals is transmitted by a mobile device.</claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The method of any preceding claim, wherein the first, second, and third signals are transmitted by a same mobile device.</claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The method of any preceding claim, wherein at least one of the first, second, and third signals is transmitted by a fixed access point.<!-- EPO <DP n="22"> --></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The method of any preceding claim, wherein the device is a fixed access point, and wherein at least one of the first, second, and third signals is transmitted by another fixed access point.</claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The method of any preceding claim, wherein at least one of the first, second, and third signals includes a wireless local area network (WLAN) frame.</claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>The method of any preceding claim, wherein the first, second, and third signals include respectively first, second, and third position estimates, the first, second, and third position estimates associated respectively with the first, second, and third locations.</claim-text></claim><claim id="c-en-0009" num="0009"><claim-text>The method of claim 8, wherein computing the position estimate of the device comprises computing the position estimate based on the first, second, and third distance estimates and the first, second, and third position estimates.</claim-text></claim><claim id="c-en-0010" num="0010"><claim-text>A method for position estimation, comprising:
<claim-text>receiving, at a device, first and second signals, the first and second signals transmitted from first and second locations, respectively;</claim-text>
<claim-text>calculating first and second round-trip delays from the first and second signals, respectively;</claim-text>
<claim-text>calculating first and second distance estimates based on the first and second round-trip delays, respectively, wherein the first and second distance estimates estimate distances from the device to the first and second locations, respectively;<!-- EPO <DP n="23"> --></claim-text>
<claim-text>calculating first and second angles of arrival from the first and second signals, respectively; and</claim-text>
<claim-text>computing a position estimate of the device based on the first and second distance estimates and the first and second angles of arrival.</claim-text></claim-text></claim><claim id="c-en-0011" num="0011"><claim-text>The method of claim 10, wherein the first and second signals include respectively first and second position estimates, the first and second position estimates associated respectively with the first and second locations.</claim-text></claim><claim id="c-en-0012" num="0012"><claim-text>The method of claim 11, wherein computing the position estimate of the device comprises computing an azimuth angle of the device based on the first and second position estimates and the first and second angles of arrival.</claim-text></claim><claim id="c-en-0013" num="0013"><claim-text>The method of claim 12, wherein computing the position estimate of the device comprises computing the position estimate based on the azimuth angle, the first position estimate, and the first angle of arrival.</claim-text></claim><claim id="c-en-0014" num="0014"><claim-text>A positioning network, comprising:
<claim-text>a first device configured to receive a first signal from a mobile device and to calculate a first distance estimate to the mobile device;</claim-text>
<claim-text>a second device configured to receive a second signal from the mobile device and to calculate a second distance estimate to the mobile device; and</claim-text>
<claim-text>a third device configured to receive a third signal from the mobile device and to calculate a third distance estimate to the mobile device,<!-- EPO <DP n="24"> --></claim-text>
<claim-text>wherein the first device is further configured to compute a position estimate of the mobile device based on the first, second, and third distance estimates and position estimates of the first, second, and third devices.</claim-text></claim-text></claim><claim id="c-en-0015" num="0015"><claim-text>The positioning network of claim 14, wherein the first device is further configured to communicate the position estimate to the mobile device.</claim-text></claim></claims><drawings mxw-id="PDW16667333" load-source="patent-office"><!-- EPO <DP n="25"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="148" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="26"> --><figure id="f0002" num="2"><img id="if0002" file="imgf0002.tif" wi="148" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="27"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="148" he="209" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="28"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="148" he="177" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> --><figure id="f0005" num="5"><img id="if0005" file="imgf0005.tif" wi="148" he="177" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="148" he="177" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0007" num="7"><img id="if0007" file="imgf0007.tif" wi="148" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0008" num="8"><img id="if0008" file="imgf0008.tif" wi="148" he="183" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> --><figure id="f0009" num="9"><img id="if0009" file="imgf0009.tif" wi="148" he="233" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="154" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="159" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
