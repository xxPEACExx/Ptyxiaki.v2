<?xml version="1.0" encoding="UTF-8"?>
<patent-document ucid="EP-2680565-A1" country="EP" doc-number="2680565" kind="A1" date="20140101" family-id="48651876" file-reference-id="318319" date-produced="20180824" status="corrected" lang="EN"><bibliographic-data><publication-reference fvid="146549123" ucid="EP-2680565-A1"><document-id><country>EP</country><doc-number>2680565</doc-number><kind>A1</kind><date>20140101</date><lang>EN</lang></document-id></publication-reference><application-reference ucid="EP-13003087-A" is-representative="YES"><document-id mxw-id="PAPP154823046" load-source="docdb" format="epo"><country>EP</country><doc-number>13003087</doc-number><kind>A</kind><date>20130617</date><lang>EN</lang></document-id><document-id mxw-id="PAPP168045526" load-source="docdb" format="original"><country>EP</country><doc-number>13003087.7</doc-number><date>20130617</date><lang>EN</lang></document-id></application-reference><priority-claims><priority-claim mxw-id="PPC140448924" ucid="JP-2012142113-A" load-source="docdb"><document-id format="epo"><country>JP</country><doc-number>2012142113</doc-number><kind>A</kind><date>20120625</date></document-id></priority-claim></priority-claims><technical-data><classifications-ipcr><classification-ipcr mxw-id="PCL1988130794" load-source="docdb">H04N   1/409       20060101ALI20130814BHEP        </classification-ipcr><classification-ipcr mxw-id="PCL1988137821" load-source="docdb">H04N   1/393       20060101AFI20130814BHEP        </classification-ipcr></classifications-ipcr><classifications-cpc><classification-cpc mxw-id="PCL-2140414106" load-source="docdb" scheme="CPC">H04N   1/3935      20130101 LI20141105BHEP        </classification-cpc><classification-cpc mxw-id="PCL1988921087" load-source="docdb" scheme="CPC">H04N   1/4092      20130101 FI20140103BHEP        </classification-cpc></classifications-cpc><invention-title mxw-id="PT132179853" lang="DE" load-source="patent-office">Bildverarbeitungsvorrichtung und Bilderzeugungsvorrichtung</invention-title><invention-title mxw-id="PT132179854" lang="EN" load-source="patent-office">Image processing apparatus and image forming apparatus</invention-title><invention-title mxw-id="PT132179855" lang="FR" load-source="patent-office">Appareil de traitement d'images et appareil de formation dýimages</invention-title><citations><patent-citations><patcit mxw-id="PCIT242651893" load-source="docdb" ucid="DE-19506792-A1"><document-id format="epo"><country>DE</country><doc-number>19506792</doc-number><kind>A1</kind><date>19960905</date></document-id><sources><source name="SEA" category="X" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242651892" load-source="docdb" ucid="DE-4011758-A1"><document-id format="epo"><country>DE</country><doc-number>4011758</doc-number><kind>A1</kind><date>19901025</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242651894" load-source="docdb" ucid="EP-0497537-A2"><document-id format="epo"><country>EP</country><doc-number>0497537</doc-number><kind>A2</kind><date>19920805</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit><patcit mxw-id="PCIT242651895" load-source="docdb" ucid="JP-S5341115-A"><document-id format="epo"><country>JP</country><doc-number>S5341115</doc-number><kind>A</kind><date>19780414</date></document-id><sources><source name="SEA" category="A" created-by-npl="N"/></sources></patcit></patent-citations><non-patent-citations><nplcit><text>None</text><sources><source mxw-id="PNPL45130738" load-source="docdb" name="APP"/></sources></nplcit></non-patent-citations></citations></technical-data><parties><applicants><applicant mxw-id="PPAR918156669" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>KYOCERA DOCUMENT SOLUTIONS INC</last-name><address><country>JP</country></address></addressbook></applicant><applicant mxw-id="PPAR918134593" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>KYOCERA DOCUMENT SOLUTIONS INC.</last-name></addressbook></applicant><applicant mxw-id="PPAR918981992" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Kyocera Document Solutions Inc.</last-name><iid>101370346</iid><address><street>1-2-28, Tamatsukuri Chuo-ku</street><city>Osaka-shi, Osaka 540-8585</city><country>JP</country></address></addressbook></applicant></applicants><inventors><inventor mxw-id="PPAR918171892" load-source="docdb" sequence="1" format="epo"><addressbook><last-name>SATOMI SEIKI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918135762" load-source="docdb" sequence="1" format="intermediate"><addressbook><last-name>SATOMI, SEIKI</last-name></addressbook></inventor><inventor mxw-id="PPAR918987381" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>SATOMI, SEIKI</last-name><address><street>c/o Kyocera Document Solutions Inc. 1-2-28,Tamatsukuri Chuo-ku, Osaka-shi</street><city>Osaka 540-8585</city><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918167795" load-source="docdb" sequence="2" format="epo"><addressbook><last-name>MUTSUO TOSHIAKI</last-name><address><country>JP</country></address></addressbook></inventor><inventor mxw-id="PPAR918145667" load-source="docdb" sequence="2" format="intermediate"><addressbook><last-name>MUTSUO, TOSHIAKI</last-name></addressbook></inventor><inventor mxw-id="PPAR918993906" load-source="patent-office" sequence="2" format="original"><addressbook><last-name>MUTSUO, TOSHIAKI</last-name><address><street>c/o Kyocera Document Solutions Inc., 1-2-28, Tamatsukuri Chuo-ku</street><city>OSAKA-SHI, OSAKA, 540-8585</city><country>JP</country></address></addressbook></inventor></inventors><agents><agent mxw-id="PPAR918984125" load-source="patent-office" sequence="1" format="original"><addressbook><last-name>Schäfer, Matthias W.</last-name><iid>101094670</iid><address><street>Schwanseestrasse 43</street><city>81549 München</city><country>DE</country></address></addressbook></agent></agents></parties><international-convention-data><designated-states><ep-contracting-states><country mxw-id="DS548842804" load-source="docdb">AL</country><country mxw-id="DS548835884" load-source="docdb">AT</country><country mxw-id="DS548842806" load-source="docdb">BE</country><country mxw-id="DS548846135" load-source="docdb">BG</country><country mxw-id="DS548848119" load-source="docdb">CH</country><country mxw-id="DS548802273" load-source="docdb">CY</country><country mxw-id="DS548835885" load-source="docdb">CZ</country><country mxw-id="DS548842807" load-source="docdb">DE</country><country mxw-id="DS548802278" load-source="docdb">DK</country><country mxw-id="DS548802279" load-source="docdb">EE</country><country mxw-id="DS548801446" load-source="docdb">ES</country><country mxw-id="DS548846136" load-source="docdb">FI</country><country mxw-id="DS548846137" load-source="docdb">FR</country><country mxw-id="DS548842808" load-source="docdb">GB</country><country mxw-id="DS548802280" load-source="docdb">GR</country><country mxw-id="DS548842809" load-source="docdb">HR</country><country mxw-id="DS548835886" load-source="docdb">HU</country><country mxw-id="DS548848120" load-source="docdb">IE</country><country mxw-id="DS548802281" load-source="docdb">IS</country><country mxw-id="DS548846146" load-source="docdb">IT</country><country mxw-id="DS548802286" load-source="docdb">LI</country><country mxw-id="DS548846428" load-source="docdb">LT</country><country mxw-id="DS548835887" load-source="docdb">LU</country><country mxw-id="DS548846429" load-source="docdb">LV</country><country mxw-id="DS548846430" load-source="docdb">MC</country><country mxw-id="DS548844166" load-source="docdb">MK</country><country mxw-id="DS548844167" load-source="docdb">MT</country><country mxw-id="DS548835888" load-source="docdb">NL</country><country mxw-id="DS548801447" load-source="docdb">NO</country><country mxw-id="DS548848121" load-source="docdb">PL</country><country mxw-id="DS548846432" load-source="docdb">PT</country><country mxw-id="DS548835889" load-source="docdb">RO</country><country mxw-id="DS548846433" load-source="docdb">RS</country><country mxw-id="DS548848122" load-source="docdb">SE</country><country mxw-id="DS548846147" load-source="docdb">SI</country><country mxw-id="DS548801448" load-source="docdb">SK</country><country mxw-id="DS548848123" load-source="docdb">SM</country><country mxw-id="DS548844168" load-source="docdb">TR</country></ep-contracting-states><ep-extended-states><ep-extended-state-data><country>BA</country></ep-extended-state-data><ep-extended-state-data><country>ME</country></ep-extended-state-data></ep-extended-states></designated-states></international-convention-data></bibliographic-data><abstract mxw-id="PA128669793" lang="EN" load-source="patent-office"><p id="pa01" num="0001">An image processing apparatus (1) of the present invention includes: a step detecting unit (32) which detects a first step pixel and a second step pixel in the binary image and step directions of the first step pixel and the second step pixel; and an enlargement processing unit (33) which inverts pixel values of pixels from the first pixel value to the second pixel value in a pixel area corresponding to the first step pixel in the enlarged image, and inverts pixel values of pixels from the second pixel value to the first pixel Value in a pixel area corresponding to the second step pixel. The pixels of which pixel values are inverted are located at positions corresponding to its step direction. The number of the pixels of which pixel values are inverted corresponds to its step length in the binary image.
<img id="iaf01" file="imgaf001.tif" wi="86" he="103" img-content="drawing" img-format="tif"/></p></abstract><abstract mxw-id="PA128499166" lang="EN" source="EPO" load-source="docdb"><p>An image processing apparatus (1) of the present invention includes: a step detecting unit (32) which detects a first step pixel and a second step pixel in the binary image and step directions of the first step pixel and the second step pixel; and an enlargement processing unit (33) which inverts pixel values of pixels from the first pixel value to the second pixel value in a pixel area corresponding to the first step pixel in the enlarged image, and inverts pixel values of pixels from the second pixel value to the first pixel Value in a pixel area corresponding to the second step pixel. The pixels of which pixel values are inverted are located at positions corresponding to its step direction. The number of the pixels of which pixel values are inverted corresponds to its step length in the binary image.</p></abstract><description mxw-id="PDES63955223" lang="EN" load-source="patent-office"><!-- EPO <DP n="1"> --><heading id="h0001">BACKGROUND</heading><heading id="h0002">1. FIELD OF THE INVENTION</heading><p id="p0001" num="0001">The present invention relates to an image processing apparatus and an image forming apparatus.</p><heading id="h0003">2. DESCRIPTION OF THE RELATED ART</heading><p id="p0002" num="0002">Various techniques are proposed for smoothing a step part between two edges in an enlarged image when a binary image is enlarged.</p><p id="p0003" num="0003">An image processing apparatus identifies whether three black pixels forms either L shape or inverted L shape in a 2 x 2 pixel area in an original binary image, and if an edge extends from the L shape or the inverted L shape, determines pixel values of a pixel area (i.e. a 4 x 4 pixel area in an enlarged image) generated from the 2 x 2 pixel area by enlargement of twice on the basis of a length of the edge.</p><heading id="h0004">SUMMARY</heading><p id="p0004" num="0004">An image processing apparatus according to the present invention includes: a step detecting unit configured to detect a first step pixel and a second step pixel in the binary image and step directions of the first step pixel and the second step pixel, the first step pixel forming a step of a first pixel value, the second step pixel forming a step of a second pixel value that is an inverted value of the first pixel value; and an enlargement processing unit configured to invert pixel values of pixels from the first pixel value to the second pixel value in a pixel area corresponding to the first step pixel in the enlarged image, and invert pixel values of pixels from the second pixel value to the first pixel value in a pixel area corresponding to the second step pixel, the pixels of which pixel values are inverted from the first pixel value to the second pixel value being located at positions corresponding to the step direction, the<!-- EPO <DP n="2"> --> number of the pixels of which pixel values are inverted from the first pixel value to the second pixel value corresponding to the number of pixels that have same pixel values and are continuously arranged in line from the first pixel value in the binary image, the pixels of which pixel values are inverted from the second pixel value to the first pixel value being located in positions corresponding to the step direction, the number of the pixels of which pixel values are inverted from the second pixel value to the first pixel value corresponding to the number of pixels that have same pixel values and are continuously arranged in line from the second pixel value in the binary image.</p><p id="p0005" num="0005">Therefore, when a binary image is enlarged, smoothing is properly performed for respective ones of both a pixel area with one value among binary values and a pixel area with the other value among binary values.</p><p id="p0006" num="0006">An image forming apparatus according to the present invention includes an image processing apparatus configured to generate an enlarged image from a binary image with smoothing a neighborhood of a step between in two edges. The image processing apparatus includes: a step detecting unit configured to detect a first step pixel and a second step pixel in the binary image and step directions of the first step pixel and the second step pixel, the first step pixel forming a step of a first pixel value, the second step pixel forming a step of a second pixel value that is an inverted value of the first pixel value; and an enlargement processing unit configured to invert pixel values of pixels from the first pixel value to the second pixel value in a pixel area corresponding to the first step pixel in the enlarged image, and invert pixel values of pixels from the second pixel value to the first pixel value in a pixel area corresponding to the second step pixel, the pixels of which pixel values are inverted from the first pixel value to the second pixel value being located at positions corresponding to the step direction, the number of the pixels of which pixel values are inverted from the first pixel value to the second pixel value corresponding to the number of pixels that have same pixel values and are continuously arranged in line from the first pixel value in the binary image, the pixels of which pixel values are inverted from the second pixel value to the first pixel value being located at positions<!-- EPO <DP n="3"> --> corresponding to the step direction, the number of the pixels of which pixel values are inverted from the second pixel value to the first pixel value corresponding to the number of pixels that have same pixel values and are continuously arranged in line from the second pixel value in the binary image.</p><p id="p0007" num="0007">These and other objects, features and advantages of the present invention will become more apparent upon reading of the following detailed description along with the accompanied drawings.</p><heading id="h0005">BRIEF DESCRIPTION OF THE DRAWINGS</heading><p id="p0008" num="0008"><ul><li><figref idrefs="f0001">Fig. 1</figref> shows a block diagram which indicates a configuration of an image forming apparatus according to Embodiment 1 of the present invention;</li><li><figref idrefs="f0002">Figs. 2A to 2D</figref> show diagrams which indicate examples of a pixel value pattern and a prohibition pixel value pattern on a step direction in Embodiment 1;</li><li><figref idrefs="f0003">Fig. 3</figref> shows a diagram which indicates examples of a pixel value pattern and a prohibition pixel value pattern on eight Directions #1 to #8 in Embodiment 1;</li><li><figref idrefs="f0004">Fig. 4</figref> shows a diagram which indicates a pixel position of which a pixel value is inverted, corresponding to pixel value patterns of the eight directions shown in <figref idrefs="f0003">Fig. 3</figref> and step lengths of 1 to 3;</li><li><figref idrefs="f0005">Figs. 5A to 5D</figref> show diagrams which explain one or more pixel positions at which a pixel value is inverted when coinciding with a pixel value pattern shown in <figref idrefs="f0002">Figs. 2A to 2D</figref> (i.e. a pixel value pattern of the direction #1);</li><li><figref idrefs="f0006">Fig. 6</figref> shows a flowchart which explains a behavior of the image processing apparatus in Embodiment 1;</li><li><figref idrefs="f0007">Fig. 7A and Fig. 7B</figref> show diagrams which indicate an example of an original binary image and an enlarged image generated from the binary image by the image processing apparatus in Embodiment 1;</li><li><figref idrefs="f0008">Fig. 8A and Fig. 8B</figref> show diagrams which indicate another example of an original binary image and an enlarged image generated from the binary image by the image processing apparatus in Embodiment 1;</li><li><figref idrefs="f0009">Fig. 9A and Fig. 9B</figref> show diagrams which indicate another example of an<!-- EPO <DP n="4"> --> original binary image and an enlarged image generated from the binary image by the image processing apparatus in Embodiment 1;</li><li><figref idrefs="f0010">Fig. 10A and Fig. 10B</figref> show diagrams which indicate another example of an original binary image and an enlarged image generated from the binary image by the image processing apparatus in Embodiment 1;</li><li><figref idrefs="f0011">Fig. 11A and Fig. 11B</figref> show diagrams which indicates permission pixel value patterns corresponding to the pixel value patterns on eight directions #1 to #8 shown in <figref idrefs="f0003">Fig. 3</figref>; and</li><li><figref idrefs="f0012">Fig. 12A and Fig. 12B</figref> show diagrams which indicate an example of an original binary image and an enlarged image generated from the binary image by an image processing apparatus in Embodiment 2.</li></ul></p><heading id="h0006">DETAILED DESCRIPTION</heading><p id="p0009" num="0009">Hereinafter, an embodiment according to an aspect of the present invention will be explained with reference to drawings.</p><heading id="h0007">Embodiment 1.</heading><p id="p0010" num="0010"><figref idrefs="f0001">Fig. 1</figref> shows a block diagram which indicates a configuration of an image forming apparatus 1 according to Embodiment 1 of the present invention. The image forming apparatus 1 shown in <figref idrefs="f0001">Fig. 1</figref> is a multi function peripheral. The image forming apparatus 1 may be a printer, a copier, a facsimile machine, or the like.</p><p id="p0011" num="0011">This image forming apparatus 1 includes a printing device 11, an image scanning device 12, a facsimile device 13, and an image processing apparatus 14.</p><p id="p0012" num="0012">The printing device 11 is an internal device which prints a document image based on raster image data. For example, the printing device 11 prints a document image based on image data for which the image processing apparatus 14 has performed an enlargement process.<!-- EPO <DP n="5"> --></p><p id="p0013" num="0013">The image scanning device 12 is an internal device which optically scans a document image of a document and generates image data of the document image.</p><p id="p0014" num="0014">The facsimile device 13 is an internal device which generates a facsimile signal from image data of a document image to be transmitted and transmits the facsimile signal, and receives a facsimile signal and converts it to image data.</p><p id="p0015" num="0015">The image processing apparatus 14 performs image processing such as the enlargement process for image data generated by the image scanning device 12, the facsimile device 13 and so forth. In particular, the image processing apparatus 14 enlarges a binary image in a primary scanning direction and/or a secondary scanning direction. It should be noted that the enlargement of an image is the same meaning as increasing image resolution.</p><p id="p0016" num="0016">In Embodiment 1, the image processing apparatus 14 detects a pixel to be smoothed in an original binary image using pattern matching, and in an enlarged image of the original image, performs smoothing for a pixel area corresponding to the detected pixel.</p><p id="p0017" num="0017">The image processing apparatus 14 includes a processor 21 and a storage device 22. The processor 21 includes an ASIC (Application Specific Integrated Circuit) and/or a micro computer, and forms processing units. The storage device 22 is a non volatile storage device such as a flash memory.</p><p id="p0018" num="0018">The storage device 22 has stored pattern data 41 and prohibition pattern data 42 in advance. The pattern data 41 specifies (a) plural pixel value patterns corresponding to step directions and numbers of pixels (hereinafter, called "step length") that have same pixel values and are continuously arranged in line from a first step pixel and a second step pixel in the binary image and (b) one or more pixel positions in which a pixel value is inverted when coinciding with the pixel value pattern. The prohibition pattern data 42 specifies a prohibition pixel value pattern to prohibit inverting the pixel value on each step direction. The first step pixel is a step<!-- EPO <DP n="6"> --> of a first pixel value (e.g. 1 which indicates black), and the second step pixel is a step of a second pixel value (e.g. 0 which indicates white).</p><p id="p0019" num="0019"><figref idrefs="f0002">Figs. 2A to 2D</figref> show diagrams which indicate examples of a pixel value pattern and a prohibition pixel value pattern on a step direction in Embodiment 1.</p><p id="p0020" num="0020">The pixel value patterns and the prohibition pixel value pattern shown in <figref idrefs="f0002">Figs. 2A to 2D</figref> are for an enlargement magnification of 3 times; and the pixel value pattern shown in <figref idrefs="f0002">Fig. 2A</figref> is a pixel value pattern of the step length of 1, the pixel value pattern shown in <figref idrefs="f0002">Fig. 2B</figref> is a pixel value pattern of the step length of 2, the pixel value pattern shown in <figref idrefs="f0002">Fig. 2C</figref> is a pixel value pattern of the step length of 3, and the pixel value pattern shown in <figref idrefs="f0002">Fig. 2D</figref> is a prohibition pixel value pattern.</p><p id="p0021" num="0021">If an enlargement magnification is N, then when an objective pixel is either a first step pixel or a second step pixel, for one step direction, pixel value patterns having step lengths of 1 to N are used.</p><p id="p0022" num="0022">In <figref idrefs="f0002">Figs. 2A to 2D</figref>, a pixel 101 with a black star mark is an objective pixel, the pixel 101 with a black star mark and pixels 102 with black rectangle mars have same pixel values, a pixel 103 with a white star mark and pixels 104 with white rectangle mark have same pixel values, and the pixel values of the pixels 101 and 102 with respective black star and rectangle marks are different from the pixel values of the pixels 103 and 104 with respective white star and rectangle marks.</p><p id="p0023" num="0023">If an objective pixel has a pixel value of black, then the pixel value patterns shown in <figref idrefs="f0002">Figs. 2A to 2D</figref> are used as pixel value patterns in which the pixels 101, 102, and 105 with black marks in <figref idrefs="f0002">Figs. 2A to 2D</figref> have pixel values of black and the pixels 103, 104, and 106 with white marks have pixel values of white. Otherwise, if an objective pixel has a pixel value of white, then the pixel value patterns shown in <figref idrefs="f0002">Figs. 2A to 2D</figref> are used as pixel value patterns in which the pixels 101, 102, and 105 with black marks in <figref idrefs="f0002">Figs. 2A to 2D</figref> have pixel values of white and the pixels 103, 104, and 106 with white marks have pixel values of black.<!-- EPO <DP n="7"> --></p><p id="p0024" num="0024">In Embodiment 1, the pixel value patterns in the pattern data 41 includes a basic pixel value pattern. The basic pixel value pattern is a pixel value pattern having a step length of 1 (e.g. the pixel value pattern shown in <figref idrefs="f0002">Fig. 2A</figref>).</p><p id="p0025" num="0025">In the basic pixel value pattern, (a) a pixel value of an objective pixel 101 is equal to a pixel value of a first neighbor pixel 102 obliquely adjacent to the objective pixel 101, (b) a pixel value of a second neighbor pixel 104 adjacent to both of the objective pixel 101 and the first neighbor pixel 102 in either a primary scanning direction or a secondary scanning direction is equal to a pixel value of a third neighbor pixel 103 obliquely adjacent to the second neighbor pixel 104 and adjacent to the objective pixel 101 in either the primary scanning direction or the secondary scanning direction, and (c) the pixel value of the objective pixel 101 is not equal to the pixel value of the third neighbor pixel 103.</p><p id="p0026" num="0026">The prohibition pixel value pattern includes the basic pixel value pattern. In the prohibition pixel value pattern, (d) a pixel value of a fourth neighbor pixel 105 adjacent to both of the second neighbor pixel 104 and the third neighbor pixel 103 in either the primary scanning direction or the secondary scanning direction is not equal to the pixel value of the second neighbor pixel 104 and the third neighbor pixel 103, and (e) a pixel value of a fifth neighbor pixel 106 adjacent to both of the objective pixel 101 and the first neighbor pixel 102 in either the primary scanning direction or the secondary scanning direction is not equal to the pixel value of the objective pixel 101 and the first neighbor pixel 102. Therefore, as shown in <figref idrefs="f0002">Fig. 2D</figref> for example, the prohibition pixel value pattern appears at a crossing part of thin lines, and since smoothing is prohibited there on the basis of the prohibition pixel value pattern, such a crossing part of thin lines are preserved.</p><p id="p0027" num="0027"><figref idrefs="f0003">Fig. 3</figref> shows a diagram which indicates examples of a pixel value pattern and a prohibition pixel value pattern on eight Directions #1 to #8 in Embodiment 1. In <figref idrefs="f0003">Fig. 3</figref>, the pixel value patterns and the prohibition pixel value pattern of Direction #1 are the pixel value patterns and the prohibition pixel value pattern shown in <figref idrefs="f0002">Figs.<!-- EPO <DP n="8"> --> 2A to 2D</figref>. In the pattern matching, it is identified whether or not a pixel value pattern of pixels around an objective pixel is equal to each of these pixel value patterns.</p><p id="p0028" num="0028">Step lengths of the pixel value pattern of Direction #1, #3, #5, and #7 extend to a primary scanning direction. The step length of Direction #1 extends to a direction different from the direction to which the step length of Direction #3 extends. The step length of Direction #5 extends to a direction different from the direction to which the step length of Direction #7 extends.</p><p id="p0029" num="0029">Step lengths of the pixel value pattern of Direction #2, #4, #6, and #8 extend to a secondary scanning direction. The step length of Direction #2 extends to a direction different from the direction to which the step length of Direction #6 extends. The step length of Direction #4 extends to a direction different from the direction to which the step length of Direction #8 extends.</p><p id="p0030" num="0030"><figref idrefs="f0004">Fig. 4</figref> shows a diagram which indicates a pixel position of which a pixel value is inverted, corresponding to pixel value patterns of the eight directions shown in <figref idrefs="f0003">Fig. 3</figref> and step lengths of 1 to 3. In <figref idrefs="f0004">Fig. 4</figref>, a pixel with a circle mark is a pixel of which a pixel value is inverted.</p><p id="p0031" num="0031"><figref idrefs="f0005">Figs. 5A to 5D</figref> show diagrams which explain one or more pixel positions at which a pixel value is inverted when coinciding with a pixel value pattern shown in <figref idrefs="f0002">Figs. 2A to 2D</figref> (i.e. a pixel value pattern of the direction #1). The pixel value patterns shown in <figref idrefs="f0002">Figs. 2A to 2D</figref> are for an enlargement magnification of 3 times. Therefore, one pixel in an original binary image corresponds to a pixel area of 3 x 3 in an enlarged image of it.</p><p id="p0032" num="0032"><figref idrefs="f0005">Fig. 5A</figref> indicates pixel values of a pixel area in an enlarged image without coinciding with any of the pixel value patterns. In <figref idrefs="f0005">Figs. 5A to 5E</figref>, a hatched pixel has the same pixel value as a pixel value of an objective pixel in the original binary image.<!-- EPO <DP n="9"> --></p><p id="p0033" num="0033"><figref idrefs="f0005">Fig. 5B</figref> indicates pixel positions at which pixel values are inverted when a pixel value pattern around the objective pixel 101 coincides with the pixel value pattern shown in <figref idrefs="f0002">Fig. 2A</figref>. If a pixel value pattern around the objective pixel 101 coincides with the pixel value pattern with a step length of 1 shown in <figref idrefs="f0002">Fig. 2A</figref>, then a pixel value is inverted of one pixel of which the number is same as the step length, and this pixel is one of three pixels on the pixel 103 side in the pixel area.</p><p id="p0034" num="0034"><figref idrefs="f0005">Fig. 5C</figref> indicates pixel positions at which pixel values are inverted when a pixel value pattern around the objective pixel 101 coincides with the pixel value pattern shown in <figref idrefs="f0002">Fig. 2B</figref>. If a pixel value pattern around the objective pixel 101 coincides with the pixel value pattern with a step length of 2 shown in <figref idrefs="f0002">Fig. 2B</figref>, then pixel values are inverted of two pixels of which the number is same as the step length, and these pixels are two of three pixels on the pixel 103 side in the pixel area.</p><p id="p0035" num="0035"><figref idrefs="f0005">Fig. 5D</figref> indicates pixel positions at which pixel values are inverted when a pixel value pattern around the objective pixel 101 coincides with the pixel value pattern shown in <figref idrefs="f0002">Fig. 2C</figref>. If a pixel value pattern around the objective pixel 101 coincides with the pixel value pattern with a step length of 3 shown in <figref idrefs="f0002">Fig. 2C</figref>, then pixel values are inverted of three pixels of which the number is same as the step length, and these pixels are all of three pixels on the pixel 103 side in the pixel area.</p><p id="p0036" num="0036">For example, in <figref idrefs="f0003">Fig. 3</figref>, if a pixel value pattern around the objective pixel 101 coincides with both of the pixel value pattern of Direction #1 and the step length of 1 and the pixel value pattern of Direction #7 and the step length of 1, then as shown in <figref idrefs="f0005">Fig. 5E</figref>, pixel values are inverted at pixel positions corresponding to the respective pixel value patterns.</p><p id="p0037" num="0037">Further, the processor 21 forms processing units such as a control unit 31, a step detecting unit 32, and an enlargement processing unit 33. The processor 21 includes a memory (not shown), and stores data of a binary image before processing, data of an enlarge image after processing, and so forth in this memory.<!-- EPO <DP n="10"> --></p><p id="p0038" num="0038">The control unit 31 controls the step detecting unit 32 and the enlargement processing unit 33, and scans a pixel in turn along a primary scanning direction and a secondary scanning direction as an objective pixel.</p><p id="p0039" num="0039">The step detecting unit 32 detects a first step pixel and a second step pixel in the binary image and step directions of the first step pixel and the second step pixel. The first step pixel forms a step of a first pixel value (e.g. 1 which indicates black), and the second step pixel forms a step of a second pixel value (e.g. 0 which indicates white). The second pixel value is an inverted value of the first pixel value.</p><p id="p0040" num="0040">Here the step means a point at which two edges of either black or white connect with each other with a one-pixel shift in either a horizontal direction (in a primary scanning direction) or a vertical direction (in a secondary scanning direction).</p><p id="p0041" num="0041">The step detecting unit 32 uses a pixel value pattern in the pattern data 41 for detecting one of the first step pixel and the second step pixel and uses a pixel value pattern generated by inverting this pixel value pattern for detecting the other of the first step pixel and the second step pixel.</p><p id="p0042" num="0042">The enlargement processing unit 33 performs enlargement of the objective pixel. The enlargement processing unit 33 inverts pixel values of pixels from the first pixel value to the second pixel value in a pixel area corresponding to the first step pixel (e.g. a step pixel of black) in the enlarged image. The pixels of which pixel values are inverted from the first pixel value to the second pixel value are located at positions corresponding to its step direction. The number of the pixels of which pixel values are inverted from the first pixel value to the second pixel value corresponds to its step length. Further, the enlargement processing unit 33 inverts pixel values of pixels from the second pixel value to the first pixel value in a pixel area corresponding to the second step pixel (e.g. a step pixel of white). The pixels of which pixel values are inverted from the second pixel value to the first pixel value are located at positions corresponding to its step direction. The number of the pixels of which pixel values are inverted from the second pixel value to the first pixel value<!-- EPO <DP n="11"> --> corresponds to its step length.</p><p id="p0043" num="0043">In Embodiment 1, the step detecting unit 32 performs pattern matching on the basis of the pixel value pattern 41 to detect the first step pixel, its step direction and its step length, and to detect the second step pixel, its step direction and its step length. The enlargement processing unit 33 inverts a pixel value at the pixel position corresponding to the detected pixel value pattern in a pixel area in the enlarged image corresponding to the first step pixel and the second step pixel.</p><p id="p0044" num="0044">Further, in Embodiment 1, even if either the first step pixel or the second step pixel is detected, the enlargement processing unit 33 does not invert a pixel value at the pixel position corresponding to a step direction, if a pixel value pattern around either the detected first step pixel or the detected second step pixel coincides with the prohibition pixel value pattern corresponding to this step direction of either the detected first step pixel or the detected second step pixel.</p><p id="p0045" num="0045">The enlargement processing unit 33 inverts a pixel value at all of the pixel positions corresponding to two or more pixel value patterns in a pixel area in the enlarged image corresponding to an objective pixel, if the objective pixel is detected as the first step pixel and/or the second step pixel with all of the two or more pixel value pattern.</p><p id="p0046" num="0046">In the following part, a behavior of the aforementioned image processing apparatus 14 is explained. <figref idrefs="f0006">Fig. 6</figref> shows a flowchart which explains a behavior of the image processing apparatus 14 in Embodiment 1.</p><p id="p0047" num="0047">Firstly, the control unit 31 sets an objective pixel (Step S1). At first, in the first line, a head pixel in a primary scanning direction is selected as an objective pixel. Subsequently, in the first line, a next pixel in a primary scanning direction is selected as an objective pixel. As a next objective pixel of the last pixel in the primary scanning direction in a line, a head pixel in a primary scanning direction in a next line (e.g. the second line as a next line of the first line) is selected as an<!-- EPO <DP n="12"> --> objective pixel.</p><p id="p0048" num="0048">The step detecting unit 32 performs pattern matching for pixel values of pixels around the objective pixel. For example, if the enlargement magnification is 3 times, then this pattern matching uses pixel value patterns of the respective step lengths of 1, 2, and 3 and respective Directions #1 to #8 shown in <figref idrefs="f0003">Fig. 3</figref>.</p><p id="p0049" num="0049">Firstly, the step detecting unit 32 sets a step direction (Step S2). Here, one of Directions #1 to #8 is selected.</p><p id="p0050" num="0050">Subsequently, the step detecting unit 32 identifies whether or not a pixel value pattern of pixels around the objective pixel coincides with at least one of plural pixel value patterns with the different step lengths (e.g. if the enlargement magnification is 3 times, the step lengths of 1, 2, and 3) on this step direction in the pattern data 41 (Step S3).</p><p id="p0051" num="0051">If the pixel value pattern of pixels around the objective pixel coincides with at least one of plural pixel value patterns with the different step lengths on this step direction in the pattern data 41, then the step detecting unit 32 identifies whether or not the pixel value pattern of pixels around the objective pixel coincides with a prohibition pixel value pattern of this step direction in the prohibition pattern data 42 (Step S4).</p><p id="p0052" num="0052">If the pixel value pattern of pixels around the objective pixel does not coincide with a prohibition pixel value pattern of this step direction in the prohibition pattern data 42, then on the basis of the pattern data 41, the step detecting unit 32 identifies pixel positions corresponding to the pixel value pattern coinciding in Step S3 (Step S5).</p><p id="p0053" num="0053">It should be noted that if the pixel value pattern of pixels around the objective pixel coincides with pixel value patterns with plural step lengths on one step direction, then the step detecting unit 32 identifies pixel positions corresponding<!-- EPO <DP n="13"> --> to the pixel value pattern with the largest step length among the plural step lengths, and may not identify pixel positions corresponding to the pixel value pattern with the other step lengths among the plural step lengths.</p><p id="p0054" num="0054">Otherwise, if the pixel value pattern of pixels around the objective pixel does not coincide with any of the plural pixel value patterns with the different step lengths on this step direction in the pattern data 41, and if the pixel value pattern of pixels around the objective pixel coincides with a prohibition pixel value pattern of this step direction in the prohibition pattern data 42, then on this step direction, there are no pixels of which pixel values should be inverted in a pixel area corresponding to the objective pixel after enlargement.</p><p id="p0055" num="0055">Subsequently, when the process (in Steps S3 to S5) is finished on the step direction set in Step S2, the step detecting unit 32 identifies whether or not on all of Directions #1 to #8, the aforementioned process (in Steps S3 to S5) has been finished (Step S6). If there is at least one step direction which has not been processed, the step detecting unit 32 selects a step direction which has not been processed and performs the aforementioned process (in Steps S3 to S5) on the selected step direction.</p><p id="p0056" num="0056">As mentioned, on the respective Directions #1 to #8, it is identified whether a step exists or not and whether smoothing is permitted or not, and identified are pixel positions at which pixel values are inverted in a pixel area corresponding to the objective pixel after enlargement.</p><p id="p0057" num="0057">Subsequently, the enlargement processing unit 33 enlarges the objective pixel (Step S7). In the pixel area after enlargement, the enlargement processing unit 33 sets pixel values on the pixel positions identified in the aforementioned manner as an inverted value of a pixel value of the objective pixel, and sets pixel values on the other pixels as the pixel value of the objective pixel.</p><p id="p0058" num="0058">When the enlargement process is finished for the objective pixel, the control<!-- EPO <DP n="14"> --> unit 31 identifies whether or not the objective pixel is the last pixel in the last line (Step S8), and if the objective pixel is not the last pixel in the last line, sets a next objective pixel (Step S1).</p><p id="p0059" num="0059">Afterward, until the enlargement process is finished in the whole image, the process of Steps S1 to S8 is performed appropriately and repeatedly.</p><p id="p0060" num="0060"><figref idrefs="f0007">Fig. 7A and Fig. 7B</figref> show diagrams which indicate an example of an original binary image and an enlarged image generated from the binary image by the image processing apparatus 14 of Embodiment 1. <figref idrefs="f0007">Fig. 7A</figref> shows a diagram which indicates an example of an original binary image (a part) and <figref idrefs="f0007">Fig. 7B</figref> shows a diagram which indicates a 3 times enlarged image (a part) generated from the binary image shown in <figref idrefs="f0007">Fig. 7A</figref>.</p><p id="p0061" num="0061">For example, in the binary image shown in <figref idrefs="f0007">Fig. 7A</figref>, a neighboring pixel value pattern of a pixel 121 coincides with the pattern of Direction #7 and the step length of 3, a neighboring pixel value pattern of a pixel 122 coincides with the pattern of Direction #1 and the step length of 3, a neighboring pixel value pattern of a pixel 123 coincides with the pattern of Direction #7 and the step length of 3, and a neighboring pixel value pattern of a pixel 124 coincides with the pattern of Direction #1 and the step length of 3.</p><p id="p0062" num="0062">Therefore, as shown in <figref idrefs="f0007">Fig. 7B</figref>, in a pixel area corresponding to the pixel 121, pixel values of three pixels 131 are set as an inverted value of a pixel value of the pixel 121; in a pixel area corresponding to the pixel 122, pixel values of three pixels 132 are set as an inverted value of a pixel value of the pixel 122; in a pixel area corresponding to the pixel 123, pixel values of three pixels 133 are set as an inverted value of a pixel value of the pixel 123; and in a pixel area corresponding to the pixel 124, pixel values of three pixels 134 are set as an inverted value of a pixel value of the pixel 124.</p><p id="p0063" num="0063"><figref idrefs="f0008">Fig. 8A and Fig. 8B</figref> show diagrams which indicate another example of an<!-- EPO <DP n="15"> --> original binary image and an enlarged image generated from the binary image by the image processing apparatus 14 of Embodiment 1. <figref idrefs="f0008">Fig. 8A</figref> shows a diagram which indicates an example of an original binary image (a part) and <figref idrefs="f0008">Fig. 8B</figref> shows a diagram which indicates a 3 times enlarged image (a part) generated from the binary image shown in <figref idrefs="f0008">Fig. 8A</figref>.</p><p id="p0064" num="0064">For example, in the binary image shown in <figref idrefs="f0008">Fig. 8A</figref>, a neighboring pixel value pattern of a pixel 141 coincides with the pattern of Direction #3 and the step length of 1 and the pattern of Direction #5 and the step length of 1. Therefore, as shown in <figref idrefs="f0008">Fig. 8B</figref>, in a pixel area corresponding to the pixel 141, pixel values of two pixels 151 are set as an inverted value of a pixel value of the pixel 141. One of the two pixels 151 is a pixel corresponding to the pattern of Direction #3 and the step length of 1 and the other of the two pixels 151 is a pixel corresponding to the pattern of Direction #5 and the step length of 1.</p><p id="p0065" num="0065">Further, a neighboring pixel value pattern of a pixel 142 in the original binary image coincides with the pattern of Direction #5 and the step length of 3. Therefore, in a pixel area corresponding to the pixel 142, pixel values of three pixels 152 corresponding to the pattern of Direction #5 and the step length of 3 are set as an inverted value of a pixel value of the pixel 142.</p><p id="p0066" num="0066">Furthermore, a neighboring pixel value pattern of a pixel 143 in the original binary image coincides with the pattern of Direction #3 and the step length of 1, the pattern of Direction #4 and the step length of 1, the pattern of Direction #7 and the step length of 1, and the pattern of Direction #8 and the step length of 1. However, the neighboring pixel value pattern of the pixel 143 in the original binary image also coincides with the prohibition pixel value patterns of Direction #3 and Direction #7. Therefore, as shown in <figref idrefs="f0008">Fig. 8B</figref>, in a pixel area corresponding to the pixel 143, pixel values of only two pixels 153 are set as an inverted value of a pixel value of the pixel 143. One of the two pixels 153 is a pixel corresponding to the pattern of Direction #4 and the step length of 1 and the other of the two pixels 153 is a pixel corresponding to the pattern of Direction #8 and the step length of 1.<!-- EPO <DP n="16"> --></p><p id="p0067" num="0067">Furthermore, a neighboring pixel value pattern of a pixel 144 in the original binary image coincides with the pattern of Direction #1 and the step length of 1, and the pattern of Direction #5 and the step length of 1. However, the neighboring pixel value pattern of the pixel 144 in the original binary image also coincides with the prohibition pixel value patterns of Direction #1 and Direction #5. Therefore, in a pixel area 154 corresponding to the pixel 144, neither inverting pixel values corresponding to the pattern of Direction #1 and the step length of 1 nor inverting pixel values corresponding to the pattern of Direction #5 and the step length of 1 is performed.</p><p id="p0068" num="0068"><figref idrefs="f0009">Fig. 9A and Fig. 9B</figref> show diagrams which indicate another example of an original binary image and an enlarged image generated from the binary image by the image processing apparatus 14 of Embodiment 1. <figref idrefs="f0009">Fig. 9A</figref> shows a diagram which indicates an example of an original binary image (a part) and <figref idrefs="f0009">Fig. 9B</figref> shows a diagram which indicates a 3 times enlarged image (a part) generated from the binary image shown in <figref idrefs="f0009">Fig. 9A</figref>.</p><p id="p0069" num="0069">For example, in the binary image shown in <figref idrefs="f0009">Fig. 9A</figref>, a neighboring pixel value pattern of a pixel 161 coincides with the pattern of Direction #1 and the step length of 1, the pattern of Direction #2 and the step length of 1, the pattern of Direction #4 and the step length of 1, the pattern of Direction #5 and the step length of 1, the pattern of Direction #7 and the step length of 1, and the pattern of Direction #8 and the step length of 1. However, the neighboring pixel value pattern of the pixel 161 in the original binary image also coincides with the prohibition pixel value patterns of Direction #1, Direction #2, Direction #4, and Direction #5, and therefore, as shown in <figref idrefs="f0009">Fig. 9B</figref>, in a pixel area corresponding to the pixel 161, a pixel value of only one pixel 171 is set as an inverted value of a pixel value of the pixel 161. The pixel 171 is a pixel corresponding to the pattern of Direction #7 and the step length of 1 and Direction #8 and the step length of 1.</p><p id="p0070" num="0070"><figref idrefs="f0010">Fig. 10A and Fig. 10B</figref> show diagrams which indicate another example of an original binary image and an enlarged image generated from the binary image by<!-- EPO <DP n="17"> --> the image processing apparatus 14 of Embodiment 1. <figref idrefs="f0010">Fig. 10A</figref> shows a diagram which indicates an example of an original binary image (a part) and <figref idrefs="f0010">Fig. 10B</figref> shows a diagram which indicates a 3 times enlarged image (a part) generated from the binary image shown in <figref idrefs="f0008">Fig. 8A</figref>.</p><p id="p0071" num="0071">For example, in the binary image shown in <figref idrefs="f0010">Fig. 10A</figref>, a neighboring pixel value pattern of a pixel 181 coincides with the pattern of Direction #1 and the step length of 1, the pattern of Direction #2 and the step length of 1,the pattern of Direction #3 and the step length of 1, the pattern of Direction #4 and the step length of 1, the pattern of Direction #5 and the step length of 1, the pattern of Direction #6 and the step length of 1, the pattern of Direction #7 and the step length of 1, and the pattern of Direction #8 and the step length of 1. However, the neighboring pixel value pattern of the pixel 181 in the original binary image also coincides with the prohibition pixel value patterns of Direction #1 to Direction #8. Therefore, as shown in <figref idrefs="f0010">Fig. 10B</figref>, in a pixel area 191 corresponding to the pixel 181, no pixel values are inverted.</p><p id="p0072" num="0072">As mentioned, in Embodiment 1, the step detecting unit 32 detects a first step pixel and a second step pixel in the binary image and step directions of the first step pixel and the second step pixel. The first step pixel forms a step of a first pixel value, and the second step pixel forms a step of a second pixel value that is an inverted value of the first pixel value. The enlargement processing unit 33 inverts pixel values of pixels from the first pixel value to the second pixel value in a pixel area corresponding to the first step pixel in the enlarged image. The pixels of which pixel values are inverted from the first pixel value to the second pixel value are located at positions corresponding to the step direction. The number of the pixels of which pixel values are inverted from the first pixel value to the second pixel value corresponds to its step length. Further, the enlargement processing unit 33 inverts pixel values of pixels from the second pixel value to the first pixel value in a pixel area corresponding to the second step pixel. The pixels of which pixel values are inverted from the second pixel value to the first pixel value are located at positions corresponding to the step direction. The number of the pixels of which pixel values<!-- EPO <DP n="18"> --> are inverted from the second pixel value to the first pixel value corresponds to its step length.</p><p id="p0073" num="0073">Therefore, when a binary image is enlarged, smoothing is properly performed for respective ones of both a pixel area with one value among binary values and a pixel area with the other value among binary values.</p><heading id="h0008">Embodiment 2.</heading><p id="p0074" num="0074">In an image forming apparatus of Embodiment 2 according to the present invention, the image processing apparatus 14 uses a permission pixel value pattern to permit inverting a pixel value instead of the prohibition pixel value pattern, and performs smoothing (i.e. inverting a pixel value) only if a pixel value pattern around an objective pixel coincides with the permission pixel value pattern.</p><p id="p0075" num="0075">In Embodiment 2, in the storage device 22, permission pattern data which specifies a permission pixel value pattern to permit inverting a pixel value on each step direction is stored in advance. Even if either the first step pixel or the second step pixel is detected, the enlargement processing unit 33 does not invert a pixel value in the pixel position corresponding to a step direction, if a pixel value pattern around either the detected first step pixel or the detected second step pixel does not coincide with the permission pixel value pattern corresponding to the step direction of either the detected first step pixel or the detected second step pixel.</p><p id="p0076" num="0076"><figref idrefs="f0011">Fig. 11A and Fig. 11B</figref> show diagrams which indicate permission pixel value patterns corresponding to the pixel value patterns on eight Directions #1 to #8 shown in <figref idrefs="f0003">Fig. 3</figref>.</p><p id="p0077" num="0077">As shown in <figref idrefs="f0011">Fig. 11</figref>, in Embodiment 2, two permission pixel value patterns are set on each step direction; and a pixel value is inverted only if pixel value pattern around an objective pixel coincides with one of the permission pixel value patterns and coincides with one of the pixel value patterns with the respective step lengths (in<!-- EPO <DP n="19"> --> <figref idrefs="f0003">Fig. 3</figref>).</p><p id="p0078" num="0078">In Embodiment 2, pixels 201 to 216 in the permission pixel value pattern #2 shown in <figref idrefs="f0011">Fig. 11</figref> are used only if a pixel value of an objective pixel is a value which indicates black. Consequently, a pixel area of black is processed more preferentially than a pixel area of white.</p><p id="p0079" num="0079"><figref idrefs="f0012">Fig. 12A and Fig. 12B</figref> show diagrams which indicate an example of an original binary image and an enlarged image generated from the binary image by an image processing apparatus in Embodiment 2. <figref idrefs="f0012">Fig. 12A</figref> shows a diagram which indicates an example of an original binary Image (a part) and <figref idrefs="f0012">Fig. 12B</figref> shows a diagram which indicates a 3 times enlarged image (a part) generated from the binary image shown in <figref idrefs="f0012">Fig. 12A</figref>.</p><p id="p0080" num="0080">When the permission pixel value patterns shown in <figref idrefs="f0011">Fig. 11</figref> are used, in <figref idrefs="f0012">Fig. 12A and Fig. 12B</figref>, no pixel values are inverted in a pixel area 231 corresponding to a pixel at a connecting part of a black thin line, and therefore, the connecting part of a black thin line has favorable image quality.</p><p id="p0081" num="0081">Other parts of configuration and actions of the image processing apparatus 14 in Embodiment 2 are identical to those in Embodiment 1, and therefore, it is not explained here.</p><p id="p0082" num="0082">As mentioned, in Embodiment 2, inverting a pixel value on each step direction is permitted on the basis of the permission pixel value pattern, and consequently, in an enlarged image a pixel area corresponding to a step pixel has favorable image quality after smoothing.</p><p id="p0083" num="0083">The description of the present invention has been presented for purposes of illustration and description, and is not intended to be exhaustive or limited to the invention in the form disclosed.<!-- EPO <DP n="20"> --></p><p id="p0084" num="0084">For example, although the respective embodiments show a case of the enlargement magnification of 3 times, the enlargement magnification is not limited to 3 times. Further, plural sets of pattern data and either prohibition pattern data or permission pattern data corresponding to respective plural enlargement magnifications may be stored in the storage device 22 in advance, and a set of the pattern data and either the prohibition pattern data or the permission pattern data selected by a user for example among the plural sets may be selected and used.</p><p id="p0085" num="0085">It should be understood that various changes and modifications to the embodiments described herein will be apparent to those skilled in the art. Such changes and modifications may be made without departing from the spirit and scope of the present subject matter and without diminishing its intended advantages. It is therefore intended that such changes and modifications be covered by the appended claims.</p></description><claims mxw-id="PCLM56976136" lang="EN" load-source="patent-office"><!-- EPO <DP n="21"> --><claim id="c-en-0001" num="0001"><claim-text>An image processing apparatus generating an enlarged image from a binary image with smoothing a neighborhood of a step between two edges, comprising:
<claim-text>a step detecting unit configured to detect a first step pixel and a second step pixel in the binary image and step directions of the first step pixel and the second step pixel, the first step pixel forming a step of a first pixel value, the second step pixel forming a step of a second pixel value that is an inverted value of the first pixel value; and</claim-text>
<claim-text>an enlargement processing unit configured to invert pixel values of pixels from the first pixel value to the second pixel value in a pixel area corresponding to the first step pixel in the enlarged image, and invert pixel values of pixels from the second pixel value to the first pixel value in a pixel area corresponding to the second step pixel, the pixels of which pixel values are inverted from the first pixel value to the second pixel value being located at positions corresponding to the step direction, the number of the pixels of which pixel values are inverted from the first pixel value to the second pixel value corresponding to the number of pixels that have same pixel values and are continuously arranged in line from the first pixel value in the binary image, the pixels of which pixel values are inverted from the second pixel value to the first pixel value being located at positions corresponding to the step direction, the number of the pixels of which pixel values are inverted from the second pixel value to the first pixel value corresponding to the number of pixels that have same pixel values and are continuously arranged in line from the second pixel value in the binary image.</claim-text></claim-text></claim><claim id="c-en-0002" num="0002"><claim-text>The image processing apparatus according to claim 1, further comprising:
<claim-text>pattern data that specifies (a) plural pixel value patterns corresponding to the step direction and the number of pixels that have same pixel values and are continuously arranged in line from the first step pixel and the second step pixel in the binary image and (b) one or more pixel positions at which a pixel value is inverted when coinciding with the pixel value pattern;<br/>
wherein the step detecting unit is further configured to perform pattern matching on the basis of the pixel value pattern to detect the first step pixel, the step<!-- EPO <DP n="22"> --> direction and the number of pixels that have same pixel values and are continuously arranged in line from the first pixel value, and to detect the second step pixel, the step direction, and the number of pixels that have same pixel values and are continuously arranged in line from the second pixel value; and</claim-text>
<claim-text>the enlargement processing unit is further configured to invert a pixel value at the pixel position corresponding to the detected pixel value pattern in a pixel area in the enlarged image corresponding to the first step pixel and the second step pixel.</claim-text></claim-text></claim><claim id="c-en-0003" num="0003"><claim-text>The image processing apparatus according to claim 2, further comprising:
<claim-text>prohibition pattern data that specifies a prohibition pixel value pattern to prohibit inverting the pixel value on each step direction;<br/>
wherein the enlargement processing unit is further configured not to invert a pixel value at the pixel position corresponding to a step direction if a pixel value pattern around either the detected first step pixel or the detected second step pixel coincides with the prohibition pixel value pattern corresponding to the step direction of either the detected first step pixel or the detected second step pixel, even if either the first step pixel or the second step pixel is detected.</claim-text></claim-text></claim><claim id="c-en-0004" num="0004"><claim-text>The image processing apparatus according to claim 3, wherein:
<claim-text>the pixel value pattern in the pattern data includes a basic pixel value pattern; and</claim-text>
<claim-text>in the basic pixel value pattern, (a) a pixel value of an objective pixel is equal to a pixel value of a first neighbor pixel obliquely adjacent to the objective pixel, (b) a pixel value of a second neighbor pixel adjacent to both of the objective pixel and the first neighbor pixel in either a primary scanning direction or a secondary scanning direction is equal to a pixel value of a third neighbor pixel obliquely adjacent to the second neighbor pixel and adjacent to the objective pixel in either the primary scanning direction or the secondary scanning direction, and (c) the pixel value of the objective pixel is not equal to the pixel value of the third neighbor pixel; and</claim-text>
<claim-text>in the prohibition pixel value pattern, (d) a pixel value of a fourth neighbor pixel adjacent to both of the second neighbor pixel and the third neighbor pixel in either the primary scanning direction or the secondary scanning direction is not<!-- EPO <DP n="23"> --> equal to the pixel value of the second neighbor pixel and the third neighbor pixel, and (e) a pixel value of a fifth neighbor pixel adjacent to both of the objective pixel and the first neighbor pixel in either the primary scanning direction or the secondary scanning direction is not equal to the pixel value of the objective pixel and the first neighbor pixel.</claim-text></claim-text></claim><claim id="c-en-0005" num="0005"><claim-text>The image processing apparatus according to claim 2, wherein:
<claim-text>the enlargement processing unit is further configured to invert a pixel value at all of the pixel positions corresponding to two or more pixel value patterns in a pixel area in the enlarged image corresponding to an objective pixel if the objective pixel is detected as the first step pixel and/or the second step pixel with all of the two or more pixel value pattern.</claim-text></claim-text></claim><claim id="c-en-0006" num="0006"><claim-text>The image processing apparatus according to claim 2, wherein:
<claim-text>the step detecting unit is further configured to use an original pixel value pattern for detecting one of the first step pixel and the second step pixel, and use a pixel value generated by inverting the original pixel value pattern for detecting the other of the first step pixel and the second step pixel.</claim-text></claim-text></claim><claim id="c-en-0007" num="0007"><claim-text>The image processing apparatus according to claim 2, further comprising:
<claim-text>permission pattern data that specifies a permission pixel value pattern to permit inverting the pixel value on each step direction;<br/>
wherein the enlargement processing unit is further configured not to invert a pixel value in the pixel position corresponding to a step direction if a pixel value pattern around either the detected first step pixel or the detected second step pixel does not coincide with the permission pixel value pattern corresponding to the step direction of either the detected first step pixel or the detected second step pixel, even if either the first step pixel or the second step pixel is detected.</claim-text></claim-text></claim><claim id="c-en-0008" num="0008"><claim-text>An image forming apparatus, comprising an image processing apparatus according to any of claims 1 to 7.</claim-text></claim></claims><drawings mxw-id="PDW16666921" load-source="patent-office"><!-- EPO <DP n="24"> --><figure id="f0001" num="1"><img id="if0001" file="imgf0001.tif" wi="161" he="201" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="25"> --><figure id="f0002" num="2A,2B,2C,2D"><img id="if0002" file="imgf0002.tif" wi="155" he="226" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="26"> --><figure id="f0003" num="3"><img id="if0003" file="imgf0003.tif" wi="152" he="230" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="27"> --><figure id="f0004" num="4"><img id="if0004" file="imgf0004.tif" wi="118" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="28"> --><figure id="f0005" num="5A,5B,5C,5D,5E"><img id="if0005" file="imgf0005.tif" wi="146" he="218" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="29"> --><figure id="f0006" num="6"><img id="if0006" file="imgf0006.tif" wi="147" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="30"> --><figure id="f0007" num="7A,7B"><img id="if0007" file="imgf0007.tif" wi="152" he="221" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="31"> --><figure id="f0008" num="8A,8B"><img id="if0008" file="imgf0008.tif" wi="137" he="232" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="32"> --><figure id="f0009" num="9A,9B"><img id="if0009" file="imgf0009.tif" wi="130" he="222" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="33"> --><figure id="f0010" num="10A,10B"><img id="if0010" file="imgf0010.tif" wi="134" he="231" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="34"> --><figure id="f0011" num="11"><img id="if0011" file="imgf0011.tif" wi="118" he="233" img-content="drawing" img-format="tif"/></figure><!-- EPO <DP n="35"> --><figure id="f0012" num="12A,12B"><img id="if0012" file="imgf0012.tif" wi="132" he="233" img-content="drawing" img-format="tif"/></figure></drawings><search-report-data><doc-page id="srep0001" file="srep0001.tif" wi="161" he="233" type="tif"/><doc-page id="srep0002" file="srep0002.tif" wi="156" he="233" type="tif"/></search-report-data><copyright>User acknowledges that Fairview Research LLC and its third party providers retain all right, title and interest in and to this xml under applicable copyright laws.  User acquires no ownership rights to this xml including but not limited to its format.  User hereby accepts the terms and conditions of the Licence Agreement</copyright></patent-document>
